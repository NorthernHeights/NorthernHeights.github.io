System.register("chunks:///_virtual/AdButtonShower.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"a177emXSo9ASbBZom6fcdr7","AdButtonShower",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/AdsEvents.ts",["cc"],(function(s){"use strict";var d;return{setters:[function(s){d=s.cclegacy}],execute:function(){var e;s("AdsEvents",void 0),d._RF.push({},"c703cP/uGhDvZ1pTA7fJayh","AdsEvents",void 0),function(s){s[s.AdsEvents_ShowAd=0]="AdsEvents_ShowAd",s[s.AdsEvents_LoadAd=1]="AdsEvents_LoadAd",s[s.AdsEvents_AdLoaded=2]="AdsEvents_AdLoaded",s[s.AdsEvents_AdShowed=3]="AdsEvents_AdShowed",s[s.AdsEvents_AdFailedToShow=4]="AdsEvents_AdFailedToShow"}(e||(e=s("AdsEvents",{}))),d._RF.pop()}}}));

System.register("chunks:///_virtual/animation-curve.ts",["cc"],(function(e){"use strict";var n,t,r;return{setters:[function(e){n=e.cclegacy,t=e.CurveRange,r=e.geometry}],execute:function(){function u(e,n,t,u){void 0===t&&(t=0),void 0===u&&(u=0);var c=new r.Keyframe;return c.time=e,c.value=n,c.inTangent=t,c.outTangent=u,c}n._RF.push({},"6e273txUKRNG6K/6j/PEtnf","animation-curve",void 0);e("default",function(){function e(){}return e.linear=function(e,n,r,c){var a=(c-n)/(r-e),o=new t;return o.mode=t.Mode.Curve,o.curve.keyFrames.length=0,e===r?o.curve.addKey(u(e,n)):(o.curve.addKey(u(e,n,0,a)),o.curve.addKey(u(r,c,a,0))),o},e.easeInOut=function(e,n,r,c){var a=new t;return a.mode=t.Mode.Curve,a.curve.keyFrames.length=0,e===r?a.curve.addKey(u(e,n)):(a.curve.addKey(u(e,n,0,0)),a.curve.addKey(u(r,c,0,0))),a},e.constant=function(e){var n=new t;return n.constant=e,n},e.one=function(){return this.constant(1)},e.zero=function(){return this.constant(0)},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationEnums.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var i;e("AnimationVariableType",void 0),n._RF.push({},"204fa/ah2NNe4Que8jUVKma","AnimationEnums",void 0),function(e){e[e.None=0]="None",e[e.Trigger=1]="Trigger",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number"}(i||(i=e("AnimationVariableType",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationEventRaiser.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,n,e,r,o,a,s,c,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.createClass,e=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,c=t.EventHandler,u=t.Component}],execute:function(){var l,p,f,v,y,b,h,m,_,E,d,g;a._RF.push({},"53d3fTbnFxPOLwJ9KE2Kruy","AnimationEventRaiser",void 0);var A=s.ccclass,k=s.property,R=(l=A("Data"),p=k({visible:!0}),f=k({type:c,visible:!0}),l((b=i((y=function(){function t(){r(this,"_key",b,this),r(this,"_actions",h,this)}return t.prototype.callActions=function(){c.emitEvents(this._actions)},n(t,[{key:"key",get:function(){return this._key}}]),t}()).prototype,"_key",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=i(y.prototype,"_actions",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=y))||v);t("AnimationEventRaiser",(m=A("AnimationEventRaiser"),_=k({type:R,visible:!0}),m((g=i((d=function(t){function i(){for(var i,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return i=t.call.apply(t,[this].concat(e))||this,r(i,"_animationEvents",g,o(i)),i}return e(i,t),i.prototype.raiseAnimationEvent=function(t){var i=this._animationEvents.find((function(i){return i.key===t}));void 0!==i&&i.callActions()},i}(u)).prototype,"_animationEvents",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=d))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationGraphHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./AnimationEnums.ts"],(function(t){"use strict";var e,i,n,a,r,o,s,l,u,m,c,h,p,f,_,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose,o=t.createClass},function(t){s=t.cclegacy,l=t._decorator,u=t.animation,m=t.EventTouch,c=t.Node,h=t.Component},function(t){p=t.logger,f=t.LogCategory,_=t.LogType},function(t){g=t.AnimationVariableType}],execute:function(){var d,b,A,y,v,T,C;s._RF.push({},"2022ebMdchE2pNL1SpqTm8g","AnimationGraphHelper",void 0);var V=l.ccclass,O=l.property;t("AnimationGraphHelper",(d=V("AnimationGraphHelper"),b=O({type:u.AnimationController,visible:!0}),A=O({visible:!0}),d((T=e((v=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"_animator",T,a(e)),n(e,"_debug",C,a(e)),e._lastClipName=null,e._animQueue=[],e}i(e,t);var s=e.prototype;return s.start=function(){this.isAnimatorReady()},s.update=function(){if(this._animator&&(this.isAnimatorReady()&&this._animQueue.length>0&&(this._animQueue[0].call(),this._animQueue.splice(0,1)),this._debug)){for(var t,e=this._animator.getCurrentClipStatuses(0),i=!1,n=this.node.name+" - Animation Clip: ",a=r(e);!(t=a()).done;){var o=t.value;this._lastClipName!==o.clip.name&&(n+=o.clip.name,this._lastClipName=o.clip.name,i=!0)}for(var s,l=this._animator.getVariables(),u=r(l);!(s=u()).done;){var m=s.value,c=m[0];m[1];n+="\n"+c+" = "+this._animator.getValue(c)}i&&p.log(n)}},s.onDestroy=function(){this.unscheduleAllCallbacks()},s.setTrigger=function(t,e){var i=this;this.isAnimatorReady()?t instanceof m?(this._debug&&p.log("Animation clip: Set "+e),this.scheduleOnce((function(){return i._animator.setValue(e,!0)}),this._frameTime)):"string"==typeof t?(this._debug&&p.log("Animation clip: Set "+t),this.scheduleOnce((function(){return i._animator.setValue(t,!0)}),this._frameTime)):(this._debug&&p.log("Animation clip: Set "+e),this.scheduleOnce((function(){return i._animator.setValue(e,!0)}),this._frameTime)):this._animQueue.push({call:function(){return i.setTrigger(t,e)}})},s.setInt=function(t,e){var i=this;if(this.isAnimatorReady()){var n=e.split(",");this._debug&&p.log("Animation clip: Set "+n[0]+" to: "+n[1]),this.scheduleOnce((function(){return i._animator.setValue(n[0],Number.parseInt(n[1]))}),this._frameTime)}else this._animQueue.push({call:function(){return i.setInt(t,e)}})},s.setFloat=function(t,e){var i=this;if(this.isAnimatorReady()){var n=e.split(",");this._debug&&p.log("Animation clip: Set "+n[0]+" to: "+n[1]),this.scheduleOnce((function(){return i._animator.setValue(n[0],Number.parseFloat(n[1]))}),this._frameTime)}else this._animQueue.push({call:function(){return i.setFloat(t,e)}})},s.setBool=function(t,e){var i=this;if(this.isAnimatorReady())if("string"==typeof t)this.setBool(null,t);else{var n=e.split(",");this._debug&&p.log("Animation clip: Set "+n[0]+" to: "+n[1]),this.scheduleOnce((function(){i._animator.setValue(n[0],"true"===n[1])}),this._frameTime)}else this._animQueue.push({call:function(){return i.setBool(t,e)}})},s.setVariable=function(t){switch(t.animParamType){case g.Boolean:this.setBool(null,t.animParam+" , "+t.paramValue);break;case g.Trigger:this.setTrigger(t.animParam,null);break;case g.Number:this.setInt(null,t.animParam+" , "+t.paramValue)}},s.setTargetAnimator=function(t){t instanceof c?this._animator=t.getComponent(u.AnimationController):t instanceof u.AnimationController&&(this._animator=t)},s.turnAnimatorOn=function(){this._animator.enabled=!0},s.turnAnimatorOff=function(){this._animator.enabled=!1},s.isAnimatorReady=function(){return this._animator?null!=this._animator&&this._animator._isOnLoadCalled>0||null!=this._animator._graphEval:(p.log(e.name+" animator is null in "+this.node.name,f.Generic,_.Error),!1)},o(e,[{key:"_frameTime",get:function(){return.1}}]),e}(h)).prototype,"_animator",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(v.prototype,"_debug",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=v))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationHelperVariable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimationEnums.ts"],(function(i){"use strict";var e,r,a,n,t,l;return{setters:[function(i){e=i.applyDecoratedDescriptor,r=i.initializerDefineProperty},function(i){a=i.cclegacy,n=i._decorator,t=i.Enum},function(i){l=i.AnimationVariableType}],execute:function(){var o,u,p,c,s,m,b,f,y;a._RF.push({},"7f86fBkr0NPC6FhOPx3u8fS","AnimationHelperVariable",void 0);var h=n.ccclass,v=n.property;i("AnimationHelperVariable",(o=h("AnimationHelperVariable"),u=v({visible:!0,type:t(l)}),p=v({visible:!0}),c=v({visible:!0}),o((b=e((m=function(){r(this,"animParamType",b,this),r(this,"animParam",f,this),r(this,"paramValue",y,this)}).prototype,"animParamType",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.None}}),f=e(m.prototype,"animParam",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=e(m.prototype,"paramValue",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=m))||s));a._RF.pop()}}}));

System.register("chunks:///_virtual/asset-operation.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"4915a+F6HRKOqzthrteei1v","asset-operation",void 0);e("createMesh",undefined),e("saveMesh",undefined);t._RF.pop()}}}));

System.register("chunks:///_virtual/AudioData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioItem.ts"],(function(t){"use strict";var e,i,r,n,o,a,s,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,s=t._decorator,u=t.Component},function(t){c=t.AudioItem}],execute:function(){var l,p,f,d,y;a._RF.push({},"aaf09Ao+q5OhKsNi2Dc5zdI","AudioData",void 0);var h=s.ccclass,m=s.property;t("AudioData",(l=h("AudioData"),p=m({type:[c],visible:!0,formerlySerializedAs:"items"}),l((y=e((d=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"_items",y,n(e)),e}return i(e,t),e.prototype.getItem=function(t){return this._items.find((function(e){return e.key==t}))},o(e,[{key:"length",get:function(){return this._items.length}}]),e}(u)).prototype,"_items",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=d))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/AudioDataLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioData.ts","./AudioManager.ts"],(function(t){"use strict";var a,e,i,o,n,r,u,s,c,d;return{setters:[function(t){a=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,u=t.Prefab,s=t.Component},function(t){c=t.AudioData},function(t){d=t.AudioManager}],execute:function(){var l,p,f,y,D;n._RF.push({},"e638ajtZ9xGNJqPUA/g/vww","AudioDataLoader",void 0);var h=r.ccclass,A=r.property;t("AudioDataLoader",(l=h("AudioDataLoader"),p=A({type:u,visible:!0,formerlySerializedAs:"key"}),l((D=a((y=function(t){function a(){for(var a,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return a=t.call.apply(t,[this].concat(n))||this,i(a,"_audioData",D,o(a)),a._data=null,a}e(a,t);var n=a.prototype;return n.onLoad=function(){this._data=this._audioData.data.getComponent(c),d.instance.load(this._data)},n.onDestroy=function(){d.instance&&d.instance.unload(this._data)},a}(s)).prototype,"_audioData",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/AudioEnums.ts",["cc"],(function(e){"use strict";var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){var i,t,n;e({AudioEvent:void 0,LoopMode:void 0,PickSubitemMode:void 0}),o._RF.push({},"8fdc8EKGHVNmrekSIJ8Q6Ho","AudioEnums",void 0),function(e){e[e.Do_Not_Loop=0]="Do_Not_Loop",e[e.Loop_Subitem=1]="Loop_Subitem",e[e.Loop_Sequence=2]="Loop_Sequence",e[e.Play_Sequence_Loop_Last=3]="Play_Sequence_Loop_Last"}(i||(i=e("LoopMode",{}))),function(e){e[e.Disabled=0]="Disabled",e[e.Random=1]="Random",e[e.Random_Not_Same_Twice=2]="Random_Not_Same_Twice",e[e.Sequence=3]="Sequence"}(t||(t=e("PickSubitemMode",{}))),function(e){e[e.AudioManagerInitialized=0]="AudioManagerInitialized",e[e.SetMuted=1]="SetMuted"}(n||(n=e("AudioEvent",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioEnums.ts"],(function(e){"use strict";var t,i,n,o,s,r,a,u,l,c,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.createClass,n=e.initializerDefineProperty},function(e){o=e.cclegacy,s=e._decorator,r=e.Prefab,a=e.Enum,u=e.AudioClip,l=e.randomRangeInt},function(e){c=e.LoopMode,d=e.PickSubitemMode}],execute:function(){var h,p,b,f,y,_,m,g,v,k,x,I,S,M,w;o._RF.push({},"9e1e3rX0ktE9pKy3qyrVu/Z","AudioItem",void 0);var P=s.ccclass,R=s.property;e("AudioItem",(h=P("AudioItem"),p=R({visible:!0}),b=R({type:r,visible:!0,displayName:"OldKey (deprecated)"}),f=R({visible:!0,slide:!0,range:[0,1]}),y=R({type:a(c),visible:!0}),_=R({type:a(d),visible:!0}),m=R({type:[u],visible:!0}),h((k=t((v=function(){function e(){n(this,"_audioKey",k,this),n(this,"_key",x,this),n(this,"_volume",I,this),n(this,"_loopMode",S,this),n(this,"_pickSubitemMode",M,this),n(this,"_sfxs",w,this),this.notPlayedIndexes=[]}var t=e.prototype;return t.getAudioClipsToPlay=function(){var e=[];if(0==this._sfxs.length)return e;switch(this._pickSubitemMode){case d.Disabled:e.push(this.getInSequence());break;case d.Random:e.push(this._sfxs[l(0,this._sfxs.length)]);break;case d.Random_Not_Same_Twice:e.push(this.getRandomNotSameTwice());break;case d.Sequence:e=this._sfxs.slice()}return e},t.getInSequence=function(){var e=this.availableIndexes[0];return this.availableIndexes.splice(0,1),this._sfxs[e]},t.getRandomNotSameTwice=function(){var e=l(0,this.availableIndexes.length),t=this.availableIndexes[e];return this.availableIndexes.splice(e,1),this._sfxs[t]},i(e,[{key:"key",get:function(){return 0==this._audioKey.length?this._key.data.node.name:this._audioKey}},{key:"volume",get:function(){return this._volume}},{key:"loopMode",get:function(){return this._loopMode}},{key:"pickSubItemMode",get:function(){return this._pickSubitemMode}},{key:"length",get:function(){return this._sfxs.length}},{key:"availableIndexes",get:function(){if(0==this.notPlayedIndexes.length)for(var e=0;e<this._sfxs.length;e++)this.notPlayedIndexes.push(e);return this.notPlayedIndexes}}]),e}()).prototype,"_audioKey",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),x=t(v.prototype,"_key",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(v.prototype,"_volume",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=t(v.prototype,"_loopMode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.Do_Not_Loop}}),M=t(v.prototype,"_pickSubitemMode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.Random_Not_Same_Twice}}),w=t(v.prototype,"_sfxs",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=v))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioListener.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./Logger.ts"],(function(e){"use strict";var i,t,n,r,s,o,a,c,l,u,h,g,b,d,m,p,f;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.createClass},function(e){o=e.cclegacy,a=e._decorator,c=e.CCFloat,l=e.CCBoolean,u=e.Node,h=e.MeshRenderer,g=e.Color,b=e.Vec3,d=e.Component},function(e){m=e.DEBUG},function(e){p=e.logger,f=e.LogCategory}],execute:function(){var D,C,y,v,w,L,_,x,P,z,A,E;o._RF.push({},"03e27UIeUhPkbnm9lwYkGFi","AudioListener",void 0);var k=a.ccclass,F=a.property;e("AudioListener",(D=k("AudioListener"),C=F(c),y=F(c),v=F(l),w=F([u]),D(((E=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return i=e.call.apply(e,[this].concat(s))||this,n(i,"minDistance",x,r(i)),n(i,"maxDistance",P,r(i)),n(i,"showDebug",z,r(i)),n(i,"debugCircles",A,r(i)),i}t(i,e);var o=i.prototype;return o.onEnable=function(){i._instance=this,this.debugCircles[0].active=this.showDebug&&m,this.debugCircles[1].active=this.showDebug&&m,this.debugCircles[0].setWorldScale(2*this.minDistance,2*this.minDistance,2*this.minDistance),this.debugCircles[1].setWorldScale(2*this.maxDistance,2*this.maxDistance,2*this.maxDistance),this.debugCircles[0].getComponent(h).material.setProperty("color",g.GREEN),this.debugCircles[1].getComponent(h).material.setProperty("color",g.YELLOW)},o.onDisable=function(){i._instance==this&&(i._instance=null)},o.getVolumeScale=function(e){var i=b.distance(e,this.node.worldPosition);if(p.log("Distance from "+e+" to "+this.node.worldPosition+" = "+i,f.Audio),i>=this.maxDistance)return 0;if(i<=this.minDistance)return 1;var t=this.maxDistance-this.minDistance;return(i-=this.minDistance)/t},s(i,null,[{key:"instance",get:function(){return i._instance}}]),i}(d))._instance=void 0,x=i((_=E).prototype,"minDistance",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),P=i(_.prototype,"maxDistance",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),z=i(_.prototype,"showDebug",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=i(_.prototype,"debugCircles",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=_))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioListener.ts","./Logger.ts","./AudioObject.ts","./ObjectPool.ts","./ProjectEvent.ts","./AudioEnums.ts"],(function(i){"use strict";var o,e,n,a,t,u,d,r,s,l,c,A,h,g,f,_,y,E,b,v,p;return{setters:[function(i){o=i.inheritsLoose,e=i.createClass},function(i){n=i.cclegacy,a=i._decorator,t=i.systemEvent,u=i.SystemEventType,d=i.director,r=i.Director,s=i.Node,l=i.game,c=i.KeyCode,A=i.AudioSource,h=i.Component},function(i){g=i.AudioListener},function(i){f=i.logger,_=i.LogCategory,y=i.LogType},function(i){E=i.AudioObject},function(i){b=i.ObjectPool},function(i){v=i.projectEvent},function(i){p=i.AudioEvent}],execute:function(){var S,D;n._RF.push({},"fa285OT0dpI3qmSmqpPzoY2","AudioManager",void 0);var m=a.ccclass,w=a.executionOrder;i("AudioManager",m("AudioManager")(S=w(-10)(((D=function(i){function n(){for(var o,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(o=i.call.apply(i,[this].concat(n))||this)._loadedAudioData=[],o._audioObjectPool=new b((function(){return new E}),5),o._availableAudioSources=[],o._playingAudioSources=[],o._isAudioEnabled=!0,o._storageKey="debugIsAudioEnabled",o}o(n,i);var a=n.prototype;return a.onLoad=function(){n._instance!=this&&(f.log("ERROR: Audio manager already exists",_.Audio,y.Warning),this.node.destroy())},a.onEnable=function(){t.on(u.KEY_DOWN,this.onMuteKeyDown,this)},a.start=function(){d.on(r.EVENT_AFTER_SCENE_LAUNCH,this.onChangedScene,this),this.initializeAvailableAudioSourcesList(),v.emit(p.AudioManagerInitialized)},a.onDisable=function(){t.off(u.KEY_DOWN,this.onMuteKeyDown,this)},a.onDestroy=function(){d.off(r.EVENT_AFTER_SCENE_LAUNCH,this.onChangedScene,this)},n.instantiateNewAudioManager=function(i){if(void 0===i&&(i=null),null==n._instance){var o=new s("AudioManager");n._instance=o.addComponent(n),l.addPersistRootNode(o),i&&n._instance.load(i)}else f.log("Can't instantiate a new AudioManager when one already exists.",_.Audio,y.Error)},a.load=function(i){return i?this.findAudioDataIndex(i)>-1?(f.log("Error loading AudioData. The AudioData "+i.node.name+" is already loaded",_.Audio,y.Error),!1):(this._loadedAudioData.push(i),!0):(f.log("Error loading AudioData. The AudioData object is null",_.Audio,y.Error),!1)},a.unload=function(i){var o=this.findAudioDataIndex(i);return o>-1?(this._loadedAudioData.splice(o,1),!0):(f.log("Error unloading AudioData. The AudioData "+i.node.name+" was not loaded",_.Audio,y.Error),!1)},a.playSpatialSound=function(i,o,e){if(void 0===e&&(e=1),f.log("Playing spatial sound from "+o+", original scale = "+e,_.Audio),g.instance){e*=g.instance.getVolumeScale(o),f.log("Final scale = "+e,_.Audio);var n=this.playByKey(i);return n&&n.scaleVolume(e),n}var a=this.playByKey(i);return a&&a.scaleVolume(e),a},a.playByKey=function(i){var o=this;if(!i)return f.log("Received null key to play audio",_.Audio,y.Error),null;if(0==this._loadedAudioData.length)return f.log("Can not play audio. No audio data was loaded",_.Audio,y.Error),null;var e=this.findAudio(i);if(e){var n=this.getAvailableAudioSource(),a=this._audioObjectPool.get();return a.initialize(e,n,!this._isAudioEnabled,(function(){o.releaseAudioSource(n)})),a.play(),a}return f.log("Can not play audio. No audio was found with key "+i,_.Audio,y.Error),null},a.onMuteKeyDown=function(i){i.keyCode==c.KEY_M&&(this.audioEnabled=!this._isAudioEnabled)},a.onAudioEnabled=function(){f.log("Audio enabled",_.Audio),this._isAudioEnabled=!0,v.emit(p.SetMuted,!this._isAudioEnabled)},a.onAudioDisabled=function(){f.log("Audio disabled",_.Audio),this._isAudioEnabled=!1,v.emit(p.SetMuted,!this._isAudioEnabled)},a.getAvailableAudioSource=function(){var i;return this._availableAudioSources.length>0?(i=this._availableAudioSources[0],this._availableAudioSources.splice(0,1)):i=this.newAudioSource(),this._playingAudioSources.push(i),i},a.newAudioSource=function(){var i=new s("AudioSource"),o=i.addComponent(A);return i.setParent(d.getScene()),o},a.releaseAudioSource=function(i){i||f.log("Releasing a null audioSource? AudioManager is confused :/");var o=this._playingAudioSources.findIndex((function(o){return o===i}));-1==o?f.log("Released audio source was not listed as in use. AudioManager is sad :("):(this._playingAudioSources.splice(o,1),this._availableAudioSources.push(i))},a.onChangedScene=function(){this.initializeAvailableAudioSourcesList(),this._playingAudioSources=[]},a.initializeAvailableAudioSourcesList=function(i){void 0===i&&(i=5),this._availableAudioSources=[];for(var o=0;o<i;o++)this._availableAudioSources.push(this.newAudioSource())},a.findAudioDataIndex=function(i){return this._loadedAudioData.findIndex((function(o){return o==i}))},a.findAudio=function(i){for(var o=this._loadedAudioData.length-1;o>-1;o--){var e=this._loadedAudioData[o].getItem(i);if(e)return e}return null},e(n,[{key:"audioEnabled",get:function(){return this._isAudioEnabled},set:function(i){this._isAudioEnabled=i,i?this.onAudioEnabled():this.onAudioDisabled()}}],[{key:"instance",get:function(){return n._instance}}]),n}(h))._instance=null,S=D))||S)||S);n._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManagerInitializer.ts",["cc","./Logger.ts","./AudioData.ts","./AudioManager.ts"],(function(a){"use strict";var i,t,n,e,o,u,r,d,g;return{setters:[function(a){i=a.cclegacy,t=a.game,n=a.Game,e=a.resources,o=a.Prefab},function(a){u=a.logger,r=a.LogCategory},function(a){d=a.AudioData},function(a){g=a.AudioManager}],execute:function(){i._RF.push({},"39e33XnAQRJhpTBTgQcVQw7","AudioManagerInitializer",void 0);a("audioManagerInitializer",new function(){t.on(n.EVENT_GAME_INITED,(function(){e.load("audio/audioData",o,(function(a,i){if(a)u.log("No default audio data found. Initiating an empty AudioManager",r.Audio),g.instantiateNewAudioManager();else{u.log("Found default audio data: "+i,r.Audio);var t=i.data.getComponent(d);g.instantiateNewAudioManager(t)}}))}),this)});i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioObject.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioEnums.ts","./Logger.ts","./ProjectEvent.ts"],(function(i){"use strict";var t,e,l,o,a,s,u,n,d;return{setters:[function(i){t=i.createClass},function(i){e=i.cclegacy,l=i.clamp},function(i){o=i.AudioEvent,a=i.LoopMode},function(i){s=i.logger,u=i.LogCategory,n=i.LogType},function(i){d=i.projectEvent}],execute:function(){e._RF.push({},"3fd7eqNPmJG85niU6MZ1UDs","AudioObject",void 0);i("AudioObject",function(){function i(){this._audioItem=void 0,this._audioSource=void 0,this._onEndCallback=void 0,this._valid=!1,this._clipsToPlay=void 0,this._playingClipIndex=0,this._paused=!1,this._muteModifier=1,this._volume=1,this._playNextClipCallback=void 0}var e=i.prototype;return e.initialize=function(i,t,e,l){var a=this;this._audioItem=i,this._audioSource=t,this._onEndCallback=l,this._valid=!0,this._playingClipIndex=0,this._paused=!1,this._volume=this._audioItem.volume,this.mute=e,d.on(o.SetMuted,(function(i){a.mute=i}))},e.play=function(){this._valid?0!=this._audioItem.length?(this._paused?(this._playNextClipCallback=this.playNextClip.bind(this),this._audioSource.scheduleOnce(this._playNextClipCallback,this._audioSource.duration-this._audioSource.currentTime),this._paused=!1):(this._clipsToPlay=this._audioItem.getAudioClipsToPlay(),this._playingClipIndex=0,this._audioSource.clip=this._clipsToPlay[this._playingClipIndex],this._playNextClipCallback=this.playNextClip.bind(this),this._audioSource.scheduleOnce(this._playNextClipCallback,this._clipsToPlay[this._playingClipIndex].getDuration())),this._audioSource.play()):this.end():s.log("Play was called on an invalid AudioObject",u.Audio,n.Error)},e.pause=function(){this._valid?(this._audioSource.unschedule(this._playNextClipCallback),this._playNextClipCallback=null,this._audioSource.pause(),this._paused=!0):s.log("Pause was called on an invalid AudioObject",u.Audio,n.Error)},e.stop=function(){this._valid?(this._audioSource.unschedule(this._playNextClipCallback),this._playNextClipCallback=null,this._audioSource.stop(),this.end()):s.log("Stop was called on an invalid AudioObject",u.Audio,n.Error)},e.scaleVolume=function(i){this._valid?this._audioSource.volume*=i:s.log("ScaleVolume was called on an invalid AudioObject",u.Audio,n.Error)},e.playNextClip=function(){switch(this._audioItem.loopMode){case a.Do_Not_Loop:if(this._playingClipIndex+=1,this._playingClipIndex>=this._clipsToPlay.length)return void this.end();case a.Loop_Subitem:break;case a.Loop_Sequence:this._playingClipIndex+=1,this._playingClipIndex==this._clipsToPlay.length&&(this._playingClipIndex=0);case a.Play_Sequence_Loop_Last:this._playingClipIndex<this._clipsToPlay.length-1&&(this._playingClipIndex+=1)}this._playNextClipCallback=this.playNextClip.bind(this),this._audioSource.scheduleOnce(this._playNextClipCallback,this._clipsToPlay[this._playingClipIndex].getDuration()),this._audioSource.clip=this._clipsToPlay[this._playingClipIndex],this._audioSource.play()},e.end=function(){this._valid&&(this._audioItem=null,this._audioSource=null,this._valid=!1,this._onEndCallback(),this._onEndCallback=null)},e.updateVolume=function(){this._audioSource&&(this._audioSource.volume=this._volume*this._muteModifier)},t(i,[{key:"isValid",get:function(){return this._valid}},{key:"playing",get:function(){return!!this.isValid&&this._audioSource.playing}},{key:"volume",get:function(){return this._volume},set:function(i){this._volume=l(i,0,1),this.updateVolume()}},{key:"mute",get:function(){return 0==this._muteModifier},set:function(i){this._muteModifier=i?0:1,this.updateVolume()}}]),i}());e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioProxy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./AudioManager.ts"],(function(e){"use strict";var r,i,t,o,n,a,u,y,l,s,c,p,d;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.createClass},function(e){a=e.cclegacy,u=e._decorator,y=e.Prefab,l=e.Component},function(e){s=e.logger,c=e.LogCategory,p=e.LogType},function(e){d=e.AudioManager}],execute:function(){var g,f,h,k,_,b,m;a._RF.push({},"ac879rTendCEbpZWFz/jexs","AudioProxy",void 0);var v=u.ccclass,A=u.property;e("AudioProxy",(g=v("AudioProxy"),f=A({visible:!0,group:{id:"key",name:"Key"}}),h=A({type:y,visible:!0,group:{id:"key",name:"Deprecated Key"},formerlySerializedAs:"key"}),g((b=r((_=function(e){function r(){for(var r,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,t(r,"_audioKey",b,o(r)),t(r,"_key",m,o(r)),r}return i(r,e),r.prototype.playSFX=function(){var e;this.key.length>0&&(null==(e=d.instance)||e.playByKey(this.key))},n(r,[{key:"key",get:function(){return 0==this._audioKey.length?this._key?this._key.data.node.name:(s.log("AudioProxy at "+this.node.name+" has no audio key",c.Generic,p.Error),""):this._audioKey}}]),r}(l)).prototype,"_audioKey",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=r(_.prototype,"_key",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=_))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/AxisInput.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,r,i;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){r=t.cclegacy,i=t.Component}],execute:function(){r._RF.push({},"1a7167v2EBGjoInPfDd+oHG","AxisInput",void 0);t("AxisInput",function(t){function r(){for(var n,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(n=t.call.apply(t,[this].concat(r))||this)._horizontal=0,n._vertical=0,n}return n(r,t),e(r,[{key:"horizontal",get:function(){return this._horizontal}},{key:"vertical",get:function(){return this._vertical}}]),r}(i));r._RF.pop()}}}));

System.register("chunks:///_virtual/BaseEventListener.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts"],(function(e){"use strict";var t,n,i,r,s,o,a,c,l,u,v,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.createClass},function(e){o=e.cclegacy,a=e._decorator,c=e.EventHandler,l=e.Component},function(e){u=e.logger,v=e.LogCategory},function(e){h=e.projectEvent}],execute:function(){var d,p,f,E,y,g,_;o._RF.push({},"2f3a733CjVHB7PpsCng0Uir","BaseEventListener",void 0);var b=a.ccclass,R=a.property;e("BaseEventListener",(d=b("BaseEventListener"),p=R({visible:!0}),f=R({visible:!0,type:[c]}),d((g=t((y=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,i(t,"_delay",g,r(t)),i(t,"_onEventRaised",_,r(t)),t}n(t,e);var o=t.prototype;return o.onEnable=function(){h.on(this.eventID,this.onEventRaised,this)},o.onDisable=function(){h.off(this.eventID,this.onEventRaised,this)},o.onEventRaised=function(e){var t=this;u.log("EventListener : "+this.eventID+" : "+this.node.getPathInHierarchy()+" ",v.UI),this._delay<=0?e?c.emitEvents(this._onEventRaised,e):c.emitEvents(this._onEventRaised):e?this.scheduleOnce((function(){return c.emitEvents(t._onEventRaised,e)}),this._delay):this.scheduleOnce((function(){return c.emitEvents(t._onEventRaised)}),this._delay)},s(t,[{key:"eventID",get:function(){throw"Not Implemented"}}]),t}(l)).prototype,"_delay",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=t(y.prototype,"_onEventRaised",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=y))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseEventRaiser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts"],(function(e){"use strict";var t,n,i,r,a,o,s,c,l,u,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,s=e._decorator,c=e.Component},function(e){l=e.logger,u=e.LogCategory},function(e){y=e.projectEvent}],execute:function(){var h,v,p,f,d;o._RF.push({},"f0675YKmF9D8r6469LJtqi9","BaseEventRaiser",void 0);var m=s.ccclass,g=s.property;e("BaseEventRaiser",(h=m("BaseEventRaiser"),v=g({visible:!0}),h((d=t((f=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"_delay",d,r(t)),t}return n(t,e),t.prototype.raise=function(e){var n=this;if(l.log(t.name+" "+this.node.name+" "+this.eventKey,u.UI),this._delay>0)this.scheduleOnce((function(){try{y.emit(n.eventKey,n.data)}catch(t){e?y.emit(n.eventKey,e):y.emit(n.eventKey)}}),this._delay);else try{y.emit(this.eventKey,this.data)}catch(t){e?y.emit(this.eventKey,e):y.emit(this.eventKey)}},a(t,[{key:"eventKey",get:function(){throw"Not Implemented"}},{key:"data",get:function(){throw"Not Implemented"}}]),t}(c)).prototype,"_delay",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseSaveGame.ts",["cc","./Logger.ts","./ProjectEvent.ts","./SaveGameEnums.ts"],(function(a){"use strict";var t,n,e,s,i;return{setters:[function(a){t=a.cclegacy,n=a.sys},function(a){e=a.logger},function(a){s=a.projectEvent},function(a){i=a.SaveGameEvent}],execute:function(){t._RF.push({},"f404fjsovlKLZr4HhXQKQDM","BaseSaveGame",void 0);a("BaseSaveGame",function(){function a(){this._savedData=null,this._runningTransaction=null,this.load()}var t=a.prototype;return t.isDataLoaded=function(){return null!=this._savedData},t.setData=function(a,t){this._runningTransaction?this._runningTransaction.setData(a,t):(this._savedData.setData(a,t),this.save())},t.getData=function(a,t){try{return this._runningTransaction?this._runningTransaction.getData(a):this._savedData.getData(a)}catch(a){return t}},t.startTransaction=function(){this._runningTransaction=this.createSaveData(this._savedData)},t.commitTransaction=function(){this._savedData=this._runningTransaction,this._runningTransaction=null,this.save()},t.rollbackTransaction=function(){this._runningTransaction=null},t.save=function(){if(this._savedData){var a=JSON.stringify(this._savedData,this.replacer);n.localStorage.setItem(this.saveKey,a),e.log("Saved game: "+a)}else e.log("No data to save.")},t.load=function(){var a=n.localStorage.getItem(this.saveKey);a?(this._savedData=this.createSaveData(JSON.parse(a,this.reviver)),e.log("Loaded saved game: "+a)):(this._savedData=this.createSaveData(),e.log("No data to load."),s.emit(i[i.SaveGame_Loaded]))},t.replacer=function(a,t){return t instanceof Map?{dataType:"Map",value:Array.from(t.entries())}:t},t.reviver=function(a,t){return"object"==typeof t&&null!==t&&"Map"===t.dataType?new Map(t.value):t},a}());t._RF.pop()}}}));

System.register("chunks:///_virtual/BaseSaveGameData.ts",["cc"],(function(t){"use strict";var a;return{setters:[function(t){a=t.cclegacy}],execute:function(){a._RF.push({},"e47bb0NFDNFF7MAM7uQQ96C","BaseSaveGameData",void 0);t("BaseSaveGameData",function(){function t(a){void 0===a&&(a=null),this._data=[],this._data=a&&a instanceof t||a&&"object"==typeof a?[].concat(a._data):[]}var a=t.prototype;return a.setData=function(t,a){var e=this._data.findIndex((function(a){return a.key===t}));-1!==e?this._data[e].value=a:this._data.push({key:t,value:a})},a.getData=function(t){var a=this._data.findIndex((function(a){return a.key===t}));if(-1!==a)return this._data[a].value;throw"Invalid Key: No data with key "+t+" was found"},t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/BundleLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts"],(function(e){"use strict";var n,o,t,r,u,l,s,c,a;return{setters:[function(e){n=e.createClass},function(e){o=e.cclegacy,t=e._decorator,r=e.game,u=e.Game,l=e.assetManager},function(e){s=e.logger,c=e.LogCategory,a=e.LogType}],execute:function(){o._RF.push({},"6178bRj7zJC2aLN3cjx/gy5","BundleLoader",void 0);t.ccclass,t.property,e("BundleLoader",function(){function e(e){var n=this;this._bundle=null,r.on(u.EVENT_GAME_INITED,(function(){l.loadBundle(e,n.onLoadComplete.bind(n))}),this)}return e.prototype.onLoadComplete=function(e,n){null!=e&&s.log(e.message,c.Generic,a.Error),this._bundle=n,this.onBundleLoaded()},n(e,[{key:"bundle",get:function(){return this._bundle}}]),e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts"],(function(t){"use strict";var e,n,i,o,r,a,l,c,u,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Button,c=t.EventHandler,u=t.Component},function(t){s=t.logger}],execute:function(){var p,b,f,v,h,y,_,g,C,d;r._RF.push({},"b2629pBo9BDtrAXL8hN6QoS","ButtonHelper",void 0);var m=a.ccclass,B=a.property,k=a.requireComponent;t("ButtonHelper",(p=m("ButtonHelper"),b=k(l),f=B({visible:!0,type:l}),v=B({visible:!0,type:[c]}),h=B({visible:!0,type:[c]}),p(y=b((g=e((_=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"_button",g,o(e)),i(e,"_onActivateClick",C,o(e)),i(e,"_onDeactivateClick",d,o(e)),e}n(e,t);var r=e.prototype;return r.onLoad=function(){null===this._button&&(this._button=this.node.getComponent(l))},r.setInteractable=function(t,e){void 0===t?("boolean"==typeof e||"string"==typeof e)&&this.setInteractable(e):"string"==typeof t?"false"===t?this.setInteractable(!1):"true"===t?this.setInteractable(!0):s.log("Can't parse value: "+t):this._button.interactable!==t&&(this._button.interactable=t,t?c.emitEvents(this._onActivateClick):c.emitEvents(this._onDeactivateClick))},e}(u)).prototype,"_button",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(_.prototype,"_onActivateClick",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=e(_.prototype,"_onDeactivateClick",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=_))||y)||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/Character.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ICharacterMovement.ts"],(function(e){"use strict";var t,r,n,a,i,o,c,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.createClass},function(e){o=e.cclegacy,c=e._decorator,s=e.Component},function(e){u=e.ICharacterMovement}],execute:function(){var l,p,h,m,f;o._RF.push({},"fd467mBhNdNCq1ds6go5aYW","Character",void 0);var v=c.ccclass,y=c.property;e("Character",(l=v("Character"),p=y({type:u,visible:!0}),l((f=t((m=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,n(t,"_movement",f,a(t)),t}return r(t,e),i(t,[{key:"movement",get:function(){return this._movement}}]),t}(s)).prototype,"_movement",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterAnimator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./Globals.ts","./Character.ts","./CharacterEnums.ts"],(function(e){"use strict";var t,n,r,i,a,o,s,u,l,c,h,d,m,p,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator},function(e){o=e.cclegacy,s=e._decorator,u=e.animation,l=e.Component},function(e){c=e.logger,h=e.LogCategory,d=e.LogType},function(e){m=e.delay},function(e){p=e.Character},function(e){_=e.CharacterEvent}],execute:function(){var y,f,b,g,v,k,L,C,G,I,w,V,z,A,B;o._RF.push({},"e0435Ow6r9FjZvXBaEtsaYW","CharacterAnimator",void 0);var F=s.ccclass,T=s.property;e("CharacterAnimator",(y=F("CharacterAnimator"),f=T({type:u.AnimationController,visible:!0}),b=T({visible:!0}),g=T({visible:!0}),v=T({visible:!0}),k=T({visible:!0}),L=T({visible:!0}),y((I=t((G=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"_animator",I,i(t)),r(t,"_keyIsButtonHeld",w,i(t)),r(t,"_keyIsGrounded",V,i(t)),r(t,"_delayToGroundedFalse",z,i(t)),r(t,"_keyLand",A,i(t)),r(t,"_keyJump",B,i(t)),t._character=null,t}n(t,e);var o=t.prototype;return o.onLoad=function(){this._character=this.getComponent(p),null==this._animator&&(this._animator=this.getComponentInChildren(u.AnimationController)),null!=this._animator&&0!=this._animator.isValid?(this.node.on(_[_.Landed],this.onLand,this),this.node.on(_[_.LeaveGround],this.onLeaveGround,this)):c.log(t.name+" - No animation controller configured.",h.Gameplay,d.Error)},o.lateUpdate=function(){null!=this._animator&&0!=this._animator.isValid&&null!=this._character&&this._animator.setValue(this._keyIsButtonHeld,this._character.movement.accelerate)},o.onLand=function(){null!=this._animator&&0!=this._animator.isValid&&(this._animator.setValue(this._keyLand,!0),this._animator.setValue(this._keyIsGrounded,this._character.movement.grounded))},o.onLeaveGround=function(){var e=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this._animator&&0!=this._animator.isValid){e.next=2;break}return e.abrupt("return");case 2:return this._animator.setValue(this._keyJump,!0),e.next=5,m(this._delayToGroundedFalse);case 5:this._animator.setValue(this._keyIsGrounded,this._character.movement.grounded);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(l)).prototype,"_animator",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(G.prototype,"_keyIsButtonHeld",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"IsButtonHeld"}}),V=t(G.prototype,"_keyIsGrounded",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"IsGrounded"}}),z=t(G.prototype,"_delayToGroundedFalse",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),A=t(G.prototype,"_keyLand",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"WhenLanding"}}),B=t(G.prototype,"_keyJump",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"WhenJump"}}),C=G))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterCheats.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SplineCharacterMovement.ts"],(function(t){"use strict";var e,r,n,a,c,o;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,a=t.KeyCode,c=t.Component},function(t){o=t.SplineCharacterMovement}],execute:function(){var s;r._RF.push({},"48e02dYjv5J4YisgN+hLVmt","CharacterCheats",void 0);var i=n.ccclass;n.property,t("CharacterCheats",i("CharacterCheats")(s=function(t){function r(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this)._character=null,e}e(r,t);var n=r.prototype;return n.onLoad=function(){this._character=this.getComponent(o)},n.onEnable=function(){},n.onDisable=function(){},n.onKeyUp=function(t){switch(t.keyCode){case a.KEY_L:var e;null==(e=this._character)||e.crash()}},r}(c))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterEnums.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){var r;e("CharacterEvent",void 0),a._RF.push({},"7273d9TO4RIbJvV/0WrKGVj","CharacterEnums",void 0),function(e){e[e.Landed=0]="Landed",e[e.LeaveGround=1]="LeaveGround",e[e.Jumped=2]="Jumped",e[e.Crashed=3]="Crashed",e[e.StartFinalJump=4]="StartFinalJump",e[e.ReachedEnd=5]="ReachedEnd"}(r||(r=e("CharacterEvent",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/Coin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./PlayerCharacter.ts","./GameEnums.ts"],(function(e){"use strict";var t,i,n,o,r,a,l,c,s,u,p,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Node,c=e.Quat,s=e.Vec3,u=e.Component},function(e){p=e.projectEvent},function(e){d=e.PlayerCharacter},function(e){f=e.GameEvent}],execute:function(){var _,h,y,b,m,v,C,P,g;r._RF.push({},"66efblFsIVGSq4UFCK0d3Ii","Coin",void 0);var w=a.ccclass,E=a.property;e("Coin",(_=w("Coin"),h=E({type:l,visible:!0}),y=E({visible:!0}),b=E({visible:!0}),_((C=t((v=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"_model",C,o(t)),n(t,"_rotationSpeed",P,o(t)),n(t,"_collectionRadius",g,o(t)),t._quat=new c,t}i(t,e);var r=t.prototype;return r.start=function(){c.fromEuler(this._quat,0,this._rotationSpeed,0)},r.update=function(e){(this._model.rotate(this._quat),d.instance)&&(s.distance(d.instance.node.worldPosition,this.node.worldPosition)<this._collectionRadius&&(p.emit(f[f.GE_PlayerCollectedCoin]),this.node.destroy()))},t}(u)).prototype,"_model",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(v.prototype,"_rotationSpeed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=t(v.prototype,"_collectionRadius",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),m=v))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/CoinMultiplierUpgrades.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./SaveGame.ts","./SaveGameKeys.ts"],(function(e){"use strict";var t,i,n,r,u,s,o,a,l,p;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy,n=e.game,r=e.Game,u=e.resources,s=e.JsonAsset},function(e){o=e.logger},function(e){a=e.projectEvent},function(e){l=e.saveGame},function(e){p=e.SaveGameKeys}],execute:function(){var g;e("CoinMultiplierUpgradeEvent",void 0),i._RF.push({},"45ff07n+jNJN5hglqllcC8V","CoinMultiplierUpgrades",void 0),function(e){e[e.CoinMultiplierUpgradeChanged=0]="CoinMultiplierUpgradeChanged",e[e.CoinMultiplierUpgradeBought=1]="CoinMultiplierUpgradeBought"}(g||(g=e("CoinMultiplierUpgradeEvent",{})));var d=e("CoinMultiplierUpgrade",function(){var e=i.prototype;function i(){var e=this;this.upgrades=[],this.currentId=0,n.on(r.EVENT_GAME_INITED,(function(){u.load("Settings/CoinMultiplierUpgrades",s,null,e.onLoadComplete.bind(e))}),this)}return e.increment=function(){this.currentId++,l.setData(p[p.Save_CurrentUpgradeCoinMultiplier],this.currentId),a.emit(g[g.CoinMultiplierUpgradeChanged])},e.onLoadComplete=function(e,t){this.upgrades=t.json.CoinMultiplierUpgrades,o.log("Finished loading coin multiplier upgrade Settings. "+this.upgrades.length+" upgrades loaded."),this.currentId=l.getData(p[p.Save_CurrentUpgradeCoinMultiplier]),null==this.currentId&&(this.currentId=0)},t(i,[{key:"current",get:function(){return this.upgrades[this.currentId]}},{key:"next",get:function(){return this.isLast?this.current:this.upgrades[this.currentId+1]}},{key:"isLast",get:function(){return this.currentId>=this.upgrades.length-1}}]),i}());e("coinMultiplierUpgrade",new d);i._RF.pop()}}}));

System.register("chunks:///_virtual/CoinsSower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.ts","./pool.ts","./spline-util-renderer.ts"],(function(t){"use strict";var e,i,n,a,o,r,s,p,l,c,g,u,h,f,y,m,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,p=t.Quat,l=t.Prefab,c=t.Vec3,g=t.math,u=t.instantiate,h=t.random,f=t.randomRangeInt},function(t){y=t.default},function(t){m=t.default},function(t){b=t.default}],execute:function(){var R,d,_,v,w,O,S,z,C,P,x,D,k,j,M,W,B,I,E,V,T,A,F,Q,H,L,U,G,J,N,Z,q,K;r._RF.push({},"3c6cfgNwaZCOJF1E3IwW0Qc","CoinsSower",void 0);var X=s.ccclass,Y=(s.executeInEditMode,s.property),$=new p;t("default",(R=X("CoinsSower"),d=Y({visible:!1}),_=Y({visible:!1}),v=Y({visible:!1}),w=Y({visible:!1}),O=Y({visible:!1}),S=Y({visible:!1}),z=Y({visible:!1}),C=Y({visible:!1}),P=Y({visible:!1}),x=Y({type:l,visible:!1}),D=Y({visible:!0,group:{id:"spacing",name:"Spacing"}}),k=Y({visible:!0,group:{id:"spacing",name:"Spacing"}}),j=Y({visible:!0,group:{id:"scale",name:"Scale"}}),M=Y({visible:!0,group:{id:"scale",name:"Scale"}}),W=Y({type:c,visible:!0,group:{id:"rotation",name:"Rotation"}}),B=Y({type:c,visible:!0,group:{id:"rotation",name:"Rotation"}}),I=Y({visible:!0,group:{id:"rotation",name:"Rotation"}}),E=Y({type:c,visible:!0,group:{id:"translation",name:"Translation"}}),V=Y({type:c,visible:!0,group:{id:"translation",name:"Translation"}}),T=Y({type:l,visible:!0,group:{id:"prefabs",name:"Prefabs"}}),R((Q=e((F=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"_spacing",Q,a(e)),n(e,"_spacingRange",H,a(e)),n(e,"_scale",L,a(e)),n(e,"_scaleRange",U,a(e)),n(e,"_minRotation",G,a(e)),n(e,"_maxRotation",J,a(e)),n(e,"_ignoreSampleRotation",N,a(e)),n(e,"_translation",Z,a(e)),n(e,"_translationRange",q,a(e)),n(e,"_prefabs",K,a(e)),e._level=null,e.onComputedEvent=new y,e}i(e,t);var r=e.prototype;return r.setup=function(t){this._level=t,this.compute()},r.compute=function(){var t=this.generated.children;if(!(this.spacing+this.spacingRange<=0||0==this.prefabs.length)&&null!=this._level){for(var e=this.splineCurve,i=0,n=0,a=3;a<=e.length-3;){var o=this.getSampleWithCorrectOffsets(a-3,e),r=this.getSampleWithCorrectOffsets(a,e),s=this.getSampleWithCorrectOffsets(a+3,e),l=g.random()<this._level.coinChance,f=a-n,y=!1;o.location.y>=r.location.y&&s.location.y>=r.location.y&&(y=!0);var b=a+this._level.coinBatchStartOffset;if(b<0&&b>=e.length&&(l=!1),y&&l&&f>this._level.minDistanceBetweenBatches){a=b,r=this.getSampleWithCorrectOffsets(b,e);for(var R=this._level.coinsCountByBatch.randomIntValue(),d=0;d<R;d++){var _=t[i];_||((_=u(this.getRandomPrefab())).parent=this.generated);var v=new c;c.lerp(v,this._minRotation,this._maxRotation,h()),p.fromEuler($,v.x,v.y,v.z),this._ignoreSampleRotation||p.multiply($,r.rotation,$),_.setRotation($);var w=m.Vec3.get();w=c.transformQuat(w,c.RIGHT,p.fromViewUp($,r.tangent,r.up)).normalize();var O=this.translation.z+Math.random()*this.translationRange.z*Math.sign(this.translation.z);O*=r.scale.x,w.multiplyScalar(O);var S=m.Vec3.get();S.set(r.transformedUp).normalize();var z=this.translation.y+Math.random()*this.translationRange.y*Math.sign(this.translation.y);z*=r.scale.y,S.multiplyScalar(z),_.position=w.add(S).add(r.location),i++,a+=this.spacing+Math.random()*this.spacingRange,r=this.getSampleWithCorrectOffsets(a,e)}n=a}else a+=this.spacing+Math.random()*this.spacingRange}if(t.length>i)for(var C=t.length-1;C>=i;C--)t[C].parent=null;this.onComputedEvent.invoke()}},r.getSampleWithCorrectOffsets=function(t,e){var i=this.translation.x+Math.random()*this.translationRange.x*Math.sign(this.translation.x)+t;return i=Math.min(i,e.length),e.getSampleAtDistance(i)},r.getRandomPrefab=function(){return this.prefabs[f(0,this.prefabs.length)]},o(e,[{key:"spacing",get:function(){return this._spacing},set:function(t){this._spacing=t,this.dirty=!0}},{key:"spacingRange",get:function(){return this._spacingRange},set:function(t){this._spacingRange=t,this.dirty=!0}},{key:"scale",get:function(){return this._scale},set:function(t){this._scale=t,this.dirty=!0}},{key:"scaleRange",get:function(){return this._scaleRange},set:function(t){this._scaleRange=t,this.dirty=!0}},{key:"minRotation",get:function(){return this._minRotation},set:function(t){this._minRotation.set(t),this.dirty=!0}},{key:"maxRotation",get:function(){return this._maxRotation},set:function(t){this._maxRotation.set(t),this.dirty=!0}},{key:"ignoreSampleRotation",get:function(){return this._ignoreSampleRotation},set:function(t){this._ignoreSampleRotation=t,this.dirty=!0}},{key:"translation",get:function(){return this._translation},set:function(t){this._translation.set(t),this.dirty=!0}},{key:"translationRange",get:function(){return this._translationRange},set:function(t){this._translationRange.set(t),this.dirty=!0}},{key:"prefabs",get:function(){return this._prefabs},set:function(t){this._prefabs=t,this.generated.removeAllChildren(),this.dirty=!0}}]),e}(b)).prototype,"_spacing",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),H=e(F.prototype,"_spacingRange",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=e(F.prototype,"_scale",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),U=e(F.prototype,"_scaleRange",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=e(F.prototype,"_minRotation",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),J=e(F.prototype,"_maxRotation",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),N=e(F.prototype,"_ignoreSampleRotation",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=e(F.prototype,"_translation",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),q=e(F.prototype,"_translationRange",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),K=e(F.prototype,"_prefabs",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),e(F.prototype,"spacing",[D],Object.getOwnPropertyDescriptor(F.prototype,"spacing"),F.prototype),e(F.prototype,"spacingRange",[k],Object.getOwnPropertyDescriptor(F.prototype,"spacingRange"),F.prototype),e(F.prototype,"scale",[j],Object.getOwnPropertyDescriptor(F.prototype,"scale"),F.prototype),e(F.prototype,"scaleRange",[M],Object.getOwnPropertyDescriptor(F.prototype,"scaleRange"),F.prototype),e(F.prototype,"minRotation",[W],Object.getOwnPropertyDescriptor(F.prototype,"minRotation"),F.prototype),e(F.prototype,"maxRotation",[B],Object.getOwnPropertyDescriptor(F.prototype,"maxRotation"),F.prototype),e(F.prototype,"ignoreSampleRotation",[I],Object.getOwnPropertyDescriptor(F.prototype,"ignoreSampleRotation"),F.prototype),e(F.prototype,"translation",[E],Object.getOwnPropertyDescriptor(F.prototype,"translation"),F.prototype),e(F.prototype,"translationRange",[V],Object.getOwnPropertyDescriptor(F.prototype,"translationRange"),F.prototype),e(F.prototype,"prefabs",[T],Object.getOwnPropertyDescriptor(F.prototype,"prefabs"),F.prototype),A=F))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/continuous-line-controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./controller.ts","./utils.ts"],(function(t){"use strict";var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.default},function(t){o=t.createLineShape}],execute:function(){e._RF.push({},"c404dqgha9J1YgpZRVg/sHq","continuous-line-controller",void 0);t("default",function(t){function e(n){var e;return(e=t.call(this,n)||this)._lineShape=null,e.initShape(),e}n(e,t);var i=e.prototype;return i.initShape=function(){this.createShapeNode("ContinuousLineController"),this._lineShape=o("Continuous Line"),this._lineShape.parent=this.shape},i.updatePoints=function(t){this._lineShape.updatePoints(t)},e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/controller.ts",["cc","./index.ts","./utils.ts","./npm.ts"],(function(o){"use strict";var e,t,n;return{setters:[function(o){e=o.cclegacy,t=o.js},null,null,function(o){n=o.cce}],execute:function(){e._RF.push({},"aa4a2A2+8hPZLJSXNh0jqHD","controller",void 0);o("default",function(){var o=e.prototype;function e(o){this.shape=null,this._lockSize=!0,t.addon(this,new n.gizmos.ControllerBase(o))}return o.createShapeNode=function(o){return n.gizmos.ControllerBase.prototype.createShapeNode.call(this,o)},o.initHandle=function(o,e){return n.gizmos.ControllerBase.prototype.initHandle.call(this,o,e)},o.updateController=function(){return n.gizmos.ControllerBase.prototype.updateController.call(this)},o.show=function(){return n.gizmos.ControllerBase.prototype.show.call(this)},o.hide=function(){return n.gizmos.ControllerBase.prototype.hide.call(this)},o.registerCameraMovedEvent=function(){return n.gizmos.ControllerBase.prototype.registerCameraMovedEvent.call(this)},o.unregisterCameraMoveEvent=function(){return n.gizmos.ControllerBase.prototype.unregisterCameraMoveEvent.call(this)},o.adjustControllerSize=function(){return n.gizmos.ControllerBase.prototype.adjustControllerSize.call(this)},o.onControllerMouseDown=function(o){},o.onControllerMouseMove=function(o){},o.onControllerMouseUp=function(o){},o.onMouseDown=function(o){this.onControllerMouseDown(o)},o.onMouseMove=function(o){this.onControllerMouseMove(o)},o.onMouseUp=function(o){this.onControllerMouseUp(o)},o.onMouseLeave=function(o){this.onMouseUp(o)},e}());CC_EDITOR,e._RF.pop()}}}));

System.register("chunks:///_virtual/CosmeticBodyColor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts"],(function(e){"use strict";var t,r,o,n,i,s,u,l,c,a,p,y,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.createClass},function(e){s=e.cclegacy,u=e._decorator,l=e.Texture2D,c=e.MeshRenderer,a=e.Component},function(e){p=e.logger,y=e.LogCategory,g=e.LogType}],execute:function(){var C,d,f,h,m;s._RF.push({},"b3d2eTWCjBIe5CC3pgRRK7Z","CosmeticBodyColor",void 0);var x=u.ccclass,_=u.property;e("CosmeticBodyColor",(C=x("CosmeticBodyColor"),d=_({visible:!0,type:l}),C((m=t((h=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,o(t,"_texture",m,n(t)),t}return r(t,e),t.prototype.onLoad=function(){null!=this._texture?this.getComponentInChildren(c).material.setProperty("mainTexture",this._texture):p.log(t.name+" texture is null.",y.Metagame,g.Error)},i(t,[{key:"texture",get:function(){return this._texture}}]),t}(a)).prototype,"_texture",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/cubic-bezier-curve.ts",["./rollupPluginModLoBabelHelpers.js","cc","./curve-sample.ts","./event.ts","./mathf.ts","./pool.ts"],(function(t){"use strict";var e,n,i,s,a,r,o;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,i=t.Vec3},function(t){s=t.default},function(t){a=t.default},function(t){r=t.default},function(t){o=t.default}],execute:function(){n._RF.push({},"5325fLfN2hCK5YSAMQE0ffY","cubic-bezier-curve",void 0);t("default",function(){function t(t,e){this.n1=void 0,this.n2=void 0,this.samples=[],this.changed=new a,this.length=0,this._gizmoEditing=!1,this._points=[],this._minPos=new i,this._maxPos=new i,this.n1=t,this.n2=e,this.computeSamples=this.computeSamples.bind(this),t.changed.addListener(this.computeSamples),e.changed.addListener(this.computeSamples),this.computeSamples()}var n=t.prototype;return n.connectStart=function(t){this.n1.changed.removeListener(this.computeSamples),this.n1=t,t.changed.addListener(this.computeSamples),this.computeSamples()},n.connectEnd=function(t){this.n2.changed.removeListener(this.computeSamples),this.n2=t,t.changed.addListener(this.computeSamples),this.computeSamples()},n.getInverseDirection=function(t){return(t=t||new i).set(this.n2.position).multiplyScalar(2).subtract(this.n2.direction)},n.getLocation=function(t,e){e=e||new i;var n=1-t,s=n*n,a=t*t,r=o.Vec3.get(),c=o.Vec3.get(),h=o.Vec3.get();return e.set(this.n1.position).multiplyScalar(s*n),e.add(r.set(this.n1.direction).multiplyScalar(3*s*t)),e.add(this.getInverseDirection(h).multiplyScalar(3*n*a)),e.add(c.set(this.n2.position).multiplyScalar(a*t)),o.Vec3.put(r),o.Vec3.put(c),o.Vec3.put(h),e},n.getTangent=function(t,e){e=e||new i;var n=1-t,s=n*n,a=t*t;return new i(this.n1.position).multiplyScalar(-s).add(new i(this.n1.direction).multiplyScalar(3*s-2*n)).add(this.getInverseDirection().multiplyScalar(-3*a+2*t)).add(new i(this.n2.position).multiplyScalar(a)).normalize()},n.getUp=function(t){return this.n1.up.clone().lerp(this.n2.up,t)},n.getScale=function(t){return this.n1.scale.clone().lerp(this.n2.scale,t)},n.getRoll=function(t){return r.lerp(this.n1.roll,this.n2.roll,t)},n.getSamples=function(){return this.samples},n.computeSamples=function(){var t=this.samples;t.length=31,this.length=0;for(var e=this.getLocation(0),n=0;n<=30;n++){var a=.03333333333333333*n,r=this.getLocation(a);this.length+=i.distance(e,r),e=r,t[n]||(t[n]=new s),this.updateSample(t[n],this.length,a)}this._points.length=0,this.changed.invoke()},n.updateSample=function(t,e,n){return t.set(this.getLocation(n),this.getTangent(n),this.getUp(n),this.getScale(n),this.getRoll(n),e,n)},n.getSample=function(t,e){!function(t){if(t<0||t>1)throw new Error("Time must be between 0 and 1 (was "+t+").")}(t);for(var n=this.samples,i=n[0],a=null,r=0;r<n.length;r++){var o=n[r];if(o.timeInCurve>=t){a=o;break}i=o}if(null==a)throw new Error("Can't find curve samples.");var c=a==i?0:(t-i.timeInCurve)/(a.timeInCurve-i.timeInCurve);return s.lerp(i,a,c,e)},n.getSampleAtDistance=function(t,e){if(t<0||t>this.length)throw new Error("Distance must be positive and less than curve length. Length = "+this.length+", given distance was "+t);0===t?t=.001:t===this.length&&(t=this.length-.001);for(var n=this.samples,i=n[0],a=null,r=0;r<n.length;r++){var o=n[r];if(o.distanceInCurve>=t){a=o;break}i=o}if(null==a)throw new Error("Can't find curve samples.");var c=a==i?0:(t-i.distanceInCurve)/(a.distanceInCurve-i.distanceInCurve);return s.lerp(i,a,c,e)},n.getPoints=function(){return 0===this._points.length&&this._caclBoundingBox(),this._points},n.getBounding=function(t,e){0===this._points.length&&this._caclBoundingBox(),t.set(this._minPos),e.set(this._maxPos)},n._caclBoundingBox=function(){for(var t=this._points,e=this._minPos.set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),n=this._maxPos.set(-Number.MAX_SAFE_INTEGER,-Number.MAX_SAFE_INTEGER,-Number.MAX_SAFE_INTEGER),i=this.getSamples(),s=0;s<i.length;s++){var a=t[s]=i[s].location;e.x=Math.min(e.x,a.x),e.y=Math.min(e.y,a.y),e.z=Math.min(e.z,a.z),n.x=Math.max(n.x,a.x),n.y=Math.max(n.y,a.y),n.z=Math.max(n.z,a.z)}t.length=i.length},e(t,[{key:"gizmoEditing",get:function(){return this._gizmoEditing},set:function(t){this._gizmoEditing=t}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/curve-sample.ts",["./rollupPluginModLoBabelHelpers.js","cc","./mathf.ts","./mesh-vertex.ts","./pool.ts"],(function(t){"use strict";var e,n,o,i,s,r,a,u,l;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,o=t.Vec3,i=t.Quat,s=t.Vec2},function(t){r=t.default},function(t){a=t.default},function(t){u=t.default,l=t.Pool}],execute:function(){n._RF.push({},"e97a3DFPW5DtprWvZMLUB55","curve-sample",void 0);var c=new o(0,0,1),p=Math.PI/180,h=i.fromEuler(new i,0,-90,0);t("default",function(){function t(){this.location=new o,this.tangent=new o,this.up=new o,this.scale=new s,this.roll=0,this.distanceInCurve=0,this.timeInCurve=0,this._transformedUp=null,this._rotation=null,this._bentRotation=null}t.create=function(e,n,o,i,s,r,a){return(new t).set(e,n,o,i,s,r,a)};var n=t.prototype;return n.set=function(t,e,n,o,i,s,r){return this.location.set(t),this.tangent.set(e),this.up.set(n),this.scale.set(o),this.roll=i,this.distanceInCurve=s,this.timeInCurve=r,this._transformedUp&&(u.Vec3.put(this._transformedUp),this._transformedUp=null),this._rotation&&(u.Quat.put(this._rotation),this._rotation=null),this._bentRotation&&(u.Quat.put(this._bentRotation),this._bentRotation=null),this},t.lerp=function(e,n,i,a){var l=u.Vec3.get(),c=u.Vec3.get(),p=u.Vec3.get(),h=u.Vec2.get();return(a=a||new t).set(o.lerp(l,e.location,n.location,i),o.lerp(c,e.tangent,n.tangent,i).normalize(),o.lerp(p,e.up,n.up,i),s.lerp(h,e.scale,n.scale,i),r.lerp(e.roll,n.roll,i),r.lerp(e.distanceInCurve,n.distanceInCurve,i),r.lerp(e.timeInCurve,n.timeInCurve,i)),u.Vec3.put(l),u.Vec3.put(c),u.Vec3.put(p),u.Vec2.put(h),a},n.getBent=function(t,e){e?e!==t&&e.set(t):e=a.create(t);var n=u.Vec3.get();o.multiply(e.position,e.position,n.set(0,this.scale.y,this.scale.x)),u.Vec3.put(n);var s=u.Quat.get();return i.fromAxisAngle(s,o.RIGHT,this.roll*p),o.transformQuat(e.position,e.position,s),o.transformQuat(e.normal,e.normal,s),o.transformQuat(e.tangent,e.tangent,s),u.Quat.put(s),e.position.x=0,s=this.bentRotation,o.transformQuat(e.position,e.position,s),e.position.add(this.location),o.transformQuat(e.normal,e.normal,s),o.transformQuat(e.tangent,e.tangent,s),e},e(t,[{key:"transformedUp",get:function(){if(!this._transformedUp){var t=u.Quat.get(),e=u.Vec3.get();i.fromAxisAngle(t,c,this.roll*p),o.transformQuat(e,this.up,t),this._transformedUp=o.cross(new o,this.tangent,o.cross(e,e,this.tangent).normalize()),u.Quat.put(t),u.Vec3.put(e)}return this._transformedUp}},{key:"rotation",get:function(){return this._rotation||(this._rotation=i.fromViewUp(new i,this.tangent,this.transformedUp)),this._rotation}},{key:"bentRotation",get:function(){if(!this._bentRotation){var t=u.Vec3.get(),e=u.Vec3.get();t.set(this.tangent),e.set(this.up),Math.abs(o.dot(t,this.up)-1)<.01&&(t.x+=.01,t.normalize()),o.cross(e,t,e).normalize(),o.cross(e,e,t);var n=new i;i.fromViewUp(n,t,e),this._bentRotation=i.multiply(n,n,h),u.Vec3.put(t),u.Vec3.put(e)}return this._bentRotation}}],[{key:"pool",get:function(){return this._pool||(this._pool=new l(t)),this._pool}}]),t}())._pool=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/CustomizationApplier.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./SaveGame.ts","./SaveGameKeys.ts","./CosmeticBodyColor.ts","./CustomizationBundleLoader.ts","./CustomizationEnums.ts","./CustomizationSave.ts"],(function(e){"use strict";var t,o,i,n,a,r,l,s,d,u,c,m,p,h,y,v,f,b,g,C,_,E,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Node,s=e.MeshRenderer,d=e.SkinnedMeshRenderer,u=e.instantiate,c=e.Layers,m=e.Component},function(e){p=e.logger,h=e.LogCategory,y=e.LogType},function(e){v=e.projectEvent},function(e){f=e.saveGame},function(e){b=e.SaveGameKeys},function(e){g=e.CosmeticBodyColor},function(e){C=e.cosmeticDatabase},function(e){_=e.CustomizationEvent,E=e.CosmeticCategory},function(e){S=e.CustomizationEquippedSave}],execute:function(){var z,w,I,D,B,A,L,P,H,q;a._RF.push({},"71d87wBb5tF/4IZBHLvd5JY","CustomizationApplier",void 0);var U=r.ccclass,R=r.property,G=r.executionOrder;e("CustomizationApplier",(z=U("CustomizationApplier"),w=G(10),I=R({type:l,visible:!0}),D=R({type:s,visible:!0}),B=R({type:l,visible:!0}),z(A=w((P=t((L=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"_pivotHelmet",P,n(t)),i(t,"_body",H,n(t)),i(t,"_pivotSnowboard",q,n(t)),t._layerPlayer=2,t}o(t,e);var a=t.prototype;return a.onFocusInEditor=function(){null==this._pivotHelmet&&console.error(t.name+" no helmet pivot configured"),null==this._body&&console.error(t.name+" no body configured"),null==this._pivotSnowboard&&console.error(t.name+" no snowboard pivot configured")},a.onEnable=function(){v.on(_[_.CustomizationReload],this.setSavedEquipped,this)},a.onDisable=function(){v.off(_[_.CustomizationReload],this.setSavedEquipped,this),v.off(_[_.CustomizationBundleLoaded],this.onBundleLoaded,this)},a.start=function(){null==this._body&&(this._body=this.getComponentInChildren(d)),null==this._body&&p.log(t.name+" please reference the body.",h.Gameplay,y.Error),p.log(t.name+" applying customizations."),0==C.isDataLoaded?(p.log(t.name+" Customizations not loaded."),v.on(_[_.CustomizationBundleLoaded],this.onBundleLoaded,this)):(this.validateSave(),this.setSavedEquipped())},a.onBundleLoaded=function(){this.validateSave(),this.setSavedEquipped()},a.emitCustomizationApplied=function(){this.node.emit(_[_.CustomizationApplied])},a.validateSave=function(){var e=f.getData(b[b.Save_EquippedItems]),o=!1;e||(e=new S,o=!0);var i=C.cosmetics.get(E.Helmet);e.helmet>=i.length&&(p.log(t.name+" invalid helmet Id in save"),e.helmet=0,o=!0);var n=C.cosmetics.get(E.BodyColor);e.bodyColor>=n.length&&(p.log(t.name+" invalid body color Id in save"),e.bodyColor=0,o=!0);var a=C.cosmetics.get(E.Snowboard);e.snowboard>=a.length&&(p.log(t.name+" invalid snowboard Id in save"),e.snowboard=0,o=!0);var r=C.cosmetics.get(E.Stunt);(null==e.stunt||e.stunt>=r.length)&&(p.log(t.name+" invalid stunt Id in save"),e.stunt=0,o=!0),o&&f.setData(b[b.Save_EquippedItems],e)},a.setSavedEquipped=function(){var e=f.getData(b[b.Save_EquippedItems]);this.setHelmet(e.helmet),this.setBodyColor(e.bodyColor),this.setSnowboard(e.snowboard),p.log("Applied helmet: "+e.helmet+" body color: "+e.bodyColor+" snowboard: "+e.snowboard),this.emitCustomizationApplied()},a.setHelmet=function(e){var t=this;this._pivotHelmet.destroyAllChildren();var o=C.cosmetics.get(E.Helmet),i=u(o[e]);i.setParent(this._pivotHelmet),this.node.layer==c.Enum.UI_3D?(i.layer=c.Enum.UI_3D,i.children.forEach((function(e){e.layer=c.Enum.UI_3D,e.children.forEach((function(e){e.layer=c.Enum.UI_3D}))}))):(i.layer=this._layerPlayer,i.children.forEach((function(e){e.layer=t._layerPlayer,e.children.forEach((function(e){e.layer=t._layerPlayer}))}))),this.emitCustomizationApplied()},a.setBodyColor=function(e){var t=C.cosmetics.get(E.BodyColor)[e].data.getComponent(g);this._body.material.setProperty("mainTexture",t.texture),this.emitCustomizationApplied()},a.setSnowboard=function(e){var t=this;this._pivotSnowboard.destroyAllChildren();var o=C.cosmetics.get(E.Snowboard),i=u(o[e]);i.setParent(this._pivotSnowboard),this.node.layer==c.BitMask.UI_3D?(i.layer=c.Enum.UI_3D,i.children.forEach((function(e){e.layer=c.Enum.UI_3D,e.children.forEach((function(e){e.layer=c.Enum.UI_3D}))}))):(i.layer=this._layerPlayer,i.children.forEach((function(e){e.layer=t._layerPlayer,e.children.forEach((function(e){e.layer=t._layerPlayer}))}))),this.emitCustomizationApplied()},t}(m)).prototype,"_pivotHelmet",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(L.prototype,"_body",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(L.prototype,"_pivotSnowboard",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=L))||A)||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/CustomizationBundleLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./BundleLoader.ts","./CustomizationEnums.ts"],(function(e){"use strict";var t,o,n,r,s,i,a,c,u,l,d,m,g,f;return{setters:[function(e){t=e.inheritsLoose,o=e.createClass,n=e.createForOfIteratorHelperLoose,r=e.asyncToGenerator},function(e){s=e.cclegacy,i=e._decorator,a=e.Prefab},function(e){c=e.logger,u=e.LogCategory,l=e.LogType},function(e){d=e.projectEvent},function(e){m=e.BundleLoader},function(e){g=e.CosmeticCategory,f=e.CustomizationEvent}],execute:function(){var h,p;s._RF.push({},"b0652iuT2BECrIXLrXORZHs","CustomizationBundleLoader",void 0);var v=i.ccclass,C=(i.property,e("CosmeticDatabase",v("CustomizationBundleLoader")(((p=function(e){function s(){return e.call(this,"Cosmetics")||this}t(s,e);var i=s.prototype;return i.onBundleLoaded=function(){var e=r(regeneratorRuntime.mark((function e(){var t,o,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.log(s.name+" Cosmetics bundle loaded, loading costmetics now"),s._cosmetics=new Map,e.next=4,this.loadDir("/Helmets/",a);case 4:return t=e.sent,s._cosmetics.set(g.Helmet,t),e.next=8,this.loadDir("/BodyColors/",a);case 8:return o=e.sent,s._cosmetics.set(g.BodyColor,o),e.next=12,this.loadDir("/Snowboards/",a);case 12:return n=e.sent,s._cosmetics.set(g.Snowboard,n),e.next=16,this.loadDir("/Stunts/",a);case 16:r=e.sent,s._cosmetics.set(g.Stunt,r),c.log(s.name+" Loaded "+o.length+" Helmets "+o.length+" BodyColors "+n.length+" Snowboards "+r.length+" Stunts"),d.emit(f[f.CustomizationBundleLoaded]);case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.loadDir=function(e,t){var o=this;return e?new Promise((function(n,r){o.bundle.loadDir(e,t,(function(e,t){!e&&t?n(t):(c.log(s.name+" could not load dir.",u.Metagame,l.Error),c.log(e.message,u.Metagame,l.Error),r())}))})):Promise.reject()},o(s,[{key:"cosmetics",get:function(){return s._cosmetics}},{key:"isDataLoaded",get:function(){if(!s._cosmetics)return!1;if(0==s._cosmetics.has(g.Helmet))return!1;if(0==s._cosmetics.has(g.Stunt))return!1;for(var e,t=n(s._cosmetics);!(e=t()).done;){var o=e.value,r=o[0];o[1];if(null==s._cosmetics.get(r))return!1;if(0==s._cosmetics.get(r).length)return!1}return!0}}]),s}(m))._cosmetics=void 0,h=p))||h));e("cosmeticDatabase",new C);s._RF.pop()}}}));

System.register("chunks:///_virtual/CustomizationController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./SaveGame.ts","./SaveGameKeys.ts","./CustomizationBundleLoader.ts","./CustomizationEnums.ts","./CustomizationRandomizer.ts"],(function(e){"use strict";var t,o,s,r,n,i,c,a,u,l,h,d,g,m,C,p,_,P;return{setters:[function(e){t=e.createForOfIteratorHelperLoose,o=e.createClass},function(e){s=e.cclegacy,r=e.math,n=e.game,i=e.Game,c=e.resources,a=e.JsonAsset},function(e){u=e.logger,l=e.LogCategory,h=e.LogType},function(e){d=e.projectEvent},function(e){g=e.saveGame},function(e){m=e.SaveGameKeys},function(e){C=e.cosmeticDatabase},function(e){p=e.CosmeticCategory,_=e.CustomizationEvent},function(e){P=e.CustomizationRandomizer}],execute:function(){s._RF.push({},"95b37RvMUxCg7GPoRqqeK9S","CustomizationController",void 0);var f=e("CustomizationController",function(){function e(){var e=this;this._purchasedCosmetics=void 0,this._gachaPullPrices=void 0,this._currentPriceId=0,this._cosmeticPriceByCategory=[],n.on(i.EVENT_GAME_INITED,(function(){d.on(_[_.CustomizationBundleLoaded],e.onCosmeticDatabaseLoaded,e),c.load("Settings/GachaPullPrices",a,null,e.onLoadComplete.bind(e)),c.load("Settings/CosmeticPriceByCategory",a,null,e.onLoadPricesByCategory.bind(e)),e._purchasedCosmetics=g.getData(m[m.Save_PurchasedCosmetics]),e._purchasedCosmetics||(e._purchasedCosmetics=new Map,e._purchasedCosmetics.set(p.Helmet,[0]),e._purchasedCosmetics.set(p.BodyColor,[0]),e._purchasedCosmetics.set(p.Snowboard,[0]),e._purchasedCosmetics.set(p.Stunt,[0]),g.setData(m[m.Save_PurchasedCosmetics],e._purchasedCosmetics)),e._currentPriceId=g.getData(m[m.Save_CurrentGachaPullId]),null==e._currentPriceId&&(e._currentPriceId=0,g.setData(m[m.Save_CurrentGachaPullId],e._currentPriceId))}),this)}var s=e.prototype;return s.onLoadComplete=function(e,t){this._gachaPullPrices=t.json.GachaPullPrices,u.log("Finished loading gacha pull prices Settings. "+this._gachaPullPrices.length+" loaded.")},s.onLoadPricesByCategory=function(e,t){var o=t.json.CosmeticPriceByCategory;o.sort((function(e,t){return e.CategoryId-t.CategoryId}));for(var s=0;s<o.length;s++)this._cosmeticPriceByCategory.push(o[s].Price)},s.getCosmeticPriceByCategory=function(e){return this._cosmeticPriceByCategory.length<p.Stunt?(u.log("Error, invalid cosmetic price by category",l.Metagame,h.Error),999):this._cosmeticPriceByCategory[e]},s.getGachaPullPrice=function(){return this._gachaPullPrices[this._currentPriceId].Price},s.isUnlocked=function(e,o){if(!this._purchasedCosmetics.has(e))return u.log("Error in cosmetics setup.",l.Metagame,h.Error),!1;for(var s,r=this._purchasedCosmetics.get(e),n=t(r);!(s=n()).done;){if(s.value==o)return!0}return!1},s.isAnyLocked=function(){for(var e,o=t(C.cosmetics);!(e=o()).done;){var s=e.value,r=s[0],n=s[1];if(this._purchasedCosmetics.get(r).length!=n.length)return!0}return!1},s.getCategoriesWithLockeds=function(){for(var e=new Array,t=0;t<p.Stunt+1;t++)this.getLockeds(t).length>0&&e.push(t);return e},s.getLockeds=function(e){if(!this._purchasedCosmetics.has(e))return u.log("Error in cosmetics setup.",l.Metagame,h.Error),[];for(var t=this._purchasedCosmetics.get(e),o=C.cosmetics.get(e).length,s=new Array,r=0;r<o;r++)-1==t.indexOf(r)&&s.push(r);return s},s.getRandomUnlockedStunt=function(){var t=C.cosmetics.get(p.Stunt),o=v.purchasedStunts,s=0;do{s=r.randomRangeInt(0,o.length)}while(o[s]==t.length-1);return u.log(e.name+" Randomizing stunt",l.Gameplay),o[s]},s.onCosmeticDatabaseLoaded=function(){var t=p.Stunt,o=C.cosmetics.get(t).length-1;-1==this._purchasedCosmetics.get(t).indexOf(o)&&(this._purchasedCosmetics.get(t).push(o),u.log(e.name+" unlocking stunt id "+o+" for use as random option"),this.save())},s.unlockRandom=function(){var e=this.getCategoriesWithLockeds(),t=e[r.randomRangeInt(0,e.length)],o=v.getLockeds(t);if(u.log(P.name+" "+o),null!=o&&0!=o.length){var s=o[r.randomRangeInt(0,o.length)];this._currentPriceId++,this._currentPriceId>=this._gachaPullPrices.length&&(this._currentPriceId=this._gachaPullPrices.length-1),this.unlock(t,s)}else u.log("No locked cosmetics for category "+p[t])},s.unlock=function(e,t){u.log("Unlocking "+p[e]+" : id "+t),d.emit(_[_.CustomizationPreUnlock],e,t),this._purchasedCosmetics.get(e).push(t),this.save(),d.emit(_[_.CustomizationPostUnlock],e,t)},s.unlockAll=function(){for(var e,o=t(C.cosmetics);!(e=o()).done;)for(var s=e.value,r=s[0],n=s[1],i=0;i<n.length;i++)-1==this._purchasedCosmetics.get(r).indexOf(i)&&this._purchasedCosmetics.get(r).push(i);this.save()},s.save=function(){g.setData(m[m.Save_PurchasedCosmetics],this._purchasedCosmetics),g.setData(m[m.Save_CurrentGachaPullId],this._currentPriceId)},s.isEquipped=function(e,t){var o=g.getData(m[m.Save_EquippedItems]);return e==p.Helmet?o.helmet==t:e==p.BodyColor?o.bodyColor==t:e==p.Snowboard?o.snowboard==t:e==p.Stunt?o.stunt==t:(u.log("Unknown category",l.Metagame,h.Error),!1)},o(e,[{key:"purchasedStunts",get:function(){return this._purchasedCosmetics.get(p.Stunt)}}]),e}()),v=e("customizationController",new f);s._RF.pop()}}}));

System.register("chunks:///_virtual/CustomizationEnums.ts",["cc"],(function(o){"use strict";var t;return{setters:[function(o){t=o.cclegacy}],execute:function(){var i,n;o({CosmeticCategory:void 0,CustomizationEvent:void 0}),t._RF.push({},"2643aB6GAJL6bQZPf3IVWz0","CustomizationEnums",void 0),function(o){o[o.Helmet=0]="Helmet",o[o.BodyColor=1]="BodyColor",o[o.Snowboard=2]="Snowboard",o[o.Stunt=3]="Stunt"}(i||(i=o("CosmeticCategory",{}))),function(o){o[o.CustomizationStart=0]="CustomizationStart",o[o.CustomizationPreviewCosmetic=1]="CustomizationPreviewCosmetic",o[o.CustomizationPreviewApply=2]="CustomizationPreviewApply",o[o.CustomizationReload=3]="CustomizationReload",o[o.CustomizationApplied=4]="CustomizationApplied",o[o.CustomizationPreUnlock=5]="CustomizationPreUnlock",o[o.CustomizationPostUnlock=6]="CustomizationPostUnlock",o[o.CustomizationUnlockedEffectEnded=7]="CustomizationUnlockedEffectEnded",o[o.CustomizationBundleLoaded=8]="CustomizationBundleLoaded"}(n||(n=o("CustomizationEvent",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/CustomizationPreviewer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./SaveGame.ts","./SaveGameKeys.ts","./CustomizationApplier.ts","./CustomizationBundleLoader.ts","./CustomizationController.ts","./CustomizationEnums.ts","./CustomizationSave.ts"],(function(t){"use strict";var e,i,o,n,r,s,a,u,l,p,m,c,d,h,v,C,_,y,w,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.animation,u=t.Component},function(t){l=t.logger,p=t.LogCategory,m=t.LogType},function(t){c=t.projectEvent},function(t){d=t.saveGame},function(t){h=t.SaveGameKeys},function(t){v=t.CustomizationApplier},function(t){C=t.cosmeticDatabase},function(t){_=t.customizationController},function(t){y=t.CustomizationEvent,w=t.CosmeticCategory},function(t){f=t.CustomizationEquippedSave}],execute:function(){var P,q,g,z,S,b,k;r._RF.push({},"5cdb7MWdTxPGYy//nec49yM","CustomizationPreviewer",void 0);var E=s.ccclass,A=s.property,R=s.requireComponent,D=s.executionOrder;t("CustomizationPreviewer",(P=E("CustomizationPreviewer"),q=R(v),g=D(100),z=A({type:a.AnimationController,visible:!0}),P(S=q(S=g((k=e((b=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"_animator",k,n(e)),e._keyStuntId="stuntId",e._keyStuntPlay="stuntPlay",e._applier=null,e._equippedPreview=new f,e}i(e,t);var r=e.prototype;return r.onLoad=function(){this._applier=this.getComponent(v),c.on(y[y.CustomizationStart],this.onCustomizationStart,this),c.on(y[y.CustomizationPreviewCosmetic],this.onPreviewRequest,this),c.on(y[y.CustomizationPreviewApply],this.onRequestApply,this),null==this._animator&&(this._animator=this.getComponentInChildren(a.AnimationController)),null!=this._animator&&0!=this._animator.isValid||l.log(e.name+" - No animation controller configured.",p.Gameplay,m.Error)},r.start=function(){this.onCustomizationStart()},r.onDestroy=function(){c.off(y[y.CustomizationStart],this.onCustomizationStart,this),c.off(y[y.CustomizationPreviewCosmetic],this.onPreviewRequest,this),c.off(y[y.CustomizationPreviewApply],this.onRequestApply,this)},r.onCustomizationStart=function(){var t=d.getData(h[h.Save_EquippedItems]);this._equippedPreview.helmet=t.helmet,this._equippedPreview.bodyColor=t.bodyColor,this._equippedPreview.snowboard=t.snowboard,this._equippedPreview.stunt=t.stunt},r.onPreviewRequest=function(t,i){if(t==w.Helmet)this._equippedPreview.helmet=i,this._applier.setHelmet(i);else if(t==w.BodyColor)this._equippedPreview.bodyColor=i,this._applier.setBodyColor(i);else if(t==w.Snowboard)this._equippedPreview.snowboard=i,this._applier.setSnowboard(i);else if(t==w.Stunt)if(this._equippedPreview.stunt=i,null==this._animator||0==this._animator.isValid)l.log(e.name+" - No animation controller configured.",p.Gameplay,m.Error);else{var o=i;i==C.cosmetics.get(w.Stunt).length-1&&(o=_.getRandomUnlockedStunt()),this._animator.setValue(this._keyStuntId,o),this._animator.setValue(this._keyStuntPlay,!0)}else l.log("Unknown costmetic category.",p.Metagame,m.Error)},r.onRequestApply=function(){var t=d.getData(h[h.Save_EquippedItems]);_.isUnlocked(w.Helmet,this._equippedPreview.helmet)&&(t.helmet=this._equippedPreview.helmet),_.isUnlocked(w.BodyColor,this._equippedPreview.bodyColor)&&(t.bodyColor=this._equippedPreview.bodyColor),_.isUnlocked(w.Snowboard,this._equippedPreview.snowboard)&&(t.snowboard=this._equippedPreview.snowboard),_.isUnlocked(w.Stunt,this._equippedPreview.stunt)&&(t.stunt=this._equippedPreview.stunt),d.setData(h[h.Save_EquippedItems],t),c.emit(y[y.CustomizationReload])},e}(u)).prototype,"_animator",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=b))||S)||S)||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/CustomizationRandomizer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,n,i,e;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,e=t.Component}],execute:function(){var r;n._RF.push({},"dccaeiUyR9FQ5EAXvcM/fkA","CustomizationRandomizer",void 0);var c=i.ccclass;i.property,t("CustomizationRandomizer",c("CustomizationRandomizer")(r=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.start=function(){},n}(e))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/CustomizationSave.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"28383SukoNIQbQxre3fRDUL","CustomizationSave",void 0);t("CustomizationEquippedSave",(function(){this.helmet=0,this.bodyColor=0,this.snowboard=0,this.stunt=0}));i._RF.pop()}}}));

System.register("chunks:///_virtual/DebugCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FreeCameraControl.ts"],(function(e){"use strict";var t,r,n,a,o,i,u,c,s,l,b,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){i=e.cclegacy,u=e._decorator,c=e.Camera,s=e.Enum,l=e.KeyCode,b=e.Component},function(e){p=e.FreeCameraControl}],execute:function(){var m,g,C,h,f,y,_;i._RF.push({},"eb3ac3EoeJHa5m8hBv9p9bO","DebugCamera",void 0);var d=u.ccclass,D=u.property,v=u.requireComponent;e("DebugCamera",(m=d("DebugCamera"),g=v(c),C=v(p),h=D({type:s(l),visible:!0}),m(f=g(f=C((_=t((y=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,n(t,"_startDebugKey",_,a(t)),t._camera=null,t._cameraControl=null,t}r(t,e);var i=t.prototype;return i.onLoad=function(){this._camera=this.getComponent(c),this._cameraControl=this.getComponent(p)},i.onEnable=function(){},i.onDisable=function(){},i.startDebugLayer=function(e){e.keyCode==this._startDebugKey&&(this.debugOn=!this.debugOn)},o(t,[{key:"debugOn",get:function(){return this._camera.enabled},set:function(e){this._camera.enabled=e,this._cameraControl.enabled=e}}]),t}(b)).prototype,"_startDebugKey",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.KEY_D}}),f=y))||f)||f)||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/DebugCharacterSpeed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerCharacter.ts","./ProjectEvent.ts","./GameEnums.ts"],(function(e){"use strict";var t,r,a,n,i,c,o,s,l,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,o=e.Label,s=e.Component},function(e){l=e.PlayerCharacter},function(e){u=e.projectEvent},function(e){h=e.GameEvent}],execute:function(){var p,f,b,_,g;i._RF.push({},"0ac0cKvoklGa6gnZOZbgd1A","DebugCharacterSpeed",void 0);var v=c.ccclass,y=c.property;e("DebugCharacterSpeed",(p=v("DebugCharacterSpeed"),f=y({visible:!0,type:o}),p((g=t((_=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i))||this,a(t,"_label",g,n(t)),t._character=null,t}r(t,e);var i=t.prototype;return i.start=function(){this._label.string="0"},i.onEnable=function(){u.on(h[h.GE_StartGame],this.setup,this)},i.onDisable=function(){u.off(h[h.GE_StartGame],this.setup,this)},i.setup=function(){this._character=l.instance.character.movement},i.update=function(e){this._character&&this._label&&(this._label.string=this._character.velocity.length().toFixed())},t}(s)).prototype,"_label",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=_))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/DebugDeleteSave.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,r,n,c;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,r=e._decorator,n=e.sys,c=e.Component}],execute:function(){var a;o._RF.push({},"7cf24Q2YqRMQL5EmYda+ogI","DebugDeleteSave",void 0);var u=r.ccclass;r.property,e("DebugDeleteSave",u("DebugDeleteSave")(a=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.deleteSaveAndReload=function(){n.localStorage.clear(),location.reload()},o}(c))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/DebugDraw.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts"],(function(e){"use strict";var n,o,i,t,r,a,c,s,l,u;return{setters:[function(e){n=e.inheritsLoose},function(e){o=e.cclegacy,i=e._decorator,t=e.Canvas,r=e.Graphics,a=e.Color,c=e.Component},function(e){s=e.logger,l=e.LogCategory,u=e.LogType}],execute:function(){var g,h;o._RF.push({},"35b5fSfaRlOPKI14LMhoyZU","DebugDraw",void 0);var _=i.ccclass,p=(i.property,i.requireComponent),d=i.executionOrder;e("DebugDraw",_("DebugDraw")(g=p(t)(g=p(r)(g=d(-1)(((h=function(e){function o(){for(var n,o=arguments.length,i=new Array(o),t=0;t<o;t++)i[t]=arguments[t];return(n=e.call.apply(e,[this].concat(i))||this)._graphics=null,n}n(o,e);var i=o.prototype;return i.onLoad=function(){null!=o._instance&&o._instance.isValid&&o._instance.destroy(),o._instance=this,this._graphics=this.getComponent(r)},i.update=function(){this._graphics&&this._graphics.clear()},o.line=function(e,n,o,i){this._instance._checkDebugDrawValid();var t=this._instance._graphics;if(t&&e){var r=e.convertToUINode(n,t.node),a=e.convertToUINode(o,t.node);i&&(t.strokeColor=i),t.moveTo(r.x,r.y),t.lineTo(a.x,a.y),t.close(),t.stroke()}},o.circle=function(e,n,o,i){void 0===o&&(o=a.MAGENTA),void 0===i&&(i=10),this._instance._checkDebugDrawValid();var t=this._instance._graphics;if(t&&e){var r=e.convertToUINode(n,t.node);o&&(t.strokeColor=o),t.circle(r.x,r.y,i),t.stroke()}},o.lineUI=function(e,n){this._instance._checkDebugDrawValid();var o=this._instance._graphics;o&&(o.strokeColor=a.BLUE,o.moveTo(e.x,e.y),o.lineTo(n.x,n.y),o.stroke())},i._checkDebugDrawValid=function(){this._graphics&&this._graphics.isValid||s.log("Dynamically instantiating debug canvas not working yet. Please add DebugDraw component to a canvas in scene.",l.Generic,u.Error)},o}(c))._instance=null,g=h))||g)||g)||g)||g);o._RF.pop()}}}));

System.register("chunks:///_virtual/DebugGiveCoins.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerPurseController.ts"],(function(e){"use strict";var i,t,r,n,o,l,a,u,s;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Label,u=e.Component},function(e){s=e.PlayerPurseController}],execute:function(){var c,p,b,v,f,y,d;o._RF.push({},"da1826xovZC4ZZz1JDgNjre","DebugGiveCoins",void 0);var g=l.ccclass,_=l.property;e("DebugGiveCoins",(c=g("DebugGiveCoins"),p=_({visible:!0}),b=_({type:a,visible:!0}),c((y=i((f=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return i=e.call.apply(e,[this].concat(o))||this,r(i,"_value",y,n(i)),r(i,"_label",d,n(i)),i}t(i,e);var o=i.prototype;return o.onLoad=function(){this._label&&(this._label.string=this._value.toFixed())},o.addCoins=function(){s.addCoins(this._value)},i}(u)).prototype,"_value",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),d=i(f.prototype,"_label",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=f))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/DebugLoadLevelOnStart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./GameEnums.ts"],(function(t){"use strict";var e,n,o,r,u,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.Component},function(t){u=t.projectEvent},function(t){c=t.GameEvent}],execute:function(){var a;n._RF.push({},"9f368MLeQxL6q2TnOQyIqmm","DebugLoadLevelOnStart",void 0);var s=o.ccclass;o.property,t("DebugLoadLevelOnStart",s("DebugLoadLevelOnStart")(a=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.start=function(){u.emit(c[c.GE_LoadLevel])},n}(r))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/DebugPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,o,r,c,a,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,a=e.Node,s=e.KeyCode,u=e.Component}],execute:function(){var l,p,_,d,h;r._RF.push({},"9d064W5a/tP3p612/jCmNTV","DebugPanel",void 0);var y=c.ccclass,f=c.property;e("DebugPanel",(l=y("DebugPanel"),p=f({type:a,visible:!0}),l((h=t((d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(t,"_container",h,o(t)),t._counter=0,t._neededToActivate=4,t}n(t,e);var r=t.prototype;return r.onLoad=function(){this._container.active=!1},r.onDestroy=function(){},r.onKeyDown=function(e){switch(e.keyCode){case s.KEY_C:this._counter<this._neededToActivate?this._counter++:this._container.active=!this._container.active}},t}(u)).prototype,"_container",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=d))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/DebugPlayerLevelUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerLevelController.ts","./PlayerLevelSettings.ts"],(function(e){"use strict";var t,r,l,n,o,u;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,l=e._decorator,n=e.Component},function(e){o=e.PlayerLevelController},function(e){u=e.levelingSettings}],execute:function(){var c;r._RF.push({},"ca89anhPeZOI5EercUv3UBE","DebugPlayerLevelUp",void 0);var i=l.ccclass;l.property,e("DebugPlayerLevelUp",i("DebugPlayerLevelUp")(c=function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r.prototype.debugLevelUp=function(){var e=u.getXpRequirementForLevel(o.level+1);o.addXp(e)},r}(n))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/DebugReloadScene.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,o,r,i,c,a,u,l,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,a=e.Enum,u=e.KeyCode,l=e.director,s=e.Component}],execute:function(){var p,d,y,b,f;i._RF.push({},"82f9ahrLtFPJYMbm1g2SJoM","DebugReloadScene",void 0);var g=c.ccclass,h=c.property;e("DebugReloadScene",(p=g("DebugReloadScene"),d=h({type:a(u),visible:!0}),p((f=n((b=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return n=e.call.apply(e,[this].concat(i))||this,o(n,"_debugKey",f,r(n)),n}t(n,e);var i=n.prototype;return i.onEnable=function(){},i.onDisable=function(){},i.onKeyDown=function(e){e.keyCode==this._debugKey&&l.loadScene(l.getScene().name)},n}(s)).prototype,"_debugKey",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.KEY_R}}),y=b))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/DebugStartGameOnStart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./GameEnums.ts"],(function(t){"use strict";var e,r,n,a,o,u;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,a=t.Component},function(t){o=t.projectEvent},function(t){u=t.GameEvent}],execute:function(){var c;r._RF.push({},"2e29eorTbpFy6CmBD003jVv","DebugStartGameOnStart",void 0);var s=n.ccclass;n.property,t("DebugStartGameOnStart",s("DebugStartGameOnStart")(c=function(t){function r(){return t.apply(this,arguments)||this}return e(r,t),r.prototype.start=function(){o.emit(u[u.GE_StartGame])},r}(a))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/DebugTeleportToFinish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelEnd.ts","./PlayerCharacter.ts"],(function(e){"use strict";var n,t,o,r,i,s,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,r=e.Vec3,i=e.Component},function(e){s=e.LevelEnd},function(e){c=e.PlayerCharacter}],execute:function(){var u;t._RF.push({},"6cb4bJHCfFOPaDirQn2j/2X","DebugTeleportToFinish",void 0);var l=o.ccclass;o.property,e("DebugTeleportToFinish",l("DebugTeleportToFinish")(u=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.teleportToFinish=function(){var e=new r(s.instance.node.worldPosition);e.y+=20,c.instance.node.worldPosition=e},t}(i))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/DebugUnlockCosmetics.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CustomizationController.ts"],(function(t){"use strict";var o,n,e,c,s;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,c=t.Component},function(t){s=t.customizationController}],execute:function(){var i;n._RF.push({},"6a35dv/VthJt7aJNBa24tiS","DebugUnlockCosmetics",void 0);var r=e.ccclass;e.property,t("DebugUnlockCosmetics",r("DebugUnlockCosmetics")(i=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.unlockAll=function(){s.unlockAll()},n}(c))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/DistributeReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./PlayerEnums.ts","./PlayerLevelController.ts"],(function(e){"use strict";var n,t,r,o,a,i,l,d,c,s;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator,o=e.Component},function(e){a=e.logger,i=e.LogCategory,l=e.LogType},function(e){d=e.projectEvent},function(e){c=e.PlayerEvent},function(e){s=e.PlayerLevelController}],execute:function(){var u;t._RF.push({},"b738dqUDJdPWLI7QYjSEYUQ","DistributeReward",void 0);var y=r.ccclass;e("DistributeReward",y("DistributeReward")(u=function(e){function t(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this)._called=!1,n}n(t,e);var r=t.prototype;return r.onEnable=function(){d.on(c[c.PlayerLandedAtEnd],this.onPlayerLandedAtEnd,this)},r.onDisable=function(){d.off(c[c.PlayerLandedAtEnd],this.onPlayerLandedAtEnd,this)},r.onPlayerLandedAtEnd=function(e){this._called||(this._called=!0,e>0?(a.log("onPlayerLandedAtEnd! "+e+" xp earned."),s.addXp(e)):a.log("onPlayerLandedAtEnd! invalid "+e+" distance.",i.Metagame,l.Warning))},t}(o))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/Draggable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InputEnums.ts"],(function(t){"use strict";var n,i,r,e,o,a,s,c,g,u,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.createClass,r=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,c=t.EventHandler,g=t.Vec2,u=t.Component},function(t){h=t.InputEvent}],execute:function(){var l,D,_,S,p,b,f,P,d;a._RF.push({},"4ba62TPJzhCar5/gykBs0KI","Draggable",void 0);var v=s.ccclass,y=s.property,O=(t("Draggable",(l=v("Draggable"),D=y({type:[c],visible:!0}),_=y({type:[c],visible:!0}),S=y({type:[c],visible:!0}),l((f=n((b=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,e(n,"_onDragStart",f,o(n)),e(n,"_onDragUpdate",P,o(n)),e(n,"_onDragEnd",d,o(n)),n._touchPositionOnDragStart=null,n._objectScreenPositionOnDragStart=null,n._isDragging=!1,n}r(n,t);var i=n.prototype;return i.onDisable=function(){this.isDragging()&&this.endDrag()},i.isDragging=function(){return this._isDragging},i.startDrag=function(t,n){this._touchPositionOnDragStart=new g(t);var i=n.worldToScreen(this.node.worldPosition);this._objectScreenPositionOnDragStart=new g(i.x,i.y),this._isDragging=!0;var r=new O(this._touchPositionOnDragStart,this._objectScreenPositionOnDragStart,this._touchPositionOnDragStart,n);this.node.emit(h[h.Input_DragStart],r),c.emitEvents(this._onDragStart,r)},i.updateDrag=function(t,n){if(this.isDragging()){var i=new O(this._touchPositionOnDragStart,this._objectScreenPositionOnDragStart,t,n);this.node.emit(h[h.Input_DragUpdate],i),c.emitEvents(this._onDragUpdate,i)}},i.endDrag=function(t,n){void 0===t&&(t=null),void 0===n&&(n=null),this._isDragging=!1;var i=new O(this._touchPositionOnDragStart,this._objectScreenPositionOnDragStart,t,n);this.node.emit(h[h.Input_DragEnd],i),c.emitEvents(this._onDragEnd,i)},n}(u)).prototype,"_onDragStart",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=n(b.prototype,"_onDragUpdate",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=n(b.prototype,"_onDragEnd",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=b))||p)),t("DragData",function(){function t(t,n,i,r){this._touchPositionOnDragStart=null,this._objectScreenPositionOnDragStart=null,this._touchPosition=null,this._camera=null,this._touchPositionOnDragStart=t,this._objectScreenPositionOnDragStart=n,this._touchPosition=i,this._camera=r}return i(t,[{key:"touchScreenPositionOnDragStart",get:function(){return this._touchPositionOnDragStart}},{key:"objectScreenPositionOnDragStart",get:function(){return this._objectScreenPositionOnDragStart}},{key:"touchScreenPosition",get:function(){return this._touchPosition}},{key:"camera",get:function(){return this._camera}}]),t}()));a._RF.pop()}}}));

System.register("chunks:///_virtual/DropArea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InputEnums.ts"],(function(e){"use strict";var t,r,n,o,i,a,p,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,p=e.EventHandler,s=e.Component},function(e){c=e.DropAreaEvent}],execute:function(){var l,u,d,f,D,g,b,v,y;i._RF.push({},"f05cdFrYUFEhLDfRJevq1qh","DropArea",void 0);var _=a.ccclass,h=a.property;e("DropArea",(l=_("DropArea"),u=h({type:[p],visible:!0}),d=h({type:[p],visible:!0}),f=h({type:[p],visible:!0}),l((b=t((g=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"_onTargeted",b,o(t)),n(t,"_onUntargeted",v,o(t)),n(t,"_onDroppableDropped",y,o(t)),t}r(t,e);var i=t.prototype;return i.setTargetedBy=function(e){this.node.emit(c[c.DropArea_Targeted],e),p.emitEvents(this._onTargeted,e)},i.setUntargetedBy=function(e){this.node.emit(c[c.DropArea_Untargeted],e),p.emitEvents(this._onUntargeted,e)},i.drop=function(e){this.node.emit(c[c.DropArea_Dropped],e),p.emitEvents(this._onDroppableDropped,e)},t}(s)).prototype,"_onTargeted",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=t(g.prototype,"_onUntargeted",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=t(g.prototype,"_onDroppableDropped",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=g))||D));i._RF.pop()}}}));

System.register("chunks:///_virtual/Droppable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Draggable.ts","./DropArea.ts","./InputEnums.ts"],(function(e){"use strict";var r,t,i,o,n,a,s,l,p,h,d,u,g,c,D;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.createClass},function(e){a=e.cclegacy,s=e._decorator,l=e.Collider,p=e.EventHandler,h=e.Vec3,d=e.Component},function(e){u=e.Draggable},function(e){g=e.DropArea},function(e){c=e.InputEvent,D=e.DroppableEvent}],execute:function(){var _,f,A,b,E,v,m,y,C,T,I,S,x,L;a._RF.push({},"e0197pg1alPh4ShgAIZoXQ0","Droppable",void 0);var w=s.ccclass,z=s.property,V=s.requireComponent;e("Droppable",(_=w("Droppable"),f=V(u),A=z({type:l,visible:!0}),b=z({type:[p],visible:!0}),E=z({type:[p],visible:!0}),v=z({type:[p],visible:!0}),m=z({type:[p],visible:!0}),_(y=f((T=r((C=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,i(r,"_collider",T,o(r)),i(r,"_onValidDrop",I,o(r)),i(r,"_onFailedDrop",S,o(r)),i(r,"_onEnteredADropArea",x,o(r)),i(r,"_onLeftAllDropArea",L,o(r)),r._draggable=null,r._dropArea=null,r._closeDropAreas=[],r}t(r,e);var a=r.prototype;return a.onLoad=function(){this._draggable=this.node.getComponent(u)},a.onEnable=function(){this.node.on(c[c.Input_DragStart],this.onDragStart,this),this.node.on(c[c.Input_DragEnd],this.onDragEnd,this),this._collider.on("onTriggerEnter",this.onTriggerEnter,this),this._collider.on("onTriggerExit",this.onTriggerExit,this)},a.onDisable=function(){this._draggable&&(this.node.off(c[c.Input_DragStart],this.onDragStart,this),this.node.off(c[c.Input_DragEnd],this.onDragEnd,this)),this._collider&&(this._collider.off("onTriggerEnter",this.onTriggerEnter,this),this._collider.off("onTriggerExit",this.onTriggerExit,this))},a.onDragStart=function(e){this._closeDropAreas=[],this.dropArea=null},a.onDragEnd=function(e){this.dropArea?(this.dropArea.drop(this),this.node.emit(D[D.Droppable_ValidDrop]),p.emitEvents(this._onValidDrop)):(this.node.emit(D[D.Droppable_InvalidDrop]),p.emitEvents(this._onFailedDrop)),this.dropArea=null},a.onTriggerEnter=function(e){if(this._draggable.isDragging()){var r=e.otherCollider.node.getComponent(g);if(r&&r.enabled)-1==this._closeDropAreas.findIndex((function(e){return e==r}))&&(this._closeDropAreas.push(r),this.dropArea=this.getClosestDropArea())}},a.onTriggerExit=function(e){if(this._draggable.isDragging()){var r=e.otherCollider.node.getComponent(g);if(r){var t=this._closeDropAreas.findIndex((function(e){return e==r}));t>-1&&(this._closeDropAreas.splice(t,1),this.dropArea=this.getClosestDropArea())}}},a.getClosestDropArea=function(){for(var e=null,r=Number.MAX_VALUE,t=0;t<this._closeDropAreas.length;t++){var i=new h;h.subtract(i,this._closeDropAreas[t].node.position,this.node.position),i.lengthSqr()<r&&(e=this._closeDropAreas[t],r=i.lengthSqr())}return e},n(r,[{key:"dropArea",get:function(){return this._dropArea},set:function(e){if(this._dropArea!=e){var r=!0;null!=this._dropArea&&(this._dropArea.setUntargetedBy(this),r=!1),this._dropArea=e,null!=this._dropArea?(this._dropArea.setTargetedBy(this),r&&(this.node.emit(D[D.Droppable_EnteredADropArea]),p.emitEvents(this._onEnteredADropArea))):r||(this.node.emit(D[D.Droppable_LeftAllDropAreas]),p.emitEvents(this._onLeftAllDropArea))}}}]),r}(d)).prototype,"_collider",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=r(C.prototype,"_onValidDrop",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=r(C.prototype,"_onFailedDrop",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=r(C.prototype,"_onEnteredADropArea",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=r(C.prototype,"_onLeftAllDropArea",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=C))||y)||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/editor.ts",["cc","./env","./npm.ts"],(function(t){"use strict";var e,c;return{setters:[function(t){e=t.cclegacy},function(t){c=t.EDITOR},null],execute:function(){e._RF.push({},"ecf777/C31MVJNamTmKSC+3","editor",void 0);t("Editor",c),t("projectPath",c),t("projectAssetPath",c);e._RF.pop()}}}));

System.register("chunks:///_virtual/event.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"491abee/xBL+a9q9tGmsGRU","event",void 0);e("default",function(){function e(){this._listeners=[]}var t=e.prototype;return t.addListener=function(e,t){for(var n=this._listeners,r=0;r<n.length;r++)if(n[r][0]===e&&n[r][1]===t)return;this._listeners.push([e,t])},t.removeListener=function(e,t){for(var n=this._listeners,r=0;r<n.length;r++)if(n[r][0]===e)return void n.splice(r,1)},t.invoke=function(e,t,n,r,i,s){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var c=this._listeners,f=0;f<c.length;f++){var a=c[f];a[0].apply(a[1],o)}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/EventListener.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseEventListener.ts"],(function(e){"use strict";var t,n,r,i,s,c,o,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.createClass},function(e){c=e.cclegacy,o=e._decorator},function(e){a=e.BaseEventListener}],execute:function(){var l,u,v,p,f;c._RF.push({},"dd9c0fxyXpOX7Q1l8AlM8Gz","EventListener",void 0);var y=o.ccclass,h=o.property;e("EventListener",(l=y("EventListener"),u=h({visible:!0}),l((f=t((p=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return t=e.call.apply(e,[this].concat(s))||this,r(t,"_eventID",f,i(t)),t}return n(t,e),s(t,[{key:"eventID",get:function(){return this._eventID}}]),t}(a)).prototype,"_eventID",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=p))||v));c._RF.pop()}}}));

System.register("chunks:///_virtual/EventRaiser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseEventRaiser.ts"],(function(e){"use strict";var t,r,i,n,a,s,o,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,o=e._decorator},function(e){c=e.BaseEventRaiser}],execute:function(){var u,l,p,f,y,v,h;s._RF.push({},"a2b25EHeuNHtrhlTfnn9xoq","EventRaiser",void 0);var d=o.ccclass,_=o.property;e("EventRaiser",(u=d("EventRaiser"),l=_({visible:!0}),p=_({visible:!0}),u((v=t((y=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"_key",v,n(t)),i(t,"_data",h,n(t)),t}return r(t,e),a(t,[{key:"eventKey",get:function(){return this._key}},{key:"data",get:function(){if(this._data.length>0)return this._data;throw"Empty data"}}]),t}(c)).prototype,"_key",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=t(y.prototype,"_data",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=y))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/fixed-buffer.ts",["cc"],(function(t){"use strict";var e,i,r;return{setters:[function(t){e=t.cclegacy,i=t.gfx,r=t.utils}],execute:function(){e._RF.push({},"c525aXqpN1H1aoGvmJh1LMN","fixed-buffer",void 0);var f=t("builtinAttributes",{position:{name:i.AttributeName.ATTR_POSITION,format:i.Format.RGB32F},normal:{name:i.AttributeName.ATTR_NORMAL,format:i.Format.RGB32F},uv:{name:i.AttributeName.ATTR_TEX_COORD,format:i.Format.RG32F},uv1:{name:i.AttributeName.ATTR_TEX_COORD1,format:i.Format.RG32F},color:{name:i.AttributeName.ATTR_COLOR,format:i.Format.RGBA32F},tangent:{name:i.AttributeName.ATTR_TANGENT,format:i.Format.RGBA32F}});t("default",function(){function t(){this._buffer=null,this._ibuffer=null,this._vbuffer=null,this._dataView=null,this._iView=null,this._attrs={},this.verticesCount=0,this.indicesCount=0,this.verticesBytes=0,this.indicesBytes=0,this.verticesOffset=0,this.indicesOffset=0,this.stride=0}t.create=function(e,r,s,n){void 0===s&&(s=["position","normal","tangent","uv","uv1"]);for(var a=n.arrayBuffer,u=void 0===a?null:a,o=n.arrayBufferVerticesOffset,c=void 0===o?0:o,v=n.arrayBufferIndicesOffset,m=void 0===v?0:v,_={},d=0,h=0;h<s.length;h++){var O=f[s[h]].format,b=i.FormatInfos[O];_[s[h]]={gfxIndex:h,offset:d,format:O},d+=b.size}var l=new t;return l.verticesCount=e,l.indicesCount=r,l.verticesBytes=e*d,l.indicesBytes=2*r,u?(l.verticesOffset=c,l.indicesOffset=m,l._buffer=u):(l.verticesOffset=0,l.indicesOffset=l.verticesBytes,l._buffer=new ArrayBuffer(e*d+2*r)),l._dataView=new DataView(l._buffer,l.verticesOffset,l.verticesBytes),l._iView=new Uint16Array(l._buffer,l.indicesOffset,r),l._vbuffer=new Uint8Array(l._buffer,l.verticesOffset,l.verticesBytes),l._ibuffer=new Uint8Array(l._buffer,l.indicesOffset,l.indicesBytes),l.stride=d,l._attrs=_,l};var e=t.prototype;return e.writeVertex=function(t,e,i){var f=this._attrs[e],s=this.verticesOffset+t*this.stride+f.offset;r.writeBuffer(this._dataView,i,f.format,s,this.stride)},e.writeIndex=function(t,e){var i=this.indicesOffset+t;this._iView[i]=e},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/fixed-model-mesh.ts",["cc","./fixed-buffer.ts"],(function(e){"use strict";var t,i,r,s,n,u,f;return{setters:[function(e){t=e.cclegacy,i=e.utils,r=e.gfx,s=e.Vec3,n=e.Mesh},function(e){u=e.builtinAttributes,f=e.default}],execute:function(){t._RF.push({},"45f87tuFodG1Zv7KceLZJhn","fixed-model-mesh",void 0);e("default",function(){function e(){this.mesh=null,this.modelComp=null,this.maxBatchVerticesCount=0,this._buffers=[],this._dataView=null,this._iView=null,this._attrs={},this._stride=0}e.create=function(t,i,a,o,d){void 0===d&&(d=["position","normal","tangent","uv","uv1"]);for(var c=new e,h=[],v={},l=0,m=0;m<d.length;m++){var _=u[d[m]],p=_.format;h.push(new r.Attribute(_.name,p)),v[d[m]]={gfxIndex:m,offset:l,format:p},l+=r.FormatInfos[p].size}c._attrs=v,c._stride=l;var w=c._buffers,x=o*t*l,B=new ArrayBuffer(x+o*i*2);c._dataView=new DataView(B,0,x),c._iView=new Uint16Array(B,x,o*i);for(var V=Math.floor(65535/t),b=0,y=x;o>0;){var C=Math.min(V,o),g=f.create(C*t,C*i,d,{arrayBuffer:B,arrayBufferVerticesOffset:b,arrayBufferIndicesOffset:y});w.push(g),o-=V,b+=g.verticesBytes,y+=g.indicesBytes}c.maxBatchVerticesCount=V*t;for(var A={vertexBundles:[],primitives:[],minPosition:new s,maxPosition:new s},I=0;I<w.length;I++){var M={attributes:h,view:{offset:w[I].verticesOffset,length:w[I].verticesBytes,count:w[I].verticesCount,stride:l}};A.vertexBundles.push(M);var F={primitiveMode:r.PrimitiveMode.TRIANGLE_LIST,vertexBundelIndices:[I],indexView:{offset:w[I].indicesOffset,length:w[I].indicesBytes,count:w[I].indicesCount,stride:2}};A.primitives.push(F)}var O=new n;return O.reset({struct:A,data:new Uint8Array(B)}),c.mesh=O,c.modelComp=a,c};var t=e.prototype;return t.writeVertex=function(e,t,r){var s=this._attrs[t],n=e*this._stride+s.offset;i.writeBuffer(this._dataView,r,s.format,n,this._stride)},t.writeIndex=function(e,t){t%=this.maxBatchVerticesCount,this._iView[e]=t},t.update=function(){for(var e=this.modelComp,t=this.mesh.renderingSubMeshes,i=0;i<t.length;i++){var r=t[i],s=this._buffers[i];r.vertexBuffers[0].update(s._vbuffer),r.indexBuffer.update(s._ibuffer);var n=e.model&&e.model.subModels[i];if(n){var u=n.inputAssembler;if(!u)return;u.vertexCount=s.verticesCount,u.indexCount=s.indicesCount,n.update()}}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/follow-path-mesh.ts",["./rollupPluginModLoBabelHelpers.js","cc","./mesh-tiling.ts","./spline.ts"],(function(e){"use strict";var t,i,n,r,o,s,l,p,a,c,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,l=e._decorator,p=e.Vec3,a=e.Mat4,c=e.Component},function(e){f=e.default},function(e){h=e.default}],execute:function(){var u,d,g,_,y,w;s._RF.push({},"f58d1ZFzyxClooYbcdNz6O1","follow-path-mesh",void 0);var v=l.ccclass,m=l.property,E=(l.type,l.executeInEditMode);new p,new a,e("followPathMesh",(u=v("followPathMesh"),d=m({serializable:!1}),u(g=E((y=t((_=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"duration",y,r(t)),n(t,"_previewInEditor",w,r(t)),t._offset=0,t._spline=null,t._meshTilling=null,t}i(t,e);var s=t.prototype;return s.start=function(){},s.update=function(e){if(this.spline){if(CC_EDITOR){if(!this.previewInEditor)return;cce.Engine.repaintInEditMode()}var t=this.spline.length/5/60;this.meshTilling.offset=this._offset,this._offset+=t,this._offset=this._offset%this.spline.length}},o(t,[{key:"previewInEditor",get:function(){return this._previewInEditor},set:function(e){this._previewInEditor=e,cce.Engine.repaintInEditMode()}},{key:"spline",get:function(){if(!this._spline)for(var e=this.node;e&&(this._spline=e.getComponent(h),!this._spline);)e=e.parent;return this._spline}},{key:"meshTilling",get:function(){return this._meshTilling||(this._meshTilling=this.getComponent(f)),this._meshTilling}}]),t}(c)).prototype,"duration",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),w=t(_.prototype,"_previewInEditor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(_.prototype,"previewInEditor",[m],Object.getOwnPropertyDescriptor(_.prototype,"previewInEditor"),_.prototype),g=_))||g)||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/follow-path-object.ts",["./rollupPluginModLoBabelHelpers.js","cc","./spline.ts"],(function(t){"use strict";var e,i,r,n,o,a,p,s,l,c,u,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,p=t._decorator,s=t.Vec3,l=t.Mat4,c=t.Node,u=t.Component},function(t){f=t.default}],execute:function(){var d,h,w,g,v,y,_,E;a._RF.push({},"1fe87zLTTlCEpoJDQJwELeM","follow-path-object",void 0);var b=p.ccclass,I=p.property,m=p.type,M=p.executeInEditMode,z=new s,C=new l;t("followPath",(d=b("followPath"),h=m(c),w=I({serializable:!1}),d(g=M((y=e((v=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"target",y,n(e)),r(e,"duration",_,n(e)),r(e,"_previewInEditor",E,n(e)),e._time=0,e._spline=null,e}i(e,t);var a=e.prototype;return a.start=function(){},a.update=function(t){if(this.spline){if(CC_EDITOR){if(!this.previewInEditor)return;cce.Engine.repaintInEditMode()}var e=this._time/this.duration;e%=this.spline.nodes.length-1;var i=this.spline.getSample(e),r=this.spline.node.worldMatrix;s.transformMat4(z,i.location,r);var n=this.target.parent.worldMatrix;l.invert(C,n),s.transformMat4(z,z,C),this.target.position=z,this.target.rotation=i.rotation,this._time+=t}},o(e,[{key:"previewInEditor",get:function(){return this._previewInEditor},set:function(t){this._previewInEditor=t,cce.Engine.repaintInEditMode()}},{key:"spline",get:function(){if(!this._spline)for(var t=this.node;t&&(this._spline=t.getComponent(f),!this._spline);)t=t.parent;return this._spline}}]),e}(u)).prototype,"target",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(v.prototype,"duration",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),E=e(v.prototype,"_previewInEditor",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(v.prototype,"previewInEditor",[I],Object.getOwnPropertyDescriptor(v.prototype,"previewInEditor"),v.prototype),g=v))||g)||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/FollowDragOnGroundExample.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Draggable.ts","./InputEnums.ts"],(function(n){"use strict";var e,t,r,o,i,a,s,l,u,c,d,p,g,h;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,r=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){i=n.cclegacy,a=n._decorator,s=n.Layers,l=n.geometry,u=n.PhysicsSystem,c=n.Collider,d=n.Vec3,p=n.Component},function(n){g=n.Draggable},function(n){h=n.InputEvent}],execute:function(){var y,f,m,v,D,b;i._RF.push({},"508557u52tOdqiIYtxcbrB7","FollowDragOnGroundExample",void 0);var P=a.ccclass,w=a.property,L=a.requireComponent;n("FollowDragOnGroundExample",(y=P("FollowDragOnGroundExample"),f=L(g),m=w({type:s.BitMask,visible:!0}),y(v=f((b=e((D=function(n){function e(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i))||this,r(e,"_groundLayerMask",b,o(e)),e}t(e,n);var i=e.prototype;return i.onLoad=function(){this.node.on(h[h.Input_DragUpdate],this.onDragUpdate,this)},i.onDragUpdate=function(n){var e=this.getGroundPosition(n);e&&(this.node.worldPosition=e)},i.getGroundPosition=function(n){var e=new l.Ray;if(n.camera.screenPointToRay(n.touchScreenPosition.x,n.touchScreenPosition.y,e),u.instance.raycast(e)){for(var t=u.instance.raycastResults,r=null,o=Number.MAX_VALUE,i=this.node.getComponentsInChildren(c),a=0;a<t.length;a++)if((t[a].collider.node.layer&this._groundLayerMask)>0&&!this.isSubCollider(t[a].collider,i)){var s=new d(0,0,0);d.subtract(s,t[a].hitPoint,e.o),s.lengthSqr()<o&&(o=s.lengthSqr(),r=t[a])}if(r)return r.hitPoint}return null},i.isSubCollider=function(n,e){return e.indexOf(n)>-1},e}(p)).prototype,"_groundLayerMask",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s.makeMaskInclude([s.BitMask.DEFAULT])}}),v=D))||v)||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/FollowTarget.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,o,n,a,s,l,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){a=t.cclegacy,s=t._decorator,l=t.Node,u=t.Vec3,c=t.Component}],execute:function(){var g,p,h,f,_,d,b,w,y,P,v;a._RF.push({},"7c846AQLhFPZ6PYQFTpbYJ1","FollowTarget",void 0);var D=s.ccclass,F=s.property;s.requireComponent,t("FollowTarget",(g=D("FollowTarget"),p=F({type:l,visible:!0}),h=F({visible:!0}),f=F({visible:!0}),_=F({visible:!0,type:u}),g((w=e((b=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(e,"_target",w,o(e)),r(e,"_useLerp",y,o(e)),r(e,"_speed",P,o(e)),r(e,"_offset",v,o(e)),e._targetDelta=null,e._targetPosition=new u,e}i(e,t);var a=e.prototype;return a.start=function(){null!=this.target&&this.calculateDelta()},a.update=function(t){null!=this.target&&(this._targetPosition.set(this.target.worldPosition),this._targetPosition.add(this._targetDelta),this._targetPosition.add(this._offset),this._useLerp?this.node.worldPosition=this.node.worldPosition.lerp(this._targetPosition,t*this._speed):this.node.worldPosition=this._targetPosition)},a.calculateDelta=function(){var t=new u(0,0,0);u.subtract(t,this.node.worldPosition,this.target.worldPosition),this.targetDelta=t},n(e,[{key:"target",get:function(){return this._target},set:function(t){this._target=t,null!=this._target&&this.calculateDelta()}},{key:"targetDelta",get:function(){return this._targetDelta},set:function(t){this._targetDelta=t}}]),e}(c)).prototype,"_target",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(b.prototype,"_useLerp",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),P=e(b.prototype,"_speed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),v=e(b.prototype,"_offset",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),d=b))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/FreeCameraControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,n,i,s,r,a,u,h,_,c,l,m,v,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.createClass},function(e){r=e.cclegacy,a=e._decorator,u=e.Vec3,h=e.input,_=e.Input,c=e.EventMouse,l=e.math,m=e.KeyCode,v=e.Component,E=e.Vec2}],execute:function(){var y,p,d,f,k,g,b;r._RF.push({},"682ea50NeJBcJ/mKZTcqisI","FreeCameraControl",void 0);var K=a.ccclass,T=a.property;e("FreeCameraControl",(y=K("FreeCameraControl"),p=T({visible:!0}),d=T({visible:!0}),y((g=t((k=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,n(t,"_moveSpeed",g,i(t)),n(t,"_mouseSensitivity",b,i(t)),t._movement=new u(0,0,0),t._lookingAround=!1,t}o(t,e);var r=t.prototype;return r.onEnable=function(){h.on(_.EventType.MOUSE_UP,this.onMouseUp,this),h.on(_.EventType.MOUSE_DOWN,this.onMouseDown,this),this._movement=new u(0,0,0),this._lookingAround=!1},r.update=function(e){if(this._lookingAround){var t=new u;u.multiplyScalar(t,this._movement,this._moveSpeed*e);var o=new u;u.multiplyScalar(o,this.node.forward,t.z);var n=new u;u.multiplyScalar(n,this.node.right,t.x);var i=new u;u.multiplyScalar(i,this.node.up,t.y);var s=new u(this.node.worldPosition);u.add(s,s,o),u.add(s,s,n),u.add(s,s,i),this.node.worldPosition=s}},r.onDisable=function(){this.lookingAround=!1,h.off(_.EventType.MOUSE_DOWN,this.onMouseDown,this),h.off(_.EventType.MOUSE_UP,this.onMouseUp,this)},r.onMouseDown=function(e){e.getButton()==c.BUTTON_RIGHT&&(this.lookingAround=!0)},r.onMouseUp=function(e){e.getButton()==c.BUTTON_RIGHT&&(this.lookingAround=!1)},r.onMouseMove=function(e){if(this.lookingAround){var t=new u;this.node.rotation.getEulerAngles(t);new l.Quat(l.Quat.IDENTITY);0!=e.getDeltaX()&&(t.y-=e.getDeltaX()*this._mouseSensitivity.x);new l.Quat(l.Quat.IDENTITY);0!=e.getDeltaY()&&(t.x+=e.getDeltaY()*this._mouseSensitivity.y);var o=new l.Quat(l.Quat.IDENTITY);l.Quat.fromEuler(o,t.x,t.y,t.z),this.node.rotation=o}},r.onKeyDown=function(e){switch(e.keyCode){case m.KEY_A:this._movement.x-=1;break;case m.KEY_W:this._movement.z+=1;break;case m.KEY_D:this._movement.x+=1;break;case m.KEY_S:this._movement.z-=1;break;case m.KEY_Z:this._movement.y-=1;break;case m.KEY_C:this._movement.y+=1;break;case m.KEY_Q:this._movement.y-=1;break;case m.KEY_E:this._movement.y+=1;break;case m.SHIFT_LEFT:this._moveSpeed*=2;break;case m.ESCAPE:this.lookingAround=!1}},r.onKeyUp=function(e){switch(e.keyCode){case m.KEY_A:this._movement.x+=1;break;case m.KEY_W:this._movement.z-=1;break;case m.KEY_D:this._movement.x-=1;break;case m.KEY_S:this._movement.z+=1;break;case m.KEY_Z:this._movement.y+=1;break;case m.KEY_C:this._movement.y-=1;break;case m.KEY_Q:this._movement.y+=1;break;case m.KEY_E:this._movement.y-=1;break;case m.SHIFT_LEFT:this._moveSpeed/=2}},s(t,[{key:"lookingAround",get:function(){return this._lookingAround},set:function(e){this._lookingAround!=e&&(this._lookingAround=e,this._lookingAround?(h.on(_.EventType.MOUSE_MOVE,this.onMouseMove,this),h.on(_.EventType.KEY_DOWN,this.onKeyDown,this),h.on(_.EventType.KEY_UP,this.onKeyUp,this)):(h.off(_.EventType.MOUSE_MOVE,this.onMouseMove,this),h.off(_.EventType.KEY_DOWN,this.onKeyDown,this),h.off(_.EventType.KEY_UP,this.onKeyUp,this),this._movement=new u(0,0,0),this._lookingAround=!1))}}]),t}(v)).prototype,"_moveSpeed",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),b=t(k.prototype,"_mouseSensitivity",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new E(8,5)}}),f=k))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./LevelEnums.ts","./LoadingController.ts","./PlayerEnums.ts","./GameEnums.ts"],(function(t){"use strict";var e,n,a,i,r,s,o,l,c,u,h,m,f,g,d,v;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,a=t.asyncToGenerator},function(t){i=t.cclegacy,r=t._decorator,s=t.Component,o=t.game,l=t.director},function(t){c=t.logger},function(t){u=t.projectEvent},function(t){h=t.LevelEvent},function(t){m=t.LoadingEvent,f=t.LoadingController},function(t){g=t.PlayerEvent},function(t){d=t.GameState,v=t.GameEvent}],execute:function(){var y,_;i._RF.push({},"4be75QIksxNmpYOFRGfeTN5","GameController",void 0);var p=r.ccclass;t("GameController",p("GameController")(((_=function(t){function i(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this)._gameState=d.None,e}e(i,t);var r=i.prototype;return r.onLoad=function(){i._instance?this.node.destroy():i._instance=this},r.onEnable=function(){u.on(h[h.LevelAssembled],this.onLevelAssembled,this),u.on(g[g.PlayerStartFinalJump],this.onPlayerStartFinalJump,this),u.on(g[g.PlayerLandedAtEnd],this.onPlayerFinishedLevel,this),u.on(g[g.PlayerCrashed],this.onPlayerCrashed,this)},r.start=function(){var t=this;this.scheduleOnce((function(){t.state=d.AssemblingLevel}),.1)},r.onDisable=function(){u.off(h[h.LevelAssembled],this.onLevelAssembled,this),u.off(g[g.PlayerStartFinalJump],this.onPlayerStartFinalJump,this),u.off(g[g.PlayerLandedAtEnd],this.onPlayerFinishedLevel,this),u.off(g[g.PlayerCrashed],this.onPlayerCrashed,this)},r.onDestroy=function(){i._instance&&(i._instance=null)},r.onLevelAssembled=function(){var t=this;this.state=d.ReadyToStart,this.scheduleOnce((function(){u.emit(m[m.Loading_Finish]),i._restarting&&t.startGame()}),.5)},r.onPlayerStartFinalJump=function(){this.state=d.FinalJump},r.onPlayerFinishedLevel=function(t){this.state=d.Over},r.onPlayerCrashed=function(){this.state=d.Over},r.setAsWaitingToStart=function(){this.state=d.WaitingToStart},r.startGame=function(){i._restarting=!1,this.state=d.Running},r.restartGame=function(){var t=a(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!0),c.log("Start waiting loadin screen to show. Time: "+o.totalTime),i._restarting=!e,u.emit(v[v.GE_Restarting]),t.next=6,f.instance.show();case 6:c.log("Finished waiting loadin screen to show. Time: "+o.totalTime),l.loadScene(l.getScene().name);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n(i,[{key:"state",get:function(){return this._gameState},set:function(t){if(this._gameState!=t)switch(this._gameState=t,c.log("[GameController] Game state set to "+d[this._gameState]),this._gameState){case d.AssemblingLevel:u.emit(v[v.GE_LoadLevel]);break;case d.ReadyToStart:u.emit(v[v.GE_ReadyToStart]);break;case d.WaitingToStart:u.emit(v[v.GE_WaitingToStart]);break;case d.Running:u.emit(v[v.GE_StartGame]);break;case d.FinalJump:u.emit(v[v.GE_FinalJumpStart]);break;case d.Over:u.emit(v[v.GE_GameOver])}}}],[{key:"restarting",get:function(){return i._restarting}},{key:"instance",get:function(){return this._instance}}]),i}(s))._instance=null,_._restarting=!1,y=_))||y);i._RF.pop()}}}));

System.register("chunks:///_virtual/GameEnums.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var a,n;e({GameEvent:void 0,GameState:void 0}),t._RF.push({},"75b82F/7ztGbIcXKKXl7W5U","GameEnums",void 0),function(e){e[e.None=0]="None",e[e.AssemblingLevel=1]="AssemblingLevel",e[e.ReadyToStart=2]="ReadyToStart",e[e.WaitingToStart=3]="WaitingToStart",e[e.Running=4]="Running",e[e.FinalJump=5]="FinalJump",e[e.Over=6]="Over"}(a||(a=e("GameState",{}))),function(e){e[e.GE_LoadLevel=0]="GE_LoadLevel",e[e.GE_PlayerLoaded=1]="GE_PlayerLoaded",e[e.GE_PlayerCollectedCoin=2]="GE_PlayerCollectedCoin",e[e.GE_PlayerPerformStunt=3]="GE_PlayerPerformStunt",e[e.GE_ReadyToStart=4]="GE_ReadyToStart",e[e.GE_WaitingToStart=5]="GE_WaitingToStart",e[e.GE_StartGame=6]="GE_StartGame",e[e.GE_CoinComputed=7]="GE_CoinComputed",e[e.GE_CoinReceivedAfterMultiply=8]="GE_CoinReceivedAfterMultiply",e[e.GE_FinalJumpStart=9]="GE_FinalJumpStart",e[e.GE_GameOver=10]="GE_GameOver",e[e.GE_Restarting=11]="GE_Restarting",e[e.GE_PlayerRecordResult=12]="GE_PlayerRecordResult"}(n||(n=e("GameEvent",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/GameInput.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./PlayerCharacter.ts","./GameEnums.ts"],(function(t){"use strict";var n,e,o,c,i,r,a,s,u;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,c=t.input,i=t.Input,r=t.Component},function(t){a=t.projectEvent},function(t){s=t.PlayerCharacter},function(t){u=t.GameEvent}],execute:function(){var h;e._RF.push({},"60769n1dzpCI67JrPW1Z/rv","GameInput",void 0);var p=o.ccclass;o.property,t("GameInput",p("GameInput")(h=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onEnable=function(){a.on(u[u.GE_StartGame],this.startListeningForInput,this),a.on(u[u.GE_GameOver],this.stopListeningForInput,this)},o.onDisable=function(){a.off(u[u.GE_StartGame],this.startListeningForInput,this),a.off(u[u.GE_GameOver],this.stopListeningForInput,this)},o.startListeningForInput=function(){c.on(i.EventType.TOUCH_START,this.onTouchStart,this),c.on(i.EventType.TOUCH_END,this.onTouchEnd,this),c.on(i.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},o.stopListeningForInput=function(){if(c.off(i.EventType.TOUCH_START,this.onTouchStart,this),c.off(i.EventType.TOUCH_END,this.onTouchEnd,this),c.off(i.EventType.TOUCH_CANCEL,this.onTouchCancel,this),s.instance){var t=s.instance.character;t&&(t.movement.accelerate=!1)}},o.onTouchStart=function(t){s.instance.character.movement.accelerate=!0},o.onTouchEnd=function(t){s.instance.character.movement.accelerate=!1},o.onTouchCancel=function(t){s.instance.character.movement.accelerate=!1},e}(r))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameOverAnimatedXpDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./LevelingUpEnums.ts"],(function(i){"use strict";var t,e,n,p,r,l,a,o,s,u,_,c;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,p=i.assertThisInitialized},function(i){r=i.cclegacy,l=i._decorator,a=i.Label,o=i.Sprite,s=i.Enum,u=i.Component},function(i){_=i.projectEvent},function(i){c=i.LevelingUpEvents}],execute:function(){var h,d,m,f,X,y,g,v,b,x,F,D,U;r._RF.push({},"b2e8cJmV2lHfLO8Dt8AHway","GameOverAnimatedXpDisplay",void 0);var L,S=l.ccclass,w=l.property;!function(i){i[i.Speed=0]="Speed",i[i.FixedDuration=1]="FixedDuration"}(L||(L={}));i("GameOverAnimatedXpDisplay",(h=S("GameOverAnimatedXpDisplay"),d=w({type:a,visible:!0}),m=w({type:o,visible:!0}),f=w({visible:!0,type:s(L)}),X=w({visible:!0,min:.1,group:{id:"fill",name:"Fill by Speed"}}),y=w({visible:!0,min:.1,group:{id:"fill",name:"Fill by Fixed Duration"}}),h((b=t((v=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return t=i.call.apply(i,[this].concat(r))||this,n(t,"_xpLabel",b,p(t)),n(t,"_xpFill",x,p(t)),n(t,"_xpFillType",F,p(t)),n(t,"_fillingSpeed",D,p(t)),n(t,"_fillingDuration",U,p(t)),t._currentXp=void 0,t._targetXp=void 0,t._maxXp=void 0,t._onCompleteXpUpdate=void 0,t._playingXpUpdate=void 0,t._timer=void 0,t._initXp=void 0,t._amountToFill=void 0,t}e(t,i);var r=t.prototype;return r.update=function(i){if(this._playingXpUpdate){if(this._xpFillType==L.Speed)this._currentXp=Math.min(this._currentXp+this._fillingSpeed*this._maxXp*i,this._targetXp);else{this._timer+=i;var t=this._timer/this._fillingDuration,e=this._amountToFill*t;this._currentXp=this._initXp+e,this._currentXp=Math.min(this._currentXp,this._targetXp)}this.refreshDisplay(this._currentXp,this._maxXp),this._currentXp===this._targetXp&&(this._playingXpUpdate=!1,this._onCompleteXpUpdate&&this._onCompleteXpUpdate())}},r.setValues=function(i,t){this._currentXp=i,this._maxXp=t,this._initXp=i,this.refreshDisplay(this._currentXp,this._maxXp)},r.playXpUpdate=function(i,t,e){this._targetXp=i,this._maxXp=t,this._onCompleteXpUpdate=e,this._playingXpUpdate=!0,this._timer=0,this._amountToFill=this._targetXp-this._currentXp,_.emit(c[c.LevelingUp_UI_XpUpdateStart])},r.stop=function(){this._playingXpUpdate=!1},r.refreshDisplay=function(i,t){this._xpLabel&&(this._xpLabel.string=i.toFixed()+" / "+t.toFixed()),this._xpFill.fillRange=i/t},t}(u)).prototype,"_xpLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(v.prototype,"_xpFill",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(v.prototype,"_xpFillType",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.Speed}}),D=t(v.prototype,"_fillingSpeed",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),U=t(v.prototype,"_fillingDuration",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),g=v))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameOverCoinsDisplayToast.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,n,t,r,a,o,l,s,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Label,s=e.animation,u=e.Component}],execute:function(){var p,c,m,b,f,g,y,v,d;a._RF.push({},"f9fe013MwFNZb49dpCxXP29","GameOverCoinsDisplayToast",void 0);var _=o.ccclass,C=o.property;e("GameOverCoinsDisplayToast",(p=_("GameOverCoinsDisplayToast"),c=C({type:l,visible:!0,group:{id:"components",name:"Components"}}),m=C({type:s.AnimationController,visible:!0,group:{id:"animation",name:"Animation"}}),b=C({visible:!0,group:{id:"animation",name:"Animation"}}),p((y=i((g=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a))||this,t(i,"_label",y,r(i)),t(i,"_animator",v,r(i)),t(i,"_updateCoinsTrigger",d,r(i)),i}return n(i,e),i.prototype.setCoins=function(e){var i;this._label.string="+"+e.toFixed(),null==(i=this._animator)||i.setValue(this._updateCoinsTrigger,!0)},i}(u)).prototype,"_label",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(g.prototype,"_animator",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=i(g.prototype,"_updateCoinsTrigger",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"refresh"}}),f=g))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameOverLevelDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./LevelUpRewardedAdEvents.ts","./LevelingUpEnums.ts","./PlayerLevelSettings.ts","./GameOverAnimatedXpDisplay.ts","./GameOverCoinsDisplayToast.ts","./GameOverTotalCoinsDisplay.ts"],(function(e){"use strict";var i,n,t,l,a,o,s,r,p,u,v,c,m,d,y,_,f;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Label,r=e.animation,p=e.Component},function(e){u=e.logger},function(e){v=e.projectEvent},function(e){c=e.LevelUpRewardedAdEvents},function(e){m=e.LevelingUpEvents},function(e){d=e.levelingSettings},function(e){y=e.GameOverAnimatedXpDisplay},function(e){_=e.GameOverCoinsDisplayToast},function(e){f=e.GameOverTotalCoinsDisplay}],execute:function(){var L,h,b,g,D,C,U,w,A,x,R,O,E,G,z,F,P;a._RF.push({},"abbc67cNQxDuJ3vQ9bKAb0F","GameOverLevelDisplay",void 0);var T=o.ccclass,X=o.property;e("GameOverLevelDisplay",(L=T("GameOverLevelDisplay"),h=X({type:s,visible:!0,group:{id:"level",name:"Level"}}),b=X({type:y,visible:!0,group:{id:"xp",name:"Experience"}}),g=X({type:f,visible:!0,group:{id:"coins",name:"Coins"}}),D=X({type:_,visible:!0,group:{id:"coins",name:"Coins"}}),C=X({type:r.AnimationController,visible:!0,group:{id:"animation",name:"Animation"}}),U=X({visible:!0,group:{id:"animation",name:"Animation"}}),w=X({visible:!0,min:.1,unit:"s",group:{id:"animation",name:"Animation"}}),L((R=i((x=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a))||this,t(i,"_levelLabel",R,l(i)),t(i,"_xpDisplay",O,l(i)),t(i,"_totalCoinsDisplay",E,l(i)),t(i,"_coinsDisplayToast",G,l(i)),t(i,"_animator",z,l(i)),t(i,"_levelUpAnimatorParameter",F,l(i)),t(i,"_levelUpAnimationDuration",P,l(i)),i._newLevel=-1,i._onLevelUpCompleted=void 0,i._levelUpBonusCoins=0,i}n(i,e);var a=i.prototype;return a.onEnable=function(){this._levelUpBonusCoins=0,v.on(c[c.LevelUpRewardedAdEvents_Completed],this.watchedLevelUpRewardedAd,this)},a.onDisable=function(){v.off(c[c.LevelUpRewardedAdEvents_Completed],this.watchedLevelUpRewardedAd,this)},a.watchedLevelUpRewardedAd=function(){var e;null==(e=this._totalCoinsDisplay)||e.addCoins(this._levelUpBonusCoins)},a.setValues=function(e,i,n,t){var l,a;this._levelLabel.string=(e+1).toFixed(),this._xpDisplay.setValues(i,d.getXpRequirementForLevel(e+1)),null==(l=this._coinsDisplayToast)||l.setCoins(t),null==(a=this._totalCoinsDisplay)||a.setCoins(n)},a.addCoins=function(e){var i;null==(i=this._totalCoinsDisplay)||i.addCoins(e)},a.playLevelUp=function(e,i){var n=this;u.log("Playing level up operation: "+e);var t=d.getXpRequirementForLevel(e);this._newLevel=e,this._onLevelUpCompleted=i,this._xpDisplay.playXpUpdate(t,t,(function(){n._animator?(n._animator.setValue(n._levelUpAnimatorParameter,!0),n.scheduleOnce((function(){n.refreshLevelDisplay(),n._onLevelUpCompleted()}),n._levelUpAnimationDuration)):(n.refreshLevelDisplay(),n._onLevelUpCompleted()),v.emit(m[m.LevelingUp_UI_LevelUpdate])}))},a.refreshLevelDisplay=function(){var e,i;this._levelLabel.string=(this._newLevel+1).toFixed(),this._xpDisplay.setValues(0,d.getXpRequirementForLevel(this._newLevel));var n=d.getCoinsForLevel(this._newLevel);null==(e=this._coinsDisplayToast)||e.setCoins(n),null==(i=this._totalCoinsDisplay)||i.addCoins(n),this._levelUpBonusCoins+=n},a.onLevelUpAnimationCompleted=function(){u.log("Level up animation completed"),this._onLevelUpCompleted&&this._onLevelUpCompleted()},a.playXpUpdate=function(e,i,n){u.log("Playing update xp operation: "+e+" / "+i),this._xpDisplay.playXpUpdate(e,i,n)},i}(p)).prototype,"_levelLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(x.prototype,"_xpDisplay",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(x.prototype,"_totalCoinsDisplay",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(x.prototype,"_coinsDisplayToast",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(x.prototype,"_animator",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(x.prototype,"_levelUpAnimatorParameter",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"levelUp"}}),P=i(x.prototype,"_levelUpAnimationDuration",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.33}}),A=x))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameOverLevelDisplayDirector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./PlayerPurseController.ts","./UIEvents.ts","./GameEnums.ts","./UIStore.ts","./CoinMultiplierUpgrades.ts","./SpeedUpgrades.ts","./LevelingUpEnums.ts","./PlayerLevelController.ts","./PlayerLevelSettings.ts","./GameOverLevelDisplay.ts"],(function(e){"use strict";var t,i,n,o,s,l,p,a,r,c,u,d,v,h,f,y,g,U,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,l=e._decorator,p=e.Component},function(e){a=e.logger},function(e){r=e.projectEvent},function(e){c=e.PlayerPurseController},function(e){u=e.UIEvents},function(e){d=e.GameEvent},function(e){v=e.UIStoreEvents},function(e){h=e.CoinMultiplierUpgradeEvent},function(e){f=e.SpeedUpgradeEvent},function(e){y=e.LevelingUpEvents},function(e){g=e.PlayerLevelController},function(e){U=e.levelingSettings},function(e){L=e.GameOverLevelDisplay}],execute:function(){var _,C,S,m,P;s._RF.push({},"04734e5Zp1KiYseHUCwDl6y","GameOverLevelDisplayDirector",void 0);var R,b=l.ccclass,D=l.property;e("GameOverLevelDisplayDirector",(_=b("GameOverLevelDisplayDirector"),C=D({type:L,visible:!0}),_((P=t((m=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return t=e.call.apply(e,[this].concat(s))||this,n(t,"_display",P,o(t)),t._operationsSequence=[],t._coinBonusReceived=0,t}i(t,e);var s=t.prototype;return s.onEnable=function(){var e=U.getCoinsForLevel(g.level);this._display.setValues(g.level,g.xp,c.coins,e)},s.start=function(){r.on(y[y.LevelingUp_PlayerLevelUpdated],this.onLevelUpdated,this),r.on(y[y.LevelingUp_PlayerXpUpdated],this.onXPUpdated,this),r.on(u[u.UI_ActivateRewards],this.playFeedback,this),r.on(d[d.GE_CoinReceivedAfterMultiply],this.onCoinsReceivedAfterMultiply,this),r.on(f[f.SpeedUpgradeBought],this.onSpentCoin,this),r.on(h[h.CoinMultiplierUpgradeBought],this.onSpentCoin,this),r.on(v[v.GachaPullBought],this.onSpentCoin,this)},s.onDestroy=function(){r.off(y[y.LevelingUp_PlayerLevelUpdated],this.onLevelUpdated,this),r.off(y[y.LevelingUp_PlayerXpUpdated],this.onXPUpdated,this),r.off(u[u.UI_ActivateRewards],this.playFeedback,this),r.off(d[d.GE_CoinReceivedAfterMultiply],this.onCoinsReceivedAfterMultiply,this),r.off(f[f.SpeedUpgradeBought],this.onSpentCoin,this),r.off(h[h.CoinMultiplierUpgradeBought],this.onSpentCoin,this),r.off(v[v.GachaPullBought],this.onSpentCoin,this)},s.onLevelUpdated=function(e){this._operationsSequence.push(X.levelUpOperation(e))},s.onXPUpdated=function(e,t){this._operationsSequence.push(X.xpUpdateOperation(e))},s.onCoinsReceivedAfterMultiply=function(e){this._coinBonusReceived=e,a.log(t.name+" onCoinsReceivedAfterMultiply: "+this._coinBonusReceived)},s.onCoinBonusReceiveFinished=function(){a.log(t.name+" onCoinBonusReceiveFinished: "+this._coinBonusReceived),this._display.addCoins(this._coinBonusReceived)},s.onSpentCoin=function(e){e>0&&(e*=-1),this._display.addCoins(e)},s.playFeedback=function(){this.scheduleOnce(this.playNextFeedbackItem.bind(this),1)},s.playNextFeedbackItem=function(){if(0!=this._operationsSequence.length){var e=this._operationsSequence[0];this._operationsSequence.splice(0,1),e.operationType==R.UpdateLevel?this._display.playLevelUp(e.targetLevel,this.playNextFeedbackItem.bind(this)):e.operationType==R.UpdateXp&&this._display.playXpUpdate(e.targetXp,U.getXpRequirementForLevel(g.level+1),this.playNextFeedbackItem.bind(this))}},t}(p)).prototype,"_display",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=m))||S));!function(e){e[e.UpdateLevel=0]="UpdateLevel",e[e.UpdateXp=1]="UpdateXp"}(R||(R={}));var X=function(){function e(e,t,i){this.operationType=void 0,this.targetLevel=void 0,this.targetXp=void 0,this.operationType=e,this.targetLevel=t,this.targetXp=i}return e.levelUpOperation=function(t){return a.log("New level up operation: "+t),new e(R.UpdateLevel,t,U.getXpRequirementForLevel(t))},e.xpUpdateOperation=function(t){return a.log("New xp update operation: "+t),new e(R.UpdateXp,g.level,t)},e}();s._RF.pop()}}}));

System.register("chunks:///_virtual/GameOverTotalCoinsDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,r,o,s,a,l,u,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.Label,l=e.EventHandler,u=e.tween,c=e.math,p=e.Component}],execute:function(){var h,_,d,f,v,b,y;o._RF.push({},"fba3f+FZw9DFaNAZYiJHxY0","GameOverTotalCoinsDisplay",void 0);var g=s.ccclass,m=s.property;e("GameOverTotalCoinsDisplay",(h=g("GameOverTotalCoinsDisplay"),_=m({type:a,visible:!0}),d=m({type:[l],visible:!0}),h((b=t((v=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"_label",b,r(t)),n(t,"_onCoinsAdded",y,r(t)),t._coins=void 0,t._targetValue=0,t._tween=null,t}i(t,e);var o=t.prototype;return o.setCoins=function(e){this._coins=e,this.refresh()},o.addCoins=function(e){this._coins+=e,this.refresh(),l.emitEvents(this._onCoinsAdded)},o.refresh=function(e){var t=this;void 0===e&&(e=.3),this._tween&&(this._label.string=this._targetValue.toFixed(),this._tween.stop());var i=Number.parseInt(this._label.string),n=this._coins;this._targetValue=n,this._tween=u(this).to(e,null,{onUpdate:function(e,t){e._label.string=c.lerp(i,n,t).toFixed()},onComplete:function(){t._tween=null}}).start()},t}(p)).prototype,"_label",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(v.prototype,"_onCoinsAdded",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=v))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/gizmo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./utils.ts"],(function(o){"use strict";var t,n;return{setters:[function(o){t=o.createClass},function(o){n=o.cclegacy},null],execute:function(){n._RF.push({},"ec920DofWZHA6zPB49x/+7d","gizmo",void 0);o("default",function(){n.register=function(o,t){};var o=n.prototype;function n(o){this._showTransformGizmo=!0,cc.js.addon(this,new window.cce.gizmos.Gizmo(o))}return o.getGizmoRoot=function(){return window.cce.gizmos.Gizmo.prototype.getGizmoRoot.call(this)},o.recordChanges=function(){return window.cce.gizmos.Gizmo.prototype.recordChanges.call(this)},o.commitChanges=function(){return window.cce.gizmos.Gizmo.prototype.commitChanges.call(this)},o.onComponentChanged=function(o){return window.cce.gizmos.Gizmo.prototype.onComponentChanged.call(this,o)},o.registerCameraMovedEvent=function(){return window.cce.gizmos.Gizmo.prototype.registerCameraMovedEvent.call(this)},o.unregisterCameraMoveEvent=function(){return window.cce.gizmos.Gizmo.prototype.unregisterCameraMoveEvent.call(this)},o.layer=function(){return"foreground"},o.updateController=function(){this.updateControllerData(),this.updateControllerTransform()},o.updateControllerData=function(){},o.updateControllerTransform=function(){},o.onTargetUpdate=function(){this.updateController()},o.onNodeChanged=function(){this.updateController()},o.showTransformGizmo=function(o){this._showTransformGizmo=o},o.getTransformGizmoNode=function(){var o=window.cce.gizmos.transformTool;return o&&o.node},o.show=function(){window.cce.gizmos.Gizmo.prototype.show.call(this)},o.onUpdate=function(){this._showTransformGizmo?window.cce.gizmos.transformTool.show():window.cce.gizmos.transformTool.hide()},o.commitNodeChanged=function(o){for(var t,n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];(t=cce.gizmos.Utils).onNodeChanged.apply(t,[o].concat(e))},t(n,[{key:"target",get:function(){return this._target},set:function(o){var t=this.nodes;t&&t.length,this._target=o,(t=this.nodes)&&t.length>0?this.onTargetUpdate&&this.onTargetUpdate():this.hide()}}]),n}());CC_EDITOR,n._RF.pop()}}}));

System.register("chunks:///_virtual/Globals.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e("delay",(function(e){return new Promise((function(t){return setTimeout(t,1e3*e)}))})),t._RF.push({},"ee250gxuoJNqpGJwv8zLLiC","Globals",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/GSAudioController.ts",["cc","./AudioEnums.ts","./AudioManager.ts","./ProjectEvent.ts"],(function(n){"use strict";var o,e,t,i,a,u,c;return{setters:[function(n){o=n.cclegacy,e=n._decorator,t=n.game,i=n.Game},function(n){a=n.AudioEvent},function(n){u=n.AudioManager},function(n){c=n.projectEvent}],execute:function(){var r;o._RF.push({},"6a244BXPm5Ht5fM+hYgNOsY","GSAudioController",void 0);var d=e.ccclass,s=n("GSAudioController",d("GSAudioController")(r=function(){function n(){var n=this;t.on(i.EVENT_GAME_INITED,(function(){u.instance?n.connectToAudioManager():c.once(a.AudioManagerInitialized,n.connectToAudioManager,n)}),this)}var o=n.prototype;return o.connectToAudioManager=function(){"undefined"!=typeof GAMESNACKS&&(u.instance.audioEnabled=GAMESNACKS.isAudioEnabled(),GAMESNACKS.subscribeToAudioUpdates(this.audioEnabledUpdate.bind(this)))},o.audioEnabledUpdate=function(n){u.instance.audioEnabled=n},n}())||r);n("gameSnacksAudioController",new s);o._RF.pop()}}}));

System.register("chunks:///_virtual/GSGameEventsEmitter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.Component}],execute:function(){var r,c;n._RF.push({},"7fa30EftohPYbRJx2BFzkUm","GSGameEventsEmitter",void 0);var u=i.ccclass;e("GSGameEventsEmitter",u("GSGameEventsEmitter")(((c=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.levelCompleted=function(e){"undefined"!=typeof GAMESNACKS&&GAMESNACKS.levelComplete(e)},n.highscore=function(e){"undefined"!=typeof GAMESNACKS&&GAMESNACKS.sendScore(e)},n.gameOver=function(){"undefined"!=typeof GAMESNACKS&&GAMESNACKS.gameOver()},n.gameReady=function(){n._emitted||"undefined"!=typeof GAMESNACKS&&(GAMESNACKS.gameReady(),n._emitted=!0)},n}(o))._emitted=!1,r=c))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/GSGameReadyEmitter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GSGameEventsEmitter.ts"],(function(t){"use strict";var e,n,r,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,i=t.Component},function(t){a=t.GSGameEventsEmitter}],execute:function(){var o;n._RF.push({},"61531xMjfdJtLGPUfndQAv7","GSGameReadyEmitter",void 0);var c=r.ccclass;t("GSGameReadyEmitter",c("GSGameReadyEmitter")(o=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.ready=function(){a.gameReady()},n}(i))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/GSNHGameOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./GameEnums.ts"],(function(e){"use strict";var t,n,o,r,c,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.Component},function(e){c=e.projectEvent},function(e){i=e.GameEvent}],execute:function(){var s;n._RF.push({},"62075QmSKFMNagBqV4YGCG/","GSNHGameOver",void 0);var a=o.ccclass;o.property,e("GSNHGameOver",a("GSNHGameOver")(s=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.onEnable=function(){c.on(i[i.GE_GameOver],this.onGameOver,this)},o.onDisable=function(){c.off(i[i.GE_GameOver],this.onGameOver,this)},o.onGameOver=function(e){},n}(r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/GSNHGameReady.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./GameEnums.ts","./GSGameEventsEmitter.ts"],(function(t){"use strict";var e,n,o,a,r,i,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,a=t.Component},function(t){r=t.projectEvent},function(t){i=t.GameEvent},function(t){s=t.GSGameEventsEmitter}],execute:function(){var c;n._RF.push({},"76692KI6ixKj40rrfHOhqVc","GSNHGameReady",void 0);var u=o.ccclass;o.property,t("GSNHGameReady",u("GSNHGameReady")(c=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.onEnable=function(){r.on(i[i.GE_ReadyToStart],this.onReadyToStart,this)},o.onDisable=function(){r.off(i[i.GE_ReadyToStart],this.onReadyToStart,this)},o.onReadyToStart=function(){s.gameReady()},n}(a))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/GSNHLevelComplete.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./GameEnums.ts","./GSGameEventsEmitter.ts"],(function(e){"use strict";var t,n,o,r,i,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.Component},function(e){i=e.projectEvent},function(e){s=e.GameEvent},function(e){c=e.GSGameEventsEmitter}],execute:function(){var u;n._RF.push({},"db4f0hnRppErK/DfI03wBev","GSNHLevelComplete",void 0);var l=o.ccclass;o.property,e("GSNHLevelComplete",l("GSNHLevelComplete")(u=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.onEnable=function(){i.on(s[s.GE_GameOver],this.onGameOver,this)},o.onDisable=function(){i.off(s[s.GE_GameOver],this.onGameOver,this)},o.onGameOver=function(){c.levelCompleted(0)},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/GSNHRewardedAdsController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./GameEnums.ts","./AdsEvents.ts","./RewardedAdOportunity.ts","./CoinMultiplierUpgrades.ts","./SpeedUpgrades.ts"],(function(e){"use strict";var t,n,d,o,r,i,a,s,l,p,u,g,h,c,f,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,d=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,a=e.Component},function(e){s=e.logger},function(e){l=e.projectEvent},function(e){p=e.GameEvent},function(e){u=e.AdsEvents},function(e){g=e.RewardedAdOportunity},function(e){h=e.CoinMultiplierUpgradeEvent,c=e.coinMultiplierUpgrade},function(e){f=e.SpeedUpgradeEvent,v=e.speedUpgrade}],execute:function(){var A,E,S,m,U,_,b;e("AdsNHEvents",void 0),r._RF.push({},"ee907ePu/xM7YXNZM1ALelz","GSNHRewardedAdsController",void 0);var y,w=i.ccclass,C=i.property;!function(e){e[e.AdsEnableForSpeedUpgrade=0]="AdsEnableForSpeedUpgrade",e[e.AdsEnableForCoinUpgrade=1]="AdsEnableForCoinUpgrade"}(y||(y=e("AdsNHEvents",{})));e("GSNHRewardedAdsController",(A=w("GSNHRewardedAdsController"),E=C({visible:!0}),S=C({visible:!0}),A((_=t((U=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,d(t,"_levelsInterval",_,o(t)),d(t,"_prizeStartLevelOffset",b,o(t)),t}n(t,e);var r=t.prototype;return r.onEnable=function(){l.on(p[p.GE_ReadyToStart],this.requestAdload,this),l.on(u[u.AdsEvents_AdLoaded],this.onAdLoaded,this),l.on(u[u.AdsEvents_AdShowed],this.requestAdload,this),l.on(u[u.AdsEvents_AdFailedToShow],this.requestAdload,this),l.on(f[f.SpeedUpgradeChanged],this.onUpgradeSomething,this),l.on(h[h.CoinMultiplierUpgradeChanged],this.onUpgradeSomething,this)},r.onDisable=function(){l.off(p[p.GE_ReadyToStart],this.requestAdload,this),l.off(u[u.AdsEvents_AdLoaded],this.onAdLoaded,this),l.off(u[u.AdsEvents_AdShowed],this.requestAdload,this),l.off(u[u.AdsEvents_AdFailedToShow],this.requestAdload,this),l.off(f[f.SpeedUpgradeChanged],this.onUpgradeSomething,this),l.off(h[h.CoinMultiplierUpgradeChanged],this.onUpgradeSomething,this)},r.requestAdload=function(){s.log(t.name+" requesting ad load."),l.emit(u[u.AdsEvents_LoadAd])},r.onAdLoaded=function(){s.log(t.name+" ad is ready, checking upgrade levels rule...");var e=v.current.Level,n=c.current.Level,d=e%this._levelsInterval,o=(n+this._prizeStartLevelOffset)%this._levelsInterval;1==n&&(o=-1),0==d?(s.log(t.name+" enabling rewarded ad for speed upgrade..."),l.emit(y[y.AdsEnableForSpeedUpgrade])):0==o?(s.log(t.name+" enabling rewarded ad for coin upgrade..."),l.emit(y[y.AdsEnableForCoinUpgrade])):s.log(t.name+" no level matches rules.")},r.onUpgradeSomething=function(){s.log(t.name+" received upgrade event, checking if should show ad."),g.isAdReady?this.onAdLoaded():s.log(t.name+" ad not ready.")},t}(a)).prototype,"_levelsInterval",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),b=t(U.prototype,"_prizeStartLevelOffset",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),m=U))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/GSNHSendScore.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./GSGameEventsEmitter.ts","./PlayerEnums.ts"],(function(n){"use strict";var e,t,o,r,c,i,s;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,r=n.Component},function(n){c=n.projectEvent},function(n){i=n.GSGameEventsEmitter},function(n){s=n.PlayerEvent}],execute:function(){var a;t._RF.push({},"96888WVOXFM65z6EN7eFCyc","GSNHSendScore",void 0);var u=o.ccclass;o.property,n("GSNHSendScore",u("GSNHSendScore")(a=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var o=t.prototype;return o.onEnable=function(){c.on(s[s.PlayerLandedAtEnd],this.onPlayerLandedAtEnd,this)},o.onDisable=function(){c.off(s[s.PlayerLandedAtEnd],this.onPlayerLandedAtEnd,this)},o.onPlayerLandedAtEnd=function(n){i.highscore(Math.round(n))},t}(r))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/Holdable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InputEnums.ts"],(function(t){"use strict";var n,i,e,o,r,l,s,a,u,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.createClass,e=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){l=t.cclegacy,s=t._decorator,a=t.EventHandler,u=t.Component},function(t){c=t.InputEvent}],execute:function(){var d,h,p,H,_,f,v;l._RF.push({},"ab113lawTxJjoAF39Ss9o+K","Holdable",void 0);var b=s.ccclass,g=s.property,y=(t("Holdable",(d=b("Holdable"),h=g({type:[a],visible:!0}),p=g({type:[a],visible:!0}),d((f=n((_=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),l=0;l<i;l++)e[l]=arguments[l];return n=t.call.apply(t,[this].concat(e))||this,o(n,"_onHoldStart",f,r(n)),o(n,"_onHoldEnd",v,r(n)),n._isHolding=!1,n}e(n,t);var i=n.prototype;return i.onDisable=function(){this.isHolding()&&this.endHold()},i.startHold=function(t,n){this._isHolding=!0;var i=new y(t,n);this.node.emit(c[c.Input_HoldStart],i),a.emitEvents(this._onHoldStart,i)},i.endHold=function(t,n){void 0===t&&(t=null),void 0===n&&(n=null),this._isHolding=!1;var i=new y(t,n);this.node.emit(c[c.Input_HoldEnd],i),a.emitEvents(this._onHoldEnd,i)},i.isHolding=function(){return this._isHolding},n}(u)).prototype,"_onHoldStart",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(_.prototype,"_onHoldEnd",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=_))||H)),t("HoldData",function(){function t(t,n){this._touchPosition=null,this._camera=null,this._touchPosition=t,this._camera=n}return i(t,[{key:"touchScreenPosition",get:function(){return this._touchPosition}},{key:"camera",get:function(){return this._camera}}]),t}()));l._RF.pop()}}}));

System.register("chunks:///_virtual/IAdRequest.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"22612UF5l5FMooRU1qXNbbR","IAdRequest",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ICharacterMovement.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,c,n;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,c=e._decorator,n=e.Component}],execute:function(){var o;r._RF.push({},"de38clcF/RHi5y643P/zsp8","ICharacterMovement",void 0);var s=c.ccclass;e("ICharacterMovement",s("ICharacterMovement")(o=function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r}(n))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc","./editor.ts","./npm.ts"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy},function(e){var r={};r.Editor=e.Editor,r.projectAssetPath=e.projectAssetPath,r.projectPath=e.projectPath,t(r)},function(e){var r={};r.base642arraybuffer=e.base642arraybuffer,r.cce=e.cce,r.formatPath=e.formatPath,r.fse=e.fse,r.io=e.io,r.path=e.path,t(r)}],execute:function(){e._RF.push({},"b55291IcEJJrrvhmxlYUxZT","index",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/InputEnums.ts",["cc"],(function(r){"use strict";var p;return{setters:[function(r){p=r.cclegacy}],execute:function(){var t,e,a;r({DropAreaEvent:void 0,DroppableEvent:void 0,InputEvent:void 0}),p._RF.push({},"494bagGv19A6qaO01iDWWku","InputEnums",void 0),function(r){r[r.Input_Tap=0]="Input_Tap",r[r.Input_HoldStart=1]="Input_HoldStart",r[r.Input_HoldEnd=2]="Input_HoldEnd",r[r.Input_DragStart=3]="Input_DragStart",r[r.Input_DragUpdate=4]="Input_DragUpdate",r[r.Input_DragEnd=5]="Input_DragEnd"}(t||(t=r("InputEvent",{}))),function(r){r[r.Droppable_ValidDrop=0]="Droppable_ValidDrop",r[r.Droppable_InvalidDrop=1]="Droppable_InvalidDrop",r[r.Droppable_EnteredADropArea=2]="Droppable_EnteredADropArea",r[r.Droppable_LeftAllDropAreas=3]="Droppable_LeftAllDropAreas"}(e||(e=r("DroppableEvent",{}))),function(r){r[r.DropArea_Targeted=0]="DropArea_Targeted",r[r.DropArea_Untargeted=1]="DropArea_Untargeted",r[r.DropArea_Dropped=2]="DropArea_Dropped"}(a||(a=r("DropAreaEvent",{}))),p._RF.pop()}}}));

System.register("chunks:///_virtual/Level.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MinMaxRange.ts"],(function(e){"use strict";var i,n,t,r,o,l,a,s,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){l=e.cclegacy,a=e._decorator,s=e.Component},function(e){u=e.MinMaxRange}],execute:function(){var c,p,h,g,f,b,y,_,m,d,v,w,H,B,C,D,z,S,k,L,M,O,R,x,F,P,j,A,G;l._RF.push({},"341e0hyWp5HSLUdBf23SGLc","Level",void 0);var I=a.ccclass,T=a.property;e("Level",(c=I("Level"),p=T({min:1,visible:!0,group:{id:"spline",name:"Spline"},tooltip:"Distance in Z for spline node control point"}),h=T({type:u,visible:!0,group:{id:"spline",name:"Spline"}}),g=T({type:u,visible:!0,group:{id:"spline",name:"Spline"}}),f=T({type:u,visible:!0,group:{id:"spline",name:"Spline"}}),b=T({type:u,visible:!1,group:{id:"spline",name:"Spline"}}),y=T({type:u,visible:!0,group:{id:"spline",name:"Spline"}}),_=T({type:u,visible:!0,group:{id:"spline",name:"Spline"}}),m=T({type:u,visible:!0,group:{id:"spline",name:"Spline"}}),d=T({type:u,visible:!0,group:{id:"coins",name:"Coins"}}),v=T({range:[0,1,.05],slide:!0,visible:!0,group:{id:"coins",name:"Coins"}}),w=T({visible:!0,group:{id:"coins",name:"Coins"}}),H=T({min:0,visible:!0,group:{id:"coins",name:"Coins"}}),B=T({type:u,visible:!0,group:{id:"finish",name:"Finish Line"}}),c((z=i((D=function(e){function i(){for(var i,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return i=e.call.apply(e,[this].concat(o))||this,t(i,"_smoothness",z,r(i)),t(i,"_hillsCount",S,r(i)),t(i,"_nodesDistance",k,r(i)),t(i,"_nodesDescent",L,r(i)),t(i,"_startingHeight",M,r(i)),t(i,"_hillHeight",O,r(i)),t(i,"_valleyHeight",R,r(i)),t(i,"_lastHillHeight",x,r(i)),t(i,"_coinsCountByBatch",F,r(i)),t(i,"_coinChance",P,r(i)),t(i,"_coinBatchStartOffset",j,r(i)),t(i,"_minDistanceBetweenBatches",A,r(i)),t(i,"_finishLineHeight",G,r(i)),i}return n(i,e),o(i,[{key:"smoothness",get:function(){return this._smoothness}},{key:"startingHeight",get:function(){return this._startingHeight}},{key:"hillsCount",get:function(){return this._hillsCount}},{key:"nodesDistance",get:function(){return this._nodesDistance}},{key:"nodesDescent",get:function(){return this._nodesDescent}},{key:"hillHeight",get:function(){return this._hillHeight}},{key:"valleyHeight",get:function(){return this._valleyHeight}},{key:"lastHillHeight",get:function(){return this._lastHillHeight}},{key:"finishLineHeight",get:function(){return this._finishLineHeight}},{key:"coinsCountByBatch",get:function(){return this._coinsCountByBatch}},{key:"coinChance",get:function(){return this._coinChance}},{key:"minDistanceBetweenBatches",get:function(){return this._minDistanceBetweenBatches}},{key:"coinBatchStartOffset",get:function(){return this._coinBatchStartOffset}}]),i}(s)).prototype,"_smoothness",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),S=i(D.prototype,"_hillsCount",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(5,10)}}),k=i(D.prototype,"_nodesDistance",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(3,8)}}),L=i(D.prototype,"_nodesDescent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(1,5)}}),M=i(D.prototype,"_startingHeight",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(3,5)}}),O=i(D.prototype,"_hillHeight",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(3,5)}}),R=i(D.prototype,"_valleyHeight",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,5)}}),x=i(D.prototype,"_lastHillHeight",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(10,15)}}),F=i(D.prototype,"_coinsCountByBatch",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(5,9)}}),P=i(D.prototype,"_coinChance",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),j=i(D.prototype,"_coinBatchStartOffset",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-3}}),A=i(D.prototype,"_minDistanceBetweenBatches",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 12}}),G=i(D.prototype,"_finishLineHeight",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(8,10)}}),C=D))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/LevelEnd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./mesh-tiling.ts"],(function(e){"use strict";var n,i,t,r,l,o,s,a,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.createClass},function(e){o=e.cclegacy,s=e._decorator,a=e.Component},function(e){c=e.default}],execute:function(){var u,h,p,d,f,_,g,y;o._RF.push({},"9851eJAn9NOq432++9hrLHT","LevelEnd",void 0);var m=s.ccclass,v=s.property;e("LevelEnd",(u=m("LevelEnd"),h=v({visible:!0,type:c}),p=v({visible:!0,type:c}),u(((y=function(e){function n(){for(var n,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return n=e.call.apply(e,[this].concat(l))||this,t(n,"_meshTilingRoad",_,r(n)),t(n,"_meshTilingGround",g,r(n)),n}i(n,e);var o=n.prototype;return o.onLoad=function(){n._instance?this.node.destroy():n._instance=this},o.onDestroy=function(){n._instance===this&&(n._instance=null)},o.applyMaterials=function(e,n){this._meshTilingRoad&&(this._meshTilingRoad.material=e),this._meshTilingGround&&(this._meshTilingGround.material=n)},l(n,null,[{key:"instance",get:function(){return n._instance}}]),n}(a))._instance=null,_=n((f=y).prototype,"_meshTilingRoad",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=n(f.prototype,"_meshTilingGround",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/LevelEndRecord.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./GameEnums.ts","./PlayerEnums.ts","./SaveGame.ts","./SaveGameKeys.ts","./LevelEnd.ts","./SplineLevelAssembler.ts"],(function(e){"use strict";var t,r,n,i,a,o,s,l,c,u,p,d,v,m,f,y,b,g,h,_,E,G;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,l=e.Material,c=e.Prefab,u=e.instantiate,p=e.Vec3,d=e.Component},function(e){v=e.logger,m=e.LogCategory,f=e.LogType},function(e){y=e.projectEvent},function(e){b=e.GameEvent},function(e){g=e.PlayerEvent},function(e){h=e.saveGame},function(e){_=e.SaveGameKeys},function(e){E=e.LevelEnd},function(e){G=e.SplineLevelAssembler}],execute:function(){var P,L,S,A,R,D,N,w,z,C,F;a._RF.push({},"13a7dRukLhG9rmrFdVQEGfp","LevelEndRecord",void 0);var j=o.ccclass,x=o.property;e("LevelEndRecord",(P=j("LevelEndRecord"),L=x({visible:!0}),S=x({type:s,visible:!0}),A=x({type:l,visible:!0}),R=x({type:[c],visible:!0}),P((w=t((N=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"_spacing",w,i(t)),n(t,"_pivot",z,i(t)),n(t,"_matAccent",C,i(t)),n(t,"_prefabNumbers",F,i(t)),t}r(t,e);var a=t.prototype;return a.onLoad=function(){this._pivot||v.log(t.name+" error, pivot is null.",m.Gameplay,f.Error),0==this._prefabNumbers.length&&v.log(t.name+" error, no number configured.",m.Gameplay,f.Error),this._pivot.destroyAllChildren()},a.start=function(){y.on(g[g.PlayerLandedAtEnd],this.onPlayerLandedAtEnd,this),y.on(b[b.GE_StartGame],this.onGameStart,this)},a.onDestroy=function(){y.off(g[g.PlayerLandedAtEnd],this.onPlayerLandedAtEnd,this),y.off(b[b.GE_StartGame],this.onGameStart,this)},a.onPlayerLandedAtEnd=function(e){var t=e>h.getData(_[_.Save_PlayerRecordDistance],0);t&&h.setData(_[_.Save_PlayerRecordDistance],e),y.emit(b[b.GE_PlayerRecordResult],t)},a.onGameStart=function(){if(this._pivot){var e=h.getData(_[_.Save_PlayerRecordDistance],0);0==e&&(this.node.active=!1);var r=E.instance.node.worldPosition.clone();r.y+=.1,r.z-=e,this.node.setWorldPosition(r);var n=new s("NumbersPivot");n.setParent(this._pivot);var i=0,a=e.toFixed().split("");v.log(t.name+" last record: "+a,m.Generic);for(var o=a.length-1;o>=0;o--){var l=Number(a[o]);if(NaN!=l)if(l<0||l>=this._prefabNumbers.length)v.log(t.name+" invalid index: "+l,m.Generic,f.Error);else{var c=u(this._prefabNumbers[l]);c.setParent(n),c.setPosition(this._spacing*o,0,0),i+=this._spacing*o}else v.log(t.name+" error converting "+l+" to number",m.Generic,f.Error)}n.translate(new p(-i/2,0,0));var d=G.instance.themeSetting;d?this._matAccent.setProperty("mainColor",d.colorAccent):v.log(t.name+" error no theme recognized",m.Generic,f.Error)}},t}(d)).prototype,"_spacing",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=t(N.prototype,"_pivot",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(N.prototype,"_matAccent",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(N.prototype,"_prefabNumbers",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=N))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/LevelEnums.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var s;e("LevelEvent",void 0),t._RF.push({},"e5ef68A+d5Lq4vEdp76Po7X","LevelEnums",void 0),function(e){e[e.LevelAssembled=0]="LevelAssembled"}(s||(s=e("LevelEvent",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/LevelingUpEnums.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var p;e("LevelingUpEvents",void 0),n._RF.push({},"228ffpQj2FF0o9ZJn8S0ExE","LevelingUpEnums",void 0),function(e){e[e.LevelingUp_XpRewardsLoaded=0]="LevelingUp_XpRewardsLoaded",e[e.LevelingUp_LevelingSettingsLoaded=1]="LevelingUp_LevelingSettingsLoaded",e[e.LevelingUp_PlayerLevelUpdated=2]="LevelingUp_PlayerLevelUpdated",e[e.LevelingUp_PlayerLevelUpCoinRewards=3]="LevelingUp_PlayerLevelUpCoinRewards",e[e.LevelingUp_PlayerXpUpdated=4]="LevelingUp_PlayerXpUpdated",e[e.LevelingUp_UI_XpUpdateStart=5]="LevelingUp_UI_XpUpdateStart",e[e.LevelingUp_UI_LevelUpdate=6]="LevelingUp_UI_LevelUpdate"}(p||(p=e("LevelingUpEvents",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelTheme.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./mesh-tiling.ts"],(function(e){"use strict";var t,r,n,o,l,a,i,u,s,c,g,m,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,i=e.TextureCube,u=e.director,s=e.Component},function(e){c=e.logger,g=e.LogCategory,m=e.LogType},function(e){p=e.default}],execute:function(){var h,y,d,f,b;l._RF.push({},"67bcbtx+KNDHJuD7BkACoxk","LevelTheme",void 0);var v=a.ccclass,x=a.property;e("LevelTheme",(h=v("LevelTheme"),y=x({visible:!0,type:i}),h((b=t((f=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,n(t,"_skyboxTexture",b,o(t)),t}r(t,e);var l=t.prototype;return l.applySkybox=function(){this._skyboxTexture?u.getScene().globals.skybox.envmap=this._skyboxTexture:c.log(t.name+" skyboxTexture is null for "+this.node.name,g.Metagame,m.Error)},l.getMaterialRoad=function(){var e=this.getComponent(p);return null==e?(c.log(t.name+" "+this.node.name+" null mesh tiling for road",g.Metagame,m.Error),null):e.material},l.getMaterialGround=function(){var e=this.node.getChildByName("Ground");if(null==e)return c.log(t.name+" "+this.node.name+" null ground at getMaterialGround",g.Metagame,m.Error),null;var r=e.getComponent(p);return null==r?(c.log(t.name+" "+this.node.name+" null meshTiling at getMaterialGround",g.Metagame,m.Error),null):r.material},t}(s)).prototype,"_skyboxTexture",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));l._RF.pop()}}}));

System.register("chunks:///_virtual/LevelThemeController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./LevelingUpEnums.ts","./SaveGame.ts","./SaveGameKeys.ts"],(function(e){"use strict";var t,n,l,s,o,i,r,h,a,c,m,v,d,u;return{setters:[function(e){t=e.createForOfIteratorHelperLoose,n=e.createClass},function(e){l=e.cclegacy,s=e.game,o=e.Game,i=e.resources,r=e.JsonAsset},function(e){h=e.logger,a=e.LogCategory,c=e.LogType},function(e){m=e.projectEvent},function(e){v=e.LevelingUpEvents},function(e){d=e.saveGame},function(e){u=e.SaveGameKeys}],execute:function(){var g;e("LevelThemeEvent",void 0),l._RF.push({},"dd0a84jF8JBPbEZLOQXyUpg","LevelThemeController",void 0),function(e){e[e.LevelThemeUnlocked=0]="LevelThemeUnlocked",e[e.LevelThemeApplyBorderColor=1]="LevelThemeApplyBorderColor"}(g||(g=e("LevelThemeEvent",{})));var U=e("LevelThemeController",function(){function e(){var e=this;this.themesUnlockSettings=[],this._themesUnlocked=[],s.on(o.EVENT_GAME_INITED,(function(){i.load("Settings/LevelSettings",r,null,e.onLoadComplete.bind(e)),m.on(v[v.LevelingUp_PlayerLevelUpdated],e.onPlayerLevelUp,e)}),this)}var l=e.prototype;return l.onPlayerLevelUp=function(e){if(e<this.themesUnlockSettings.length){var n=this.themesUnlockSettings[e].ThemesUnlocked;if(null!=n){if(Array.isArray(n))for(var l,s=t(n);!(l=s()).done;){var o=l.value;this.themesUnlocked.push(o)}else this.themesUnlocked.push(n);d.setData(u[u.Save_UnlockedLevelThemes],this._themesUnlocked),m.emit(g[g.LevelThemeUnlocked],n)}}},l.onLoadComplete=function(n,l){if(this.themesUnlockSettings=l.json.LevelSettings,h.log("Finished loading LevelThemeController. "+this.themesUnlockSettings.length+" settings loaded."),0!=this.themesUnlockSettings.length){if(this._themesUnlocked=d.getData(u[u.Save_UnlockedLevelThemes]),null==this._themesUnlocked){this._themesUnlocked=new Array;var s=this.themesUnlockSettings[0].ThemesUnlocked;if(null==s)h.log(e.name+" invalid first unlock.",a.Metagame,c.Error),this._themesUnlocked.push(0);else if(Array.isArray(s))for(var o,i=t(s);!(o=i()).done;){var r=o.value;this._themesUnlocked.push(r)}else this._themesUnlocked.push(s);d.setData(u[u.Save_UnlockedLevelThemes],this._themesUnlocked)}}else h.log(e.name+" invalid themes unlock settings.",a.Metagame,c.Error)},n(e,[{key:"themesUnlocked",get:function(){return this._themesUnlocked},set:function(e){this._themesUnlocked=e}}]),e}());e("levelThemeController",new U);l._RF.pop()}}}));

System.register("chunks:///_virtual/LevelUpRewardedAdController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./PlayerPurseController.ts","./GameEnums.ts","./AdsEvents.ts","./RewardedAdOportunity.ts","./LevelingUpEnums.ts","./LevelUpRewardedAdEvents.ts"],(function(e){"use strict";var t,n,o,i,d,r,a,s,l,u,c,h,p,v,A,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){d=e.cclegacy,r=e._decorator,a=e.Node,s=e.Component},function(e){l=e.logger},function(e){u=e.projectEvent},function(e){c=e.PlayerPurseController},function(e){h=e.GameEvent},function(e){p=e.AdsEvents},function(e){v=e.RewardedAdOportunity},function(e){A=e.LevelingUpEvents},function(e){L=e.LevelUpRewardedAdEvents}],execute:function(){var f,w,g,_,y;d._RF.push({},"8620aiyaVVH5aUIHiS4nbuh","LevelUpRewardedAdController",void 0);var C=r.ccclass,U=r.property;e("LevelUpRewardedAdController",(f=C("LevelUpRewardedAdController"),w=U({visible:!0,type:a}),f((y=t((_=function(e){function t(){for(var t,n=arguments.length,d=new Array(n),r=0;r<n;r++)d[r]=arguments[r];return t=e.call.apply(e,[this].concat(d))||this,o(t,"_buttonNode",y,i(t)),t._watchedAd=!1,t._waitingAdLoad=!1,t._initialCoins=0,t}n(t,e);var d=t.prototype;return d.onEnable=function(){u.on(A[A.LevelingUp_PlayerLevelUpdated],this.onLevelChanged,this),u.on(p[p.AdsEvents_AdLoaded],this.onAdLoaded,this),u.on(h[h.GE_StartGame],this.gameStarted,this)},d.onDisable=function(){u.off(A[A.LevelingUp_PlayerLevelUpdated],this.onLevelChanged,this),u.off(p[p.AdsEvents_AdLoaded],this.onAdLoaded,this),u.off(h[h.GE_StartGame],this.gameStarted,this)},d.gameStarted=function(){this._initialCoins=c.coins,l.log("LevelUpRewardedAdController: Initial Coins "+this._initialCoins)},d.onAdLoaded=function(){l.log("LevelUpRewardedAdController: Ad Loaded"),this._waitingAdLoad&&(l.log("LevelUpRewardedAdController: Show ad oportunity"),this._waitingAdLoad=!1,this.showAdOportunity())},d.onLevelChanged=function(){v.isAdReady?(l.log("LevelUpRewardedAdController: Show ad oportunity"),this.showAdOportunity()):(l.log("LevelUpRewardedAdController: Wait for ad oportunity"),this._waitingAdLoad=!0)},d.showAdOportunity=function(){this._buttonNode.active=!0},d.showAd=function(){this._watchedAd=!1,this._buttonNode.active=!1,u.emit(p[p.AdsEvents_ShowAd],this)},d.onAdCompleted=function(){this._watchedAd=!0;var e=c.coins-this._initialCoins;c.addCoins(e),l.log("LevelUpRewardedAdController: Bonus coins "+e),u.emit(L[L.LevelUpRewardedAdEvents_Completed])},d.onAdFailed=function(e){this._watchedAd=!1,this._waitingAdLoad=!0},t}(s)).prototype,"_buttonNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=_))||g));d._RF.pop()}}}));

System.register("chunks:///_virtual/LevelUpRewardedAdEvents.ts",["cc"],(function(e){"use strict";var d;return{setters:[function(e){d=e.cclegacy}],execute:function(){var t;e("LevelUpRewardedAdEvents",void 0),d._RF.push({},"2c328S/FmNC4o03QiCSlVHn","LevelUpRewardedAdEvents",void 0),function(e){e[e.LevelUpRewardedAdEvents_Completed=0]="LevelUpRewardedAdEvents_Completed"}(t||(t=e("LevelUpRewardedAdEvents",{}))),d._RF.pop()}}}));

System.register("chunks:///_virtual/LifecycleTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var e,n,t,c;return{setters:[function(o){e=o.inheritsLoose},function(o){n=o.cclegacy,t=o._decorator,c=o.Component}],execute:function(){var s;n._RF.push({},"01a86R5j5dNZrxwqwiZdxZh","LifecycleTest",void 0);var l=t.ccclass;t.property,o("LifecycleTest",l("LifecycleTest")(s=function(o){function n(){return o.apply(this,arguments)||this}e(n,o);var t=n.prototype;return t.__preload=function(){console.log(n.name+" __preload")},t.onLoad=function(){console.log(n.name+" onLoad")},t.onEnable=function(){console.log(n.name+" onEnable")},t.start=function(){console.log(n.name+" start")},t.onDisable=function(){console.log(n.name+" onDisable")},t.onDestroy=function(){console.log(n.name+" onDestroy")},n}(c))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./Globals.ts"],(function(t){"use strict";var n,i,e,o,r,a,s,l,u,c,h,d,p,g,_;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,a=t.createClass},function(t){s=t.cclegacy,l=t._decorator,u=t.animation,c=t.BlockInputEvents,h=t.game,d=t.Canvas,p=t.Component},function(t){g=t.projectEvent},function(t){_=t.delay}],execute:function(){var f,L,v,m,y,b,k,B,w,C;t("LoadingEvent",void 0),s._RF.push({},"e12ecBlU9xP9IaEnH34B75P","LoadingController",void 0);var F,S=l.ccclass,D=l.property;!function(t){t[t.Loading_Start=0]="Loading_Start",t[t.Loading_StartFinished=1]="Loading_StartFinished",t[t.Loading_Finish=2]="Loading_Finish"}(F||(F=t("LoadingEvent",{})));t("LoadingController",(f=S("LoadingController"),L=D({type:u.AnimationController,visible:!0}),v=D({type:c,visible:!0}),m=D({visible:!0,min:.1,tooltip:"How much time should be waited before triggering processing."}),f(((C=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,e(n,"_animator",k,o(n)),e(n,"_inputBlocker",B,o(n)),e(n,"_startDuration",w,o(n)),n._keyBoolIsLoading="isLoading",n}i(n,t);var s=n.prototype;return s.onLoad=function(){null!=n.instance?this.node.destroy():(n.instance=this,h.addPersistRootNode(this.node));var t=this.getComponent(d);t&&(t.enabled=!0),null==this._inputBlocker&&(this._inputBlocker=this.getComponentInChildren(c)),null!=this._inputBlocker&&(this._inputBlocker.node.active=!1)},s.start=function(){g.on(F[F.Loading_Start],this.show,this),g.on(F[F.Loading_Finish],this.hide,this)},s.onDestroy=function(){g.off(F[F.Loading_Start],this.show,this),g.off(F[F.Loading_Finish],this.hide,this)},s.show=function(){var t=this;return null!=this._inputBlocker&&(this._inputBlocker.node.active=!0),this._animator.setValue(this._keyBoolIsLoading,!0),new Promise(r(regeneratorRuntime.mark((function n(i,e){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_(t._startDuration);case 2:g.emit(F[F.Loading_StartFinished]),i();case 4:case"end":return n.stop()}}),n)}))))},s.hide=function(){this._animator.setValue(this._keyBoolIsLoading,!1),null!=this._inputBlocker&&(this._inputBlocker.node.active=!1)},a(n,null,[{key:"instance",get:function(){return n._instance},set:function(t){n._instance=t}}]),n}(p))._instance=null,k=n((b=C).prototype,"_animator",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(b.prototype,"_inputBlocker",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(b.prototype,"_startDuration",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.6}}),y=b))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/Logger.ts",["cc"],(function(e){"use strict";var g;return{setters:[function(e){g=e.cclegacy}],execute:function(){var o,r;e({LogCategory:void 0,LogType:void 0}),g._RF.push({},"46e063+EuZIZL/iJQhAf/jc","Logger",void 0),function(e){e[e.Info=0]="Info",e[e.Warning=1]="Warning",e[e.Error=2]="Error"}(o||(o=e("LogType",{}))),function(e){e[e.Generic=0]="Generic",e[e.Gameplay=1]="Gameplay",e[e.AI=2]="AI",e[e.Metagame=3]="Metagame",e[e.UI=4]="UI",e[e.Audio=5]="Audio"}(r||(r=e("LogCategory",{})));var n=e("Logger",function(){function e(){for(var e in this.currentLoggingLevel=o.Info,this.categoryLogging=new Map,r){var g=Number(e);isNaN(g)||this.categoryLogging.set(g,!0)}}var g=e.prototype;return g.setLoggingLevel=function(e){this.currentLoggingLevel=e},g.setCategoryLogging=function(e,g){this.categoryLogging.set(e,g)},g.getCategoryLogging=function(e){if(this.categoryLogging.has(e)){var g=this.categoryLogging.get(e);return g||!1}return!1},g.log=function(e,g,n){if(void 0===g&&(g=r.Generic),void 0===n&&(n=o.Info),this.categoryLogging.get(g)&&!(n<this.currentLoggingLevel)){var t=r[g];switch(n){case o.Info:console.log("["+t+"] "+e);break;case o.Warning:console.warn("["+t+"] "+e);break;case o.Error:console.error("["+t+"] "+e)}o.Error}},e}());e("logger",new n).setLoggingLevel(o.Error),g._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./LevelUpRewardedAdController.ts","./LevelUpRewardedAdEvents.ts","./DebugCamera.ts","./FreeCameraControl.ts","./MainCamera.ts","./PlayerCameraPivots.ts","./Character.ts","./CharacterAnimator.ts","./CharacterEnums.ts","./CharacterCheats.ts","./ICharacterMovement.ts","./SplineCharacterMovement.ts","./CosmeticBodyColor.ts","./CustomizationApplier.ts","./CustomizationBundleLoader.ts","./CustomizationController.ts","./CustomizationEnums.ts","./CustomizationPreviewer.ts","./CustomizationRandomizer.ts","./CustomizationSave.ts","./TransformMeshesToUI.ts","./DebugCharacterSpeed.ts","./DebugDeleteSave.ts","./DebugGiveCoins.ts","./DebugLoadLevelOnStart.ts","./DebugPanel.ts","./DebugPlayerLevelUp.ts","./DebugStartGameOnStart.ts","./DebugTeleportToFinish.ts","./DebugUnlockCosmetics.ts","./PlayerPurseController.ts","./PlayerPurseEnums.ts","./PlayerCoinsDisplay.ts","./UIEvents.ts","./BaseEventListener.ts","./EventListener.ts","./UIEventsListener.ts","./BaseEventRaiser.ts","./EventRaiser.ts","./UIEventRaiser.ts","./FollowTarget.ts","./GSNHGameOver.ts","./GSNHGameReady.ts","./GSNHLevelComplete.ts","./GSNHRewardedAdsController.ts","./GSNHSendScore.ts","./AdButtonShower.ts","./AdsEvents.ts","./IAdRequest.ts","./RewardedAdOportunity.ts","./GSAudioController.ts","./GSGameEventsEmitter.ts","./GSGameReadyEmitter.ts","./Coin.ts","./DebugReloadScene.ts","./GameController.ts","./GameEnums.ts","./GameInput.ts","./MetaController.ts","./StuntTrigger.ts","./TargetFrameRate.ts","./Globals.ts","./DistributeReward.ts","./LevelingUpEnums.ts","./PlayerLevelController.ts","./PlayerLevelSettings.ts","./GameOverAnimatedXpDisplay.ts","./GameOverCoinsDisplayToast.ts","./GameOverLevelDisplay.ts","./GameOverLevelDisplayDirector.ts","./GameOverTotalCoinsDisplay.ts","./PlayerLevelDisplay.ts","./PlayerXpDisplay.ts","./CoinsSower.ts","./Level.ts","./LevelEnd.ts","./LevelEndRecord.ts","./LevelEnums.ts","./LevelTheme.ts","./LevelThemeController.ts","./PropsSower.ts","./SplineLevelAssembler.ts","./LoadingController.ts","./MinMaxRange.ts","./NodeFollower.ts","./PlayerAudio.ts","./PlayerCharacter.ts","./PlayerEnums.ts","./PlayerPlacer.ts","./PlayerSmoothSystem.ts","./PlayerSpeedFeedback.ts","./PlayerStuntSystem.ts","./ProjectVersion.ts","./UIProjectVersion.ts","./SaveGame.ts","./SaveGameKeys.ts","./MusicController.ts","./PlayerLevelSFX.ts","./SFXUnlockCosmetic.ts","./SplashController.ts","./follow-path-mesh.ts","./follow-path-object.ts","./UIActivateCanvasOnPreLoad.ts","./UIBackground.ts","./UIBatchButtonAudio.ts","./UIBorderColor.ts","./UIButtonCloseTutorial.ts","./UIButtonRestart.ts","./UIButtonStart.ts","./UICharacter.ts","./UICoinCollectFeedback.ts","./UICoinCounter.ts","./UICoinCounterRewards.ts","./UICurrentCoinMultiplier.ts","./UIDistanceFlew.ts","./UIDistanceReached.ts","./UIGachaResult.ts","./UIGachaRoulette.ts","./UIGameOver.ts","./UIGameplay.ts","./UIHideOnPreLoad.ts","./UILevelUpReward.ts","./UILoading.ts","./UIMainMenu.ts","./UIPageViewHelper.ts","./UIParticleTween.ts","./UIPlayerExperienceVFX.ts","./UIPlayerLevelUpCoinRewardFeedback.ts","./UISmooth.ts","./UIStore.ts","./UIStoreBackButton.ts","./UIStoreButton.ts","./UIStoreTabButton.ts","./UIUpgradeCoinMultiplier.ts","./UIUpgradeSpeed.ts","./CoinMultiplierUpgrades.ts","./SpeedUpgrades.ts","./BundleLoader.ts","./LifecycleTest.ts","./AnimationEnums.ts","./AnimationEventRaiser.ts","./AnimationGraphHelper.ts","./AnimationHelperVariable.ts","./AudioData.ts","./AudioDataLoader.ts","./AudioEnums.ts","./AudioItem.ts","./AudioListener.ts","./AudioManager.ts","./AudioManagerInitializer.ts","./AudioObject.ts","./AudioProxy.ts","./UIClickSFX.ts","./ButtonHelper.ts","./NodeHelper.ts","./RigidbodyHelper.ts","./SpriteHelper.ts","./DebugDraw.ts","./Logger.ts","./ObjectPool.ts","./PrefabPool.ts","./ProjectEvent.ts","./OnEnable.ts","./OnStart.ts","./Draggable.ts","./DropArea.ts","./Droppable.ts","./FollowDragOnGroundExample.ts","./Holdable.ts","./InputEnums.ts","./Tappable.ts","./TouchController.ts","./AxisInput.ts","./UIVirtualJoystick.ts","./VirtualJoystick.ts","./VirutalJoystick%20enums.ts","./Panel.ts","./PanelEnums.ts","./PanelManager.ts","./BaseSaveGame.ts","./BaseSaveGameData.ts","./SaveGameEnums.ts","./PunchPositionTween.ts","./PunchRotationTween.ts","./PunchScaleTween.ts","./PunchTweenBase.ts","./TweenBase.ts","./TweenCollection.ts","./TweenEnums.ts","./TweenNodePosition.ts","./TweenNodeRotation.ts","./TweenNodeScale.ts","./TweenPunchScale.ts","./TweenUIOpacity.ts","./mesh-tiling.ts","./scatter-item.ts","./scatter-volume.ts","./scatter.ts","./sower.ts","./spline-util-base.ts","./spline-util-renderer.ts","./terrain-sculpt.ts","./type.ts","./cubic-bezier-curve.ts","./curve-sample.ts","./asset-operation.ts","./controller.ts","./gizmo.ts","./spline-grid-util.ts","./continuous-line-controller.ts","./editor.ts","./index.ts","./npm.ts","./spline-gizmo.ts","./spline-node-controller.ts","./types.ts","./utils.ts","./spline-curve-interface.ts","./spline-node-wrapper.ts","./spline-node.ts","./spline-smoother.ts","./spline.ts","./animation-curve.ts","./event.ts","./mathf.ts","./fixed-buffer.ts","./fixed-model-mesh.ts","./mesh-bender.ts","./mesh-tesselate.ts","./mesh-utility.ts","./mesh-vertex.ts","./source-mesh.ts","./pool.ts","./raycast.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./GameEnums.ts","./PlayerCameraPivots.ts"],(function(t){"use strict";var e,o,a,i,n,r,s,l,m,p,c,h,d,u,_,v,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,n=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.Vec3,m=t.Camera,p=t.Quat,c=t.Component},function(t){h=t.logger,d=t.LogCategory,u=t.LogType},function(t){_=t.projectEvent},function(t){v=t.GameEvent},function(t){y=t.PlayerCameraPivots}],execute:function(){var G,f,P,g,C,w,O,T,E;r._RF.push({},"c0ef8RiVztCBYL8f8P5oTKL","MainCamera",void 0);var L,b=s.ccclass,R=s.property,D=s.executionOrder;!function(t){t[t.Gameplay=0]="Gameplay",t[t.TransitionToGameOver=1]="TransitionToGameOver",t[t.GameOver=2]="GameOver"}(L||(L={}));t("MainCamera",(G=b("MainCamera"),f=D(-10),P=R({visible:!0}),g=R({visible:!0}),G(C=f(((E=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n))||this,a(e,"_speedTransitionToGameOver",O,i(e)),a(e,"_speedFollow",T,i(e)),e._state=L.Gameplay,e._camera=null,e._playerCameraPivots=null,e._target=null,e._targetDelta=new l,e._targetPosition=new l,e}o(e,t);var r=e.prototype;return r.onLoad=function(){null==e._instance?(e._instance=this,this._camera=this.node.getComponent(m)):this.node.destroy()},r.onDestroy=function(){e._instance==this&&(e._instance=null)},r.onEnable=function(){_.on(v[v.GE_PlayerLoaded],this.onPlayerLoaded,this),_.on(v[v.GE_StartGame],this.onGameStart,this),_.on(v[v.GE_GameOver],this.onGameOver,this)},r.onDisable=function(){_.off(v[v.GE_PlayerLoaded],this.onPlayerLoaded,this),_.off(v[v.GE_StartGame],this.onGameStart,this),_.off(v[v.GE_GameOver],this.onGameOver,this)},r.lateUpdate=function(t){this._state==L.TransitionToGameOver&&(this.node.worldPosition=this.node.worldPosition.lerp(this._playerCameraPivots.pivotGameOver.worldPosition,t*this._speedTransitionToGameOver),this.node.worldRotation=this.node.worldRotation.lerp(this._playerCameraPivots.pivotGameOver.worldRotation,t*this._speedTransitionToGameOver),p.equals(this.node.worldRotation,this._playerCameraPivots.pivotGameplay.worldRotation)&&(this._state=L.GameOver)),this._state==L.Gameplay&&this._target&&(this._targetPosition.set(this._target.worldPosition),this._targetPosition.add(this._targetDelta),this.node.worldPosition=this.node.worldPosition.lerp(this._targetPosition,t*this._speedFollow))},r.onPlayerLoaded=function(t){this._target=t,this._playerCameraPivots=t.getComponent(y),null!=this._playerCameraPivots?(this.node.setWorldPosition(this._playerCameraPivots.pivotGameplay.worldPosition),this.node.setWorldRotation(this._playerCameraPivots.pivotGameplay.worldRotation),l.subtract(this._targetDelta,this._playerCameraPivots.pivotGameplay.worldPosition,this._target.worldPosition)):h.log("Could not get  player pivots component from player node.",d.Gameplay,u.Error)},r.onGameStart=function(){null!=this._playerCameraPivots?this._state=L.Gameplay:h.log("No pivots for camera configured.",d.Gameplay,u.Error)},r.onGameOver=function(){this._state=L.TransitionToGameOver},n(e,[{key:"camera",get:function(){return this._camera}}],[{key:"instance",get:function(){return this._instance}}]),e}(c))._instance=null,O=e((w=E).prototype,"_speedTransitionToGameOver",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),T=e(w.prototype,"_speedFollow",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),C=w))||C)||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/mathf.ts",["cc"],(function(t){"use strict";var n,i;return{setters:[function(t){n=t.cclegacy,i=t.Vec3}],execute:function(){t({pointDistanceXZ:function(t,n){var i=n.x-t.x,r=n.z-t.z;return Math.sqrt(i*i+r*r)},pointInBoundingXZ:function(t,n,i,r,e){void 0===r&&(r=0);void 0===e&&(e=0);return t.x>=n.x-r&&t.x<=i.x+r&&t.z>=n.z-e&&t.z<=i.z+e},pointInPolygonAreaXZ:function(t,n){for(var i=!1,r=t.x,e=t.z,o=n.length,u=0,s=o-1;u<o;s=u++){var c=n[u].x,a=n[u].z,f=n[s].x,x=n[s].z;a>e!=x>e&&r<(f-c)*(e-a)/(x-a)+c&&(i=!i)}return i},pointInPolygonLineXZ:function(t,n,i,r){void 0===r&&(r=!0);for(var e=1,u=n.length;e<u;e++){var s=o(t,n[e-1],n[e],!0);if(s.dist<i){if(r)return!0;if(s.t>=0&&s.t<=1)return!0}}return!1},pointLineDistanceXZ:o,pointPolygonMinDistXZ:function(t,n){u.dist=Number.MAX_SAFE_INTEGER;for(var i=1;i<n.length;i++){var r=o(t,n[i-1],n[i],!0);r.dist<u.dist&&(u.dist=r.dist,u.index=i,u.t=r.t)}return u}}),n._RF.push({},"c7eb5bTTC1Ic58WBxykaEs8","mathf",void 0);t("default",function(){function t(){}return t.lerp=function(t,n,i){return t+(n-t)*i},t}());var r=new i,e={dist:0,t:0};function o(t,n,i,o){void 0===o&&(o=!1);var u,s=i.x-n.x,c=i.z-n.z,a=s*s+c*c,f=((t.x-n.x)*s+(t.z-n.z)*c)/a;return u=o?a?f<0?n:f>1?i:r.set(n.x+f*s,0,n.z+f*c):n:r.set(n.x+f*s,0,n.z+f*c),s=t.x-u.x,c=t.z-u.z,e.dist=Math.sqrt(s*s+c*c),e.t=f,e}var u={dist:0,index:0,t:0};n._RF.pop()}}}));

System.register("chunks:///_virtual/mesh-bender.ts",["./rollupPluginModLoBabelHelpers.js","cc","./curve-sample.ts","./mesh-vertex.ts","./mesh-utility.ts"],(function(t){"use strict";var e,i,n,s,r,o,h,l,u,a,c,f,g,p,v,d;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy,r=t._decorator,o=t.Enum,h=t.Vec2,l=t.log,u=t.clamp,a=t.ModelComponent,c=t.Color,f=t.Component},function(t){g=t.default},function(t){p=t.default,v=t.MeshVertexFlags},function(t){d=t.default}],execute:function(){var m;t({AlignType:void 0,FillingMode:void 0,MirrorType:void 0,ValueType:void 0}),s._RF.push({},"e6d5cY/mT5Jf50xDNH6cOzK","mesh-bender",void 0);var y,_,C,S,w=r.ccclass,x=r.executeInEditMode;!function(t){t[t.Once=0]="Once",t[t.Repeat=1]="Repeat",t[t.StretchToInterval=2]="StretchToInterval"}(y||(y=t("FillingMode",{}))),o(y),function(t){t[t.None=0]="None",t[t.Top=1]="Top",t[t.Bottom=2]="Bottom",t[t.Right=3]="Right",t[t.Left=4]="Left"}(_||(_=t("AlignType",{}))),o(_),function(t){t[t.None=0]="None",t[t.Z=1]="Z",t[t.Y=2]="Y"}(C||(C=t("MirrorType",{}))),o(C),function(t){t[t.Absolute=0]="Absolute",t[t.Percent=1]="Percent"}(S||(S=t("ValueType",{}))),o(S);var T=new h,k=new h,R=0,V=0,b=0,O=0;function A(t){var e=t.source;switch(R=0,V=0,b=0,O=0,t.alignType){case _.None:break;case _.Top:O=t.alignOffset,V=-(e.minY+e.lengthY);break;case _.Bottom:O=t.alignOffset,V=-e.minY;break;case _.Right:b=t.alignOffset,R=-(e.minZ+e.lengthZ);break;case _.Left:b=t.alignOffset,R=-e.minZ}T.set(e.minZ+t.widthRange.x*e.lengthZ,e.minZ+t.widthRange.y*e.lengthZ),k.set(e.minY+t.heightRange.x*e.lengthY,e.minY+t.heightRange.y*e.lengthY)}function D(t,e,i,n){return(e=p.pool.get().set(e)).position.z=u(e.position.z,T.x,T.y),e.position.y=u(e.position.y,k.x,k.y),e.position.z+=R,e.position.y+=V,t.widthCurve&&(e.position.z*=t.widthCurve.evaluate(n,.5)),t.heightCurve&&(e.position.y*=t.heightCurve.evaluate(n,.5)),e.position.z+=b,e.position.y+=O,t.mirror===C.Y?e.position.y*=-1:t.mirror===C.Z&&(e.position.z*=-1),e=i.getBent(e,e)}function M(t,e,i,s){var r,o=e[0].flag;if(t.useCustomVertexColor){o|=v.Color,r=[];for(var h=0;h<e.length;h++)r.push(t.customVertexColor)}else r=o&v.Color&&e.map((function(t){return t.color}));t._vertexFlags=o,d.updateOrCreateModelMesh(t.getComponent(a),{positions:o&v.Position&&e.map((function(t){return t.position})),normals:o&v.Normal&&e.map((function(t){return t.normal})),tangents:o&v.Tangent&&e.map((function(t){return t.tangent})),uvs:o&v.UV&&e.map((function(t){return t.uv})),uv1s:o&v.UV1&&e.map((function(t){return t.uv1})),colors:r,indices:s||t.source.triangles});for(var l=0;l<e.length;l++)p.pool.put(e[l]);for(var u,c=n(i);!(u=c()).done;){var f=u.value;g.pool.put(f[1])}i.clear()}t("default",w(m=x(m=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).dirty=!1,e.result=null,e.useSpline=!1,e.spline=null,e.intervalStart=0,e.intervalEnd=0,e.curve=null,e._sampleCache=new Map,e._vertexFlags=0,e._source=null,e._mode=y.StretchToInterval,e._mirror=C.None,e._useCustomVertexColor=!1,e._customVertexColor=new c,e._offset=0,e._offsetValueType=S.Absolute,e._widthCurve=null,e._widthRange=new h(0,1),e._heightCurve=null,e._heightRange=new h(0,1),e._alignType=_.None,e._alignOffset=0,e}e(n,t);var s=n.prototype;return s.setInterval=function(t){if(this.curve!=t){if(null==t)throw new Error("curve");null!=this.curve&&this.curve.changed.removeListener(this.setDirty,this),this.curve=t,this.spline=null,t.changed.addListener(this.setDirty,this),this.useSpline=!1,this.dirty=!0}},s.setInterval1=function(t,e,i){if(void 0===i&&(i=0),this.spline!=t||this.intervalStart!=e||this.intervalEnd!=i){if(null==t)throw new Error("spline");if(e<0||e>=t.length)throw new Error("interval start must be 0 or greater and lesser than spline length (was "+e+")");if(0!=i&&i<=e||i>t.length)throw new Error("interval end must be 0 or greater than interval start, and lesser than spline length (was "+i+")");null!=this.spline&&this.spline.curveChanged.removeListener(this.setDirty,this),this.spline=t,t.curveChanged.addListener(this.setDirty,this),this.curve=null,this.intervalStart=e,this.intervalEnd=i,this.useSpline=!0,this.dirty=!0}},s.onEnable=function(){},s.update=function(){this.computeIfNeeded()},s.computeIfNeeded=function(){this.dirty&&this.compute()},s.setDirty=function(){this.dirty=!0},s.compute=function(){switch(this.dirty=!1,this.mode){case y.Once:this.fillOnce();break;case y.Repeat:this.fillRepeat();break;case y.StretchToInterval:this.fillStretch()}},s.onDestroy=function(){null!=this.curve&&this.curve.changed.removeListener(this.compute)},s.fillOnce=function(){var t=this._sampleCache,e=this.source,i=[];A(this);for(var n=this.calcOffset,s=0;s<e.vertices.length;s++){var r=e.vertices[s],o=r.position.x-e.minX+n,h=0==e.lengthX?0:Math.abs(r.position.x-e.minX)/e.lengthX,l=""+o,u=t.get(l);if(!u){if(this.useSpline){for(var a=this.intervalStart+o;a>this.spline.length;)a-=this.spline.length;u=this.spline.getSampleAtDistance(a)}else{if(o>this.curve.length)continue;u=this.curve.getSampleAtDistance(o,g.pool.get())}t.set(l,u)}r=D(this,r,u,h),i.push(r)}M(this,i,t)},s.fillRepeat=function(){for(var t=this.source,e=this.useSpline?(0==this.intervalEnd?this.spline.length:this.intervalEnd)-this.intervalStart:this.curve.length,i=Math.floor(e/t.lengthX),n=this._sampleCache,s=t.vertices,r=[],o=0;o<i+1;o++)for(var h=0;h<t.triangles.length;h++)r.push(t.triangles[h]+s.length*o);A(this);for(var l=[],u=this.calcOffset,a=0;a<i;a++){for(var c=0;c<s.length;c++){var f=s[c],p=f.position.x-t.minX+u,v=a+"_"+p,d=n.get(v);if(!d){if(this.useSpline){for(var m=this.intervalStart+p;m>this.spline.length;)m=this.spline.length;d=this.spline.getSampleAtDistance(m)}else{if(p>this.curve.length)continue;d=this.curve.getSampleAtDistance(p,g.pool.get())}n.set(v,d)}f=D(this,f,d,p/e),l.push(f)}u+=t.lengthX}for(var y=(this.useSpline?this.spline.length:this.curve.length)-u,_=0;_<s.length;_++){var C=s[_],S=0==t.lengthX?0:Math.abs(C.position.x-t.minX)/t.lengthX,w=u+S*y,x=""+w,T=n.get(x);if(!T){if(this.useSpline){for(var k=this.intervalStart+w;k>this.spline.length;)k=this.spline.length;T=this.spline.getSampleAtDistance(k)}else{if(w>this.curve.length)continue;T=this.curve.getSampleAtDistance(w,g.pool.get())}n.set(x,T)}C=D(this,C,T,S),l.push(C)}M(this,l,n,r)},s.fillStretch=function(){var t=[],e=this.source,i=this._sampleCache;A(this);for(var n=0;n<e.vertices.length;n++){var s=e.vertices[n],r=0==e.lengthX?0:Math.abs(s.position.x-e.minX)/e.lengthX,o=""+r,h=i.get(o);if(!h){if(this.useSpline){var u=0==this.intervalEnd?this.spline.length-this.intervalStart:this.intervalEnd-this.intervalStart,a=this.intervalStart+u*r;a>this.spline.length&&(a=this.spline.length,l("dist "+a+" spline length "+this.spline.length+" start "+this.intervalStart)),h=this.spline.getSampleAtDistance(a)}else h=this.curve.getSampleAtDistance(this.curve.length*r,g.pool.get());i.set(o,h)}s=D(this,s,h,r),t.push(s)}M(this,t,i)},i(n,[{key:"source",get:function(){return this._source},set:function(t){t!=this._source&&(this.dirty=!0,this._source=t)}},{key:"mode",get:function(){return this._mode},set:function(t){t!=this._mode&&(this.dirty=!0,this._mode=t)}},{key:"mirror",get:function(){return this._mirror},set:function(t){t!=this._mirror&&(this.dirty=!0,this._mirror=t)}},{key:"useCustomVertexColor",get:function(){return this._useCustomVertexColor},set:function(t){this._useCustomVertexColor=t,this.dirty=!0}},{key:"customVertexColor",get:function(){return this._customVertexColor},set:function(t){this._customVertexColor.set(t),this.dirty=!0}},{key:"offset",get:function(){return this._offset},set:function(t){this._offset=t,this.dirty=!0}},{key:"offsetValueType",get:function(){return this._offsetValueType},set:function(t){this._offsetValueType=t,this.dirty=!0}},{key:"length",get:function(){return this.useSpline?this.spline.length:this.curve.length}},{key:"calcOffset",get:function(){return this.offsetValueType===S.Absolute?this.offset:this.offset*this.length}},{key:"widthCurve",get:function(){return this._widthCurve},set:function(t){this._widthCurve=t,this.dirty=!0}},{key:"widthRange",get:function(){return this._widthRange},set:function(t){this._widthRange.set(t),this.dirty=!0}},{key:"heightCurve",get:function(){return this._heightCurve},set:function(t){this._heightCurve=t,this.dirty=!0}},{key:"heightRange",get:function(){return this._heightRange},set:function(t){this._heightRange.set(t),this.dirty=!0}},{key:"alignType",get:function(){return this._alignType},set:function(t){this._alignType=t,this.dirty=!0}},{key:"alignOffset",get:function(){return this._alignOffset},set:function(t){this._alignOffset=t,this.dirty=!0}}]),n}(f))||m)||m);s._RF.pop()}}}));

System.register("chunks:///_virtual/mesh-tesselate.ts",["cc","./mesh-vertex.ts"],(function(t){"use strict";var e,n,r,o,s;return{setters:[function(t){e=t.cclegacy,n=t.Vec3,r=t.Vec4,o=t.Vec2},function(t){s=t.default}],execute:function(){e._RF.push({},"bf32f8QiGBM0pOS/xpwz1v6","mesh-tesselate",void 0);t("default",{tessellate:function(t,e,u){void 0===u&&(u=0),u+=1;for(var i=[],a=function(e,u,i){return function(t,e){for(var n=0;n<e.length;n++)if(e[n].position.equals(t.position))return n;return e.push(t)-1}(function(t,e,u){void 0===u&&(u=.5);var i=s.pool.get();return n.lerp(i.position,t.position,e.position,u),n.lerp(i.normal,t.normal,e.normal,u),r.lerp(i.tangent,t.tangent,e.tangent,u),o.lerp(i.uv,t.uv,e.uv,u),i}(t[e],t[u],i),t)},c=0,l=e.length;c<l;c+=3){var p=e[c],f=e[c+1],v=e[c+2],h=a(p,f,1/u),g=a(p,v,1/u);i.push(p,h,g);for(var m=1;m<u;++m)for(var d=a(p,f,(m+1)/u),x=a(p,v,(m+1)/u),V=0;V<=m;++V)i.push(a(h,g,V/m),a(d,x,V/(m+1)),a(d,x,(V+1)/(m+1))),V<m&&i.push(a(h,g,V/m),a(d,x,(V+1)/(m+1)),a(h,g,(V+1)/m))}return i}});e._RF.pop()}}}));

System.register("chunks:///_virtual/mesh-tiling.ts",["./rollupPluginModLoBabelHelpers.js","cc","./spline-util-renderer.ts","./mesh-bender.ts","./source-mesh.ts","./spline.ts","./animation-curve.ts","./event.ts"],(function(e){"use strict";var t,r,o,i,n,s,a,p,u,l,c,h,f,y,g,m,_,d,b,C,w,v,O,T,V,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){s=e.cclegacy,a=e._decorator,p=e.Vec3,u=e.Material,l=e.Mesh,c=e.CurveRange,h=e.Vec2,f=e.ModelComponent,y=e.Node,g=e.Quat,m=e.Color},function(e){_=e.default},function(e){d=e.FillingMode,b=e.ValueType,C=e.AlignType,w=e.MirrorType,v=e.default},function(e){O=e.default},function(e){T=e.default},function(e){V=e.default},function(e){R=e.default}],execute:function(){var x,k,z,D,P,j,M,S,N,E,F,I,L,A,B,G,Q,H,X,Y,Z,q,J,K,U,W,$,ee,te,re,oe,ie,ne,se,ae,pe,ue,le,ce,he,fe,ye;s._RF.push({},"4a587hdoeRPaoMhtXF2Qk+F","mesh-tiling",void 0);var ge=a.ccclass,me=a.executeInEditMode,_e=(a.float,a.type),de=(a.boolean,a.property);new p,new p,e("default",(x=_e(u),k=_e(u),z=_e(l),D=_e(l),P=_e(p),j=_e(p),M=_e(p),S=de({type:d}),N=_e(b),E=_e(b),F=_e(c),I=_e(c),L=_e(h),A=_e(h),B=_e(c),G=_e(c),Q=_e(h),H=_e(h),X=_e(C),Y=_e(C),Z=_e(w),q=_e(w),ge(J=me((U=t((K=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,o(t,"_material",U,i(t)),o(t,"_mesh",W,i(t)),o(t,"_translation",$,i(t)),o(t,"_rotation",ee,i(t)),o(t,"_scale",te,i(t)),o(t,"_curveSpace",re,i(t)),o(t,"_mode",oe,i(t)),o(t,"_offset",ie,i(t)),o(t,"_offsetValueType",ne,i(t)),o(t,"_widthCurve",se,i(t)),o(t,"_widthRange",ae,i(t)),o(t,"_heightCurve",pe,i(t)),o(t,"_heightRange",ue,i(t)),o(t,"_alignType",le,i(t)),o(t,"_alignOffset",ce,i(t)),o(t,"_mirrorType",he,i(t)),o(t,"_useCustomVertexColor",fe,i(t)),o(t,"_customVertexColor",ye,i(t)),t.onGenerateEvent=new R,t}r(t,e);var s=t.prototype;return s.compute=function(){if(this.mesh){var e=this.generated.children,t=0;if(this.splineCurve instanceof T)if(this.curveSpace)for(var r=this.spline.curves,o=0;o<r.length;o++)this._getOrcreate(t++,r[o]),this.mirror!==w.None&&this._getOrcreate(t++,r[o],this.mirror);else this._getOrcreate(t++,this.spline),this.mirror!==w.None&&this._getOrcreate(t++,this.spline,this.mirror);else this._getOrcreate(t++,this.splineCurve),this.mirror!==w.None&&this._getOrcreate(t++,this.splineCurve,this.mirror);if(e.length>t)for(var i=e.length-1;i>=t;i--)e[i].parent=null}},s._updateMaterials=function(){for(var e=this.generated.children,t=0;t<e.length;t++){e[t].getComponent(f).material=this.material}},s._updateMode=function(){for(var e=this.generated.children,t=0;t<e.length;t++){e[t].getComponent(v).mode=this.mode}},s._getOrcreate=function(e,t,r){void 0===r&&(r=w.None);var o=this.generated.children[e];o||((o=new y).parent=this.generated);var i=o.getComponent(v);i||(i=o.addComponent(v)),t instanceof T?i.setInterval1(t,0):i.setInterval(t);var n=this.translation,s=this.rotation,a=this.alignOffset;i.source=O.build(this.mesh).translate(n).rotate(g.fromEuler(new g,s.x,s.y,s.z)).scaleRes(this.scale),i.mode=this.mode,i.offset=this.offset,i.offsetValueType=this.offsetValueType,i.widthCurve=this.widthCurve,i.widthRange=this.widthRange,i.heightCurve=this.heightCurve,i.heightRange=this.heightRange,i.alignType=this.alignType,i.alignOffset=a,i.customVertexColor=this.customVertexColor,i.useCustomVertexColor=this.useCustomVertexColor,i.mirror=r,r===w.Z?(i.alignOffset*=-1,i.alignType===C.Left?i.alignType=C.Right:i.alignType===C.Right&&(i.alignType=C.Left)):r===w.Y&&(i.alignOffset*=-1,i.alignType===C.Top?i.alignType=C.Bottom:i.alignType===C.Bottom&&(i.alignType=C.Top));var p=o.getComponent(f);return p||((p=o.addComponent(f)).material=this.material),i.update(),this.onGenerateEvent.invoke(o),o},n(t,[{key:"material",get:function(){return this._material},set:function(e){this._material=e,this._updateMaterials()}},{key:"mesh",get:function(){return this._mesh},set:function(e){this._mesh=e,this.reset()}},{key:"translation",get:function(){return this._translation},set:function(e){this._translation=e,this.reset()}},{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation=e,this.reset()}},{key:"scale",get:function(){return this._scale},set:function(e){this._scale=e,this.reset()}},{key:"curveSpace",get:function(){return this._curveSpace},set:function(e){this._curveSpace=e,this.onCurveChanged()}},{key:"mode",get:function(){return this._mode},set:function(e){e!=this._mode&&(this._mode=e,this._updateMode())}},{key:"offset",get:function(){return this._offset},set:function(e){this._offset=e,this.onCurveChanged()}},{key:"offsetValueType",get:function(){return this._offsetValueType},set:function(e){this._offsetValueType=e,this.onCurveChanged()}},{key:"widthCurve",get:function(){return this._widthCurve},set:function(e){this._widthCurve=e,this.dirty=!0}},{key:"widthRange",get:function(){return this._widthRange},set:function(e){this._widthRange=e,this.dirty=!0}},{key:"heightCurve",get:function(){return this._heightCurve},set:function(e){this._heightCurve=e,this.dirty=!0}},{key:"heightRange",get:function(){return this._heightRange},set:function(e){this._heightRange=e,this.dirty=!0}},{key:"alignType",get:function(){return this._alignType},set:function(e){this._alignType=e,this.dirty=!0}},{key:"alignOffset",get:function(){return this._alignOffset},set:function(e){this._alignOffset=e,this.dirty=!0}},{key:"mirror",get:function(){return this._mirrorType},set:function(e){this._mirrorType=e,this.dirty=!0}},{key:"useCustomVertexColor",get:function(){return this._useCustomVertexColor},set:function(e){this._useCustomVertexColor=e,this.dirty=!0}},{key:"customVertexColor",get:function(){return this._customVertexColor},set:function(e){this._customVertexColor.set(e),this._useCustomVertexColor&&(this.dirty=!0)}}]),t}(_)).prototype,"_material",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(K.prototype,"material",[k],Object.getOwnPropertyDescriptor(K.prototype,"material"),K.prototype),W=t(K.prototype,"_mesh",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(K.prototype,"mesh",[D],Object.getOwnPropertyDescriptor(K.prototype,"mesh"),K.prototype),$=t(K.prototype,"_translation",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),t(K.prototype,"translation",[P],Object.getOwnPropertyDescriptor(K.prototype,"translation"),K.prototype),ee=t(K.prototype,"_rotation",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),t(K.prototype,"rotation",[j],Object.getOwnPropertyDescriptor(K.prototype,"rotation"),K.prototype),te=t(K.prototype,"_scale",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.ONE.clone()}}),t(K.prototype,"scale",[M],Object.getOwnPropertyDescriptor(K.prototype,"scale"),K.prototype),re=t(K.prototype,"_curveSpace",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(K.prototype,"curveSpace",[de],Object.getOwnPropertyDescriptor(K.prototype,"curveSpace"),K.prototype),oe=t(K.prototype,"_mode",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.Repeat}}),t(K.prototype,"mode",[S],Object.getOwnPropertyDescriptor(K.prototype,"mode"),K.prototype),ie=t(K.prototype,"_offset",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(K.prototype,"offset",[de],Object.getOwnPropertyDescriptor(K.prototype,"offset"),K.prototype),ne=t(K.prototype,"_offsetValueType",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.Absolute}}),t(K.prototype,"offsetValueType",[E],Object.getOwnPropertyDescriptor(K.prototype,"offsetValueType"),K.prototype),se=t(K.prototype,"_widthCurve",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.one()}}),t(K.prototype,"widthCurve",[I],Object.getOwnPropertyDescriptor(K.prototype,"widthCurve"),K.prototype),ae=t(K.prototype,"_widthRange",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(0,1)}}),t(K.prototype,"widthRange",[A],Object.getOwnPropertyDescriptor(K.prototype,"widthRange"),K.prototype),pe=t(K.prototype,"_heightCurve",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.one()}}),t(K.prototype,"heightCurve",[G],Object.getOwnPropertyDescriptor(K.prototype,"heightCurve"),K.prototype),ue=t(K.prototype,"_heightRange",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(0,1)}}),t(K.prototype,"heightRange",[H],Object.getOwnPropertyDescriptor(K.prototype,"heightRange"),K.prototype),le=t(K.prototype,"_alignType",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.None}}),t(K.prototype,"alignType",[Y],Object.getOwnPropertyDescriptor(K.prototype,"alignType"),K.prototype),ce=t(K.prototype,"_alignOffset",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(K.prototype,"alignOffset",[de],Object.getOwnPropertyDescriptor(K.prototype,"alignOffset"),K.prototype),he=t(K.prototype,"_mirrorType",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.None}}),t(K.prototype,"mirror",[q],Object.getOwnPropertyDescriptor(K.prototype,"mirror"),K.prototype),fe=t(K.prototype,"_useCustomVertexColor",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(K.prototype,"useCustomVertexColor",[de],Object.getOwnPropertyDescriptor(K.prototype,"useCustomVertexColor"),K.prototype),ye=t(K.prototype,"_customVertexColor",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m}}),t(K.prototype,"customVertexColor",[de],Object.getOwnPropertyDescriptor(K.prototype,"customVertexColor"),K.prototype),J=K))||J)||J));s._RF.pop()}}}));

System.register("chunks:///_virtual/mesh-utility.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,a;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){r=e.utils,i=e.cclegacy,n=e.gfx,a=e.ValueType}],execute:function(){i._RF.push({},"77f161VtwtBR7xMTl4loQCo","mesh-utility",void 0);var s={positions:{size:3,gfxName:n.AttributeName.ATTR_POSITION},normals:{size:3,gfxName:n.AttributeName.ATTR_NORMAL},uvs:{size:2,gfxName:n.AttributeName.ATTR_TEX_COORD},tangents:{size:4,gfxName:n.AttributeName.ATTR_TANGENT}},u={tagent:{name:n.AttributeName.ATTR_TANGENT,format:n.Format.RGBA32F}};function f(e){if(e&&void 0!==e[0]&&e[0]instanceof a){for(var t=[],r=0,i=e.length;r<i;r++){var n=e[r];n.constructor.toArray(t,n,t.length)}return t}return e}function o(e,i,a,s,u){for(var f,o=e.struct.vertexBundles[0].attributes,v=0,c=n.Format.UNKNOWN,m=t(o);!(f=m()).done;){var d=f.value;if(d.name===i){c=d.format;break}v+=n.FormatInfos[d.format].size}r.writeBuffer(new DataView(s),a,c,v,u)}e("default",{getReversedTriangles:function(e,t){void 0===t&&(t=0);var r=[];e.copyIndices(t,r);for(var i=r.length/3,n=0;n<i;n++){var a=r[3*n];r[3*n]=r[3*n+1],r[3*n+1]=a}return r},createMesh:function(e){for(var t in(e=Object.assign({},e)).primitiveMode=e.primitiveType,s)e[t]&&(e[t]=f(e[t]));return e.tangents&&(e.customAttributes=[{attr:u.tagent,values:e.tangents}]),r.createMesh(e)},updateMesh:function(e,t){var r=e.mesh;for(var i in(t=Object.assign({},t)).primitiveMode=t.primitiveType,s)t[i]&&(t[i]=f(t[i]));var n=r.renderingSubMeshes[0],a=n.vertexBuffers[0],u=function(e){var t=Number.MAX_SAFE_INTEGER;for(var r in s)e[r]&&(t=Math.min(e[r].length/s[r].size,t));return t}(t),v=a.stride*u,c=a.vbuffer;if(c&&c.length===v)for(var m in s)t[m]&&o(r,s[m].gfxName,t[m],c.buffer,a.stride);else{for(var d in c=a.vbuffer=new Uint8Array(v),s)t[d]&&o(r,s[d].gfxName,t[d],c.buffer,a.stride);a.resize(v)}if(a.update(c.buffer),t.indices){var l=n.indexBuffer,g=function(e){return e.indices?e.indices.length:0}(t),h=l.ibuffer;if(!h||h.length!==g){var b=1===l.stride?Uint8Array:2===l.stride?Uint16Array:Uint32Array;h=l.ibuffer=new b(g),l.resize(g*l.stride)}h.set(t.indices),l.update(h.buffer);var A=e.model&&e.model.subModels[0];if(A){var p=A.inputAssembler;p&&(p.vertexCount=u,p.indexCount=g,A.update())}}},updateOrCreateModelMesh:function(e,t){e.mesh?this.updateMesh(e,t):e.mesh=this.createMesh(t)}});i._RF.pop()}}}));

System.register("chunks:///_virtual/mesh-vertex.ts",["./rollupPluginModLoBabelHelpers.js","cc","./pool.ts"],(function(t){"use strict";var e,i,n,o,r,s,l,a,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.createClass,n=t.initializerDefineProperty},function(t){o=t.cclegacy,r=t._decorator,s=t.Vec3,l=t.Vec2,a=t.Vec4,u=t.Color},function(t){c=t.Pool}],execute:function(){var h,p,f,g,v,b,m,w,y;t("MeshVertexFlags",void 0),o._RF.push({},"a0f00WqATFBO554BJ62A8gf","mesh-vertex",void 0);var E,R=r.ccclass,V=r.property;!function(t){t[t.None=0]="None",t[t.Position=1]="Position",t[t.Normal=2]="Normal",t[t.Tangent=4]="Tangent",t[t.UV=8]="UV",t[t.UV1=16]="UV1",t[t.Color=32]="Color"}(E||(E=t("MeshVertexFlags",{})));t("default",R("MeshVertex")(((y=function(){function t(){n(this,"position",f,this),n(this,"normal",g,this),n(this,"tangent",v,this),n(this,"uv",b,this),n(this,"uv1",m,this),n(this,"color",w,this),this.flag=0}t.create=function(e,i,n,o,r,s){var l=new t;return l.set(e,i,n,o,r,s),l};var e=t.prototype;return e.set=function(e,i,n,o,r,c){if(e instanceof t){var h=e;this.position.set(h.position),this.normal.set(h.normal),this.uv.set(h.uv),this.uv1.set(h.uv1),this.tangent.set(h.tangent),this.color.set(h.color),this.flag=h.flag}else{var p=0;e&&(p|=E.Position,this.position.set(s.ZERO)),i&&(p|=E.Normal,this.normal.set(s.ZERO)),n&&(p|=E.UV,this.uv.set(l.ZERO)),c&&(p|=E.UV1,this.uv1.set(l.ZERO)),o&&(p|=E.Tangent,this.tangent.set(a.ZERO)),r&&(p|=E.Color,this.color.set(u.WHITE)),this.flag=p}return this},e.reset=function(){this.position.set(s.ZERO),this.normal.set(s.ZERO),this.uv.set(l.ZERO),this.uv1.set(l.ZERO),this.tangent.set(a.ZERO),this.color.set(u.WHITE),this.flag=0},i(t,null,[{key:"pool",get:function(){return this._pool||(this._pool=new c(t)),this._pool}}]),t}())._pool=void 0,f=e((p=y).prototype,"position",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),g=e(p.prototype,"normal",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),v=e(p.prototype,"tangent",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),b=e(p.prototype,"uv",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),m=e(p.prototype,"uv1",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),w=e(p.prototype,"color",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),h=p))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/MetaController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./PlayerPurseController.ts","./CoinMultiplierUpgrades.ts","./GameEnums.ts"],(function(e){"use strict";var t,o,n,r,i,l,c,a,s,u;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,r=e.Component},function(e){i=e.logger,l=e.LogCategory},function(e){c=e.projectEvent},function(e){a=e.PlayerPurseController},function(e){s=e.coinMultiplierUpgrade},function(e){u=e.GameEvent}],execute:function(){var C;o._RF.push({},"ebfc1BiC+hK0ZzSjTH0Ohtd","MetaController",void 0);var f=n.ccclass;n.property,e("MetaController",f("MetaController")(C=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).coinCount=0,t}t(o,e);var n=o.prototype;return n.onEnable=function(){c.on(u[u.GE_PlayerCollectedCoin],this.onPlayerCollectedCoin,this),c.on(u[u.GE_GameOver],this.onGameOver,this)},n.onDisable=function(){c.off(u[u.GE_PlayerCollectedCoin],this.onPlayerCollectedCoin,this),c.off(u[u.GE_GameOver],this.onGameOver,this)},n.start=function(){},n.onPlayerCollectedCoin=function(e){void 0===e&&(e=1),null==e&&(e=1),this.coinCount+=e,c.emit(u[u.GE_CoinComputed],this.coinCount-e,this.coinCount)},n.onGameOver=function(){var e=this.coinCount*s.current.Percentage;i.log("Receiving "+e+" from "+this.coinCount+" coins collected",l.Metagame),a.addCoins(e),c.emit(u[u.GE_CoinReceivedAfterMultiply],e)},o}(r))||C);o._RF.pop()}}}));

System.register("chunks:///_virtual/MinMaxRange.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var i,t,e,r,a,o,u;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.createClass,e=n.initializerDefineProperty},function(n){r=n.cclegacy,a=n._decorator,o=n.randomRange,u=n.math}],execute:function(){var s,c,l,m,p,f,_;r._RF.push({},"71f9aaIXA1EbYyvAqpZ4/Vl","MinMaxRange",void 0);var h=a.ccclass,g=a.property;n("MinMaxRange",(s=h("MinMaxRange"),c=g({visible:!0}),l=g({visible:!0}),s((f=i((p=function(){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0),e(this,"_min",f,this),e(this,"_max",_,this),this._min=n,this._max=i}var i=n.prototype;return i.randomValue=function(){return o(this._min,this._max)},i.randomIntValue=function(){return u.randomRangeInt(this._min,this._max)},t(n,[{key:"min",get:function(){return this._min}},{key:"max",get:function(){return this._max}}]),n}()).prototype,"_min",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=i(p.prototype,"_max",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=p))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/MusicController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./ProjectEvent.ts","./GameController.ts","./GameEnums.ts"],(function(e){"use strict";var t,a,n,i,o,s,u,l;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,n=e._decorator,i=e.Component},function(e){o=e.AudioManager},function(e){s=e.projectEvent},function(e){u=e.GameController},function(e){l=e.GameEvent}],execute:function(){var r;a._RF.push({},"ce979HL66xKTauu7hz7XVUw","MusicController",void 0);var c=n.ccclass;n.property,e("MusicController",c("MusicController")(r=function(e){function a(){for(var t,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this)._keyMusicMenu="music_menu",t._keyMusicGameplay="music_gameplay",t._keyAmbienceGameplay="ambience_1",t._audioObjMenu=null,t._audioObjGameplay=null,t}t(a,e);var n=a.prototype;return n.start=function(){0==u.restarting&&this.playMenu()},n.onEnable=function(){s.on(l[l.GE_StartGame],this.playGameplay,this),s.on(l[l.GE_FinalJumpStart],this.stopGameplay,this),s.on(l[l.GE_GameOver],this.onGameOver,this)},n.onDisable=function(){s.off(l[l.GE_StartGame],this.playGameplay,this),s.off(l[l.GE_FinalJumpStart],this.stopGameplay,this),s.off(l[l.GE_GameOver],this.onGameOver,this),this.unscheduleAllCallbacks()},n.playMenu=function(){this._audioObjMenu=o.instance.playByKey(this._keyMusicMenu)},n.playGameplay=function(){var e;null!=(e=this._audioObjMenu)&&e.isValid&&this._audioObjMenu.stop(),this._audioObjGameplay=o.instance.playByKey(this._keyMusicGameplay),o.instance.playByKey(this._keyAmbienceGameplay)},n.stopGameplay=function(){var e;null!=(e=this._audioObjGameplay)&&e.isValid&&this._audioObjGameplay.stop()},n.onGameOver=function(){var e=this;this.scheduleOnce((function(){e.playMenu()}),3)},a}(i))||r);a._RF.pop()}}}));

System.register("chunks:///_virtual/NodeFollower.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,o,n,a,c,l,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){a=t.cclegacy,c=t._decorator,l=t.Node,s=t.Vec3,u=t.Component}],execute:function(){var f,p,_,h,k,b,d,g,w,y,v,P,R;a._RF.push({},"b3f356PhNpDsrCqw43YHWRs","NodeFollower",void 0);var S=c.ccclass,m=c.property;t("NodeFollower",(f=S("NodeFollower"),p=m({type:l,visible:!0}),_=m({visible:!0}),h=m({visible:!0}),k=m({visible:!0}),b=m({visible:!0}),f((w=e((g=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(e,"_target",w,o(e)),r(e,"_trackPosition",y,o(e)),r(e,"_positionOffset",v,o(e)),r(e,"_trackRotation",P,o(e)),r(e,"_trackScale",R,o(e)),e}return i(e,t),e.prototype.lateUpdate=function(){if(this._trackPosition){var t=new s(this._target.worldPosition);t.add(this._positionOffset),this.node.worldPosition=t}this._trackRotation&&(this.node.worldRotation=this._target.worldRotation),this._trackScale&&(this.node.worldScale=this._target.worldScale)},n(e,[{key:"target",get:function(){return this._target},set:function(t){this._target=t}},{key:"trackPosition",get:function(){return this._trackPosition},set:function(t){this._trackPosition=t}},{key:"trackRotation",get:function(){return this._trackRotation},set:function(t){this._trackRotation=t}},{key:"trackScale",get:function(){return this._trackScale},set:function(t){this._trackScale=t}}]),e}(u)).prototype,"_target",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(g.prototype,"_trackPosition",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=e(g.prototype,"_positionOffset",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(0,0,0)}}),P=e(g.prototype,"_trackRotation",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=e(g.prototype,"_trackScale",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=g))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/NodeHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,n,i;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,i=e.Component}],execute:function(){var r;o._RF.push({},"99672sUg5NFw4x7bEPAiyHE","NodeHelper",void 0);var c=n.ccclass;n.property,e("NodeHelper",c("NodeHelper")(r=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var n=o.prototype;return n.activate=function(){this.setActiveState(!0)},n.deactivate=function(){this.setActiveState(!1)},n.setActiveState=function(e){"boolean"==typeof e&&(this.node.active=e)},n.destroyNode=function(){this.node.destroy()},o}(i))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/npm.ts",["cc","./env"],(function(e){"use strict";var t,c;return{setters:[function(e){t=e.cclegacy},function(e){c=e.EDITOR}],execute:function(){e("formatPath",(function(e){return e.replace(/\\/g,"/")})),t._RF.push({},"b24bcl2VmRBGodK/hExc8EZ","npm",void 0);e("cce",c),e("io",c),e("path",c),e("fse",c),e("base642arraybuffer",c);t._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectPool.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"11492o6PdtKSpWjhHMselFX","ObjectPool",void 0);t("ObjectPool",function(){function t(t,e){void 0===e&&(e=0),this.elements=[],this.allocator=t;for(var o=0;o<e;o++)this.elements.push(this.allocator())}var e=t.prototype;return e.get=function(){return this.elements.length>0?this.elements.pop():this.allocator()},e.release=function(t){this.elements.push(t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/OnEnable.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,r,i,o,a,l,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.EventHandler,c=e.Component}],execute:function(){var s,u,p,b,f;o._RF.push({},"56f824up7tJH6vIYn6FglJc","OnEnable",void 0);var v=a.ccclass,y=a.property;e("OnEnable",(s=v("OnEnable"),u=y({visible:!0,type:[l]}),s((f=n((b=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,r(n,"_onEnable",f,i(n)),n}return t(n,e),n.prototype.onEnable=function(){l.emitEvents(this._onEnable)},n}(c)).prototype,"_onEnable",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=b))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/OnStart.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,n,i,o,a,c,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.EventHandler,s=t.Component}],execute:function(){var l,u,p,f,y;o._RF.push({},"72ee5PZ+hdMopet3lRswSwG","OnStart",void 0);var h=a.ccclass,v=a.property;t("OnStart",(l=h("OnStart"),u=v({visible:!0,type:[c]}),l((y=e((f=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"_onStart",y,i(e)),e}return r(e,t),e.prototype.start=function(){c.emitEvents(this._onStart)},e}(s)).prototype,"_onStart",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/Panel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./PanelEnums.ts","./PanelManager.ts"],(function(t){"use strict";var i,e,n,a,l,o,r,s,c,p,u,h,d,m,y,f,O,v;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,l=t.createClass},function(t){o=t.cclegacy,r=t._decorator,s=t.Enum,c=t.Animation,p=t.Node,u=t.AnimationClip,h=t.CCBoolean,d=t.UIOpacity,m=t.Component},function(t){y=t.projectEvent},function(t){f=t.PanelId,O=t.EventPanel},function(t){v=t.PanelManager}],execute:function(){var b,g,C,P,z,w,S,E,F,A,I,L,_,j,k,D;o._RF.push({},"2e50aA9tv1ElLX6TaHJkvJg","Panel",void 0);var M=r.ccclass,x=r.property,B=r.executionOrder;t("Panel",(b=M("Panel"),g=B(-4),C=x({type:s(f)}),P=x(c),z=x({type:p,tooltip:"Used to disable the panel content so no input is processed when closed"}),w=x({type:u,formerlySerializedAs:"clip"}),S=x(u),E=x(h),b(F=g((I=i((A=function(t){function i(){for(var i,e=arguments.length,l=new Array(e),o=0;o<e;o++)l[o]=arguments[o];return i=t.call.apply(t,[this].concat(l))||this,n(i,"id",I,a(i)),n(i,"anim",L,a(i)),n(i,"content",_,a(i)),n(i,"clipOpen",j,a(i)),n(i,"clipClose",k,a(i)),n(i,"startOpen",D,a(i)),i.uiOpacity=void 0,i}e(i,t);var o=i.prototype;return o.onLoad=function(){var t;null==(t=v.instance)||t.register(this),this.uiOpacity=this.node.getComponent(d),null==this.content&&this.node.children.length>0&&(this.content=this.node.children[0])},o.start=function(){this.startOpen?this.open():(this.uiOpacity&&(this.uiOpacity.opacity=0),this.content&&(this.content.active=!1))},o.open=function(){var t,i,e=this;this.uiOpacity&&(this.uiOpacity.opacity=255),this.content&&(this.content.active=!0);var n=null==(t=this.anim)?void 0:t.getState(this.clipOpen.name);n&&(n.speed=1),null==(i=this.anim)||i.play(this.clipOpen.name),this.node.emit(O.OpenStart),y.emit(O.OpenStart,this.id,this.clipOpen.duration),this.scheduleOnce((function(){e.node.emit(O.OpenFinish),y.emit(O.OpenFinish,e.id)}),this.clipOpen.duration)},o.close=function(){var t=this,i=0;if(null==this.clipClose){var e,n,a=null==(e=this.anim)?void 0:e.getState(this.clipOpen.name);a&&(a.speed=-1),null==(n=this.anim)||n.play(this.clipOpen.name),i=this.clipOpen.duration}else{var l;null==(l=this.anim)||l.play(this.clipClose.name),i=this.clipClose.duration}this.node.emit(O.CloseStart),y.emit(O.CloseStart,this.id,i),this.scheduleOnce((function(){t.node.emit(O.CloseFinish),y.emit(O.CloseFinish,t.id),t.uiOpacity&&(t.uiOpacity.opacity=0),t.content&&(t.content.active=!1)}),i)},l(i,[{key:"Id",get:function(){return this.id}}]),i}(m)).prototype,"id",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.None}}),L=i(A.prototype,"anim",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(A.prototype,"content",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(A.prototype,"clipOpen",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(A.prototype,"clipClose",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(A.prototype,"startOpen",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=A))||F)||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/PanelEnums.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var t,s;e({EventPanel:void 0,PanelId:void 0}),n._RF.push({},"8b3edgXZadK4Lxacf0H30hG","PanelEnums",void 0),function(e){e[e.None=0]="None",e[e.DebugMenu=1]="DebugMenu"}(t||(t=e("PanelId",{}))),function(e){e.OpenStart="panel-open-start",e.OpenFinish="panel-open-finish",e.CloseStart="panel-close-start",e.CloseFinish="panel-close-finish"}(s||(s=e("EventPanel",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/PanelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts"],(function(n){"use strict";var e,t,a,o,s;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,a=n._decorator,o=n.Component},function(n){s=n.logger}],execute:function(){var r,i;t._RF.push({},"dd60fb0cwVANrUPb0SN5V4w","PanelManager",void 0);var c=a.ccclass,l=(a.property,a.executionOrder);n("PanelManager",c("PanelManager")(r=l(-5)(((i=function(n){function t(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))||this).panels=new Map,e}e(t,n);var a=t.prototype;return a.onLoad=function(){null==t.instance&&(t.instance=this)},a.onDestroy=function(){t.instance==this&&(t.instance=null)},a.register=function(n){this.panels.set(n.Id,n)},a.open=function(n){var e;this.panels&&(this.panels.has(n)?null==(e=this.panels.get(n))||e.open():s.log("Could not find panel: "+n))},a.close=function(n){var e;null==(e=this.panels.get(n))||e.close()},t}(o)).instance=void 0,r=i))||r)||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerAudio.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./ProjectEvent.ts","./CharacterEnums.ts","./GameEnums.ts","./PlayerEnums.ts"],(function(o){"use strict";var n,t,e,i,a,s,l,r,u;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator,i=o.Component},function(o){a=o.AudioManager},function(o){s=o.projectEvent},function(o){l=o.CharacterEvent},function(o){r=o.GameEvent},function(o){u=o.PlayerEvent}],execute:function(){var d;t._RF.push({},"6f996lTjWBJGpr7uxb9uDjp","PlayerAudio",void 0);var h=e.ccclass;e.property,o("PlayerAudio",h("PlayerAudio")(d=function(o){function t(){for(var n,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(n=o.call.apply(o,[this].concat(e))||this)._keyLanded="sfx_player_landing",n._keySlideLoop="sfx_player_slide_loop",n._keyAirLoop="sfx_player_air_loop",n._keyCrash="sfx_player_crash",n._keyFinalJump="sfx_player_final_jump",n._keyStunt="sfx_player_stunt",n._keyCollectCoin="sfx_player_collect_coin",n._keySmooth="sfx_player_smooth",n._keyFinalMeterGrowLoop="sfx_ui_final_meter_growing_loop",n._keyFinalJumpLand="sfx_ui_final_meter_landing",n._keyFinalJumpLandNewRecord="sfx_ui_final_meter_new_record_landing",n._audioObjLoopAir=null,n._audioObjLoopSlide=null,n._audioObjLoopFinalMeterGrow=null,n}n(t,o);var e=t.prototype;return e.onEnable=function(){this.node.on(l[l.Landed],this.onLand,this),this.node.on(l[l.LeaveGround],this.onLeaveGround,this),this.node.on(l[l.Crashed],this.onCrash,this),this.node.on(l[l.StartFinalJump],this.onStartFinalJump,this),s.on(r[r.GE_PlayerPerformStunt],this.onPerformStunt,this),s.on(r[r.GE_PlayerCollectedCoin],this.onCollectedCoin,this),s.on(u[u.PlayerSmooth],this.onSmooth,this),s.on(u[u.PlayerLandedAtEnd],this.onLandAtEnd,this),s.on(r[r.GE_PlayerRecordResult],this.onRecordResult,this)},e.onDisable=function(){this.node.off(l[l.Landed],this.onLand,this),this.node.off(l[l.LeaveGround],this.onLeaveGround,this),this.node.off(l[l.Crashed],this.onCrash,this),this.node.off(l[l.StartFinalJump],this.onStartFinalJump,this),s.off(r[r.GE_PlayerPerformStunt],this.onPerformStunt,this),s.off(r[r.GE_PlayerCollectedCoin],this.onCollectedCoin,this),s.off(u[u.PlayerSmooth],this.onSmooth,this),s.off(u[u.PlayerLandedAtEnd],this.onLandAtEnd,this),s.off(r[r.GE_PlayerRecordResult],this.onRecordResult,this)},e.onLand=function(){var o;a.instance.playByKey(this._keyLanded),this._audioObjLoopSlide=a.instance.playByKey(this._keySlideLoop),null==(o=this._audioObjLoopAir)||o.stop()},e.onLeaveGround=function(){var o;null==(o=this._audioObjLoopSlide)||o.stop(),this._audioObjLoopAir=a.instance.playByKey(this._keyAirLoop)},e.onCrash=function(){this.stopAllLoops(),a.instance.playByKey(this._keyCrash)},e.onStartFinalJump=function(){a.instance.playByKey(this._keyFinalJump),this._audioObjLoopFinalMeterGrow=a.instance.playByKey(this._keyFinalMeterGrowLoop)},e.onPerformStunt=function(){a.instance.playByKey(this._keyStunt)},e.onCollectedCoin=function(o){a.instance.playByKey(this._keyCollectCoin)},e.onSmooth=function(){a.instance.playByKey(this._keySmooth)},e.onLandAtEnd=function(){this.stopAllLoops()},e.onRecordResult=function(o){o?a.instance.playByKey(this._keyFinalJumpLandNewRecord):a.instance.playByKey(this._keyFinalJumpLand)},e.stopAllLoops=function(){var o,n,t;null!=(o=this._audioObjLoopAir)&&o.isValid&&this._audioObjLoopAir.stop(),null!=(n=this._audioObjLoopSlide)&&n.isValid&&this._audioObjLoopSlide.stop(),null!=(t=this._audioObjLoopFinalMeterGrow)&&t.isValid&&this._audioObjLoopFinalMeterGrow.stop()},t}(i))||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerCameraPivots.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,a,o,n,l,p,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){n=e.cclegacy,l=e._decorator,p=e.Node,s=e.Camera,c=e.Component}],execute:function(){var u,v,y,m,f,b,_;n._RF.push({},"b8ec5UpzwNLCpUCnwVfEfGe","PlayerCameraPivots",void 0);var h=l.ccclass,C=l.property;e("PlayerCameraPivots",(u=h("PlayerCameraPivots"),v=C({type:p,visible:!0}),y=C({type:p,visible:!0}),u((b=t((f=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_pivotGameOver",b,a(t)),i(t,"_pivotGameplay",_,a(t)),t}return r(t,e),t.prototype.onLoad=function(){var e=this._pivotGameOver.getComponent(s);e&&(e.enabled=!1);var t=this._pivotGameplay.getComponent(s);t&&(t.enabled=!1)},o(t,[{key:"pivotGameOver",get:function(){return this._pivotGameOver}},{key:"pivotGameplay",get:function(){return this._pivotGameplay}}]),t}(c)).prototype,"_pivotGameOver",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(f.prototype,"_pivotGameplay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=f))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerCharacter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./Character.ts","./CharacterEnums.ts","./GameEnums.ts","./LevelEnd.ts","./PlayerEnums.ts"],(function(t){"use strict";var n,e,a,r,o,c,i,s,h,u,l,d;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){a=t.cclegacy,r=t._decorator,o=t.Component},function(t){c=t.logger},function(t){i=t.projectEvent},function(t){s=t.Character},function(t){h=t.CharacterEvent},function(t){u=t.GameEvent},function(t){l=t.LevelEnd},function(t){d=t.PlayerEvent}],execute:function(){var f,m;a._RF.push({},"780226dOlhDIrdAjU8V8UfR","PlayerCharacter",void 0);var y=r.ccclass,C=r.requireComponent;t("PlayerCharacter",y("PlayerCharacter")(f=C(s)(((m=function(t){function a(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(n=t.call.apply(t,[this].concat(a))||this)._character=null,n}n(a,t);var r=a.prototype;return r.onLoad=function(){a._instance?a._instance.node.destroy():(a._instance=this,this._character=this.getComponent(s),this.node.on(h[h.ReachedEnd],this.onReachedEnd,this),this.node.on(h[h.Crashed],this.onCharacterCrashed,this),this.node.on(h[h.StartFinalJump],this.onStartFinalJump,this),this._character.movement.enabled=!1,i.on(u[u.GE_StartGame],this.onGameStart,this))},r.onDestroy=function(){a._instance==this&&(a._instance=null),i.off(u[u.GE_StartGame],this.onGameStart,this)},r.onGameStart=function(){this._character.movement.enabled=!0},r.onCharacterCrashed=function(){i.emit(d[d.PlayerCrashed])},r.onReachedEnd=function(){var t=Math.abs(l.instance.node.worldPosition.z),n=Math.abs(this.node.worldPosition.z)-t;c.log("Distance reached: "+n),i.emit(d[d.PlayerLandedAtEnd],n)},r.onStartFinalJump=function(){i.emit(d[d.PlayerStartFinalJump])},e(a,[{key:"character",get:function(){return this._character}}],[{key:"instance",get:function(){return a._instance}}]),a}(o))._instance=null,f=m))||f)||f);a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerCoinsDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./PlayerPurseController.ts","./PlayerPurseEnums.ts"],(function(e){"use strict";var t,n,i,a,l,r,s,o,u,c,p,d,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,s=e.Label,o=e.tween,u=e.math,c=e.Component},function(e){p=e.projectEvent},function(e){d=e.PlayerPurseController},function(e){y=e.PlayerPurseEvents}],execute:function(){var b,h,f,P,_;l._RF.push({},"6107bBCvtJHpbyrosM9DUC0","PlayerCoinsDisplay",void 0);var v=r.ccclass,C=r.property;e("PlayerCoinsDisplay",(b=v("PlayerCoinsDisplay"),h=C({type:s,visible:!0}),b((_=t((P=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,i(t,"_label",_,a(t)),t.coinsUpdatedCallback=void 0,t._targetValue=0,t._tween=null,t}n(t,e);var l=t.prototype;return l.onEnable=function(){var e=this;this.updateLabel(d.coins,0),this.coinsUpdatedCallback=p.on(y[y.PlayerPurse_CoinsUpdated],(function(t){e.updateLabel(t)}))},l.onDisable=function(){p.off(y[y.PlayerPurse_CoinsUpdated],this.coinsUpdatedCallback),this.coinsUpdatedCallback=null},l.updateLabel=function(e,t){var n=this;void 0===t&&(t=.3),this._tween&&(this._label.string=this._targetValue.toFixed(),this._tween.stop()),this._targetValue=e;var i=Number.parseInt(this._label.string),a=e;this._tween=o(this).to(t,null,{onUpdate:function(e,t){e._label.string=u.lerp(i,a,t).toFixed()},onComplete:function(){n._tween=null}}).start()},t}(c)).prototype,"_label",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=P))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerEnums.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){var r;e("PlayerEvent",void 0),a._RF.push({},"dbd36zFybVHgaRYbZfHu3sx","PlayerEnums",void 0),function(e){e[e.PlayerCrashed=0]="PlayerCrashed",e[e.PlayerStartFinalJump=1]="PlayerStartFinalJump",e[e.PlayerLandedAtEnd=2]="PlayerLandedAtEnd",e[e.PlayerSmooth=3]="PlayerSmooth"}(r||(r=e("PlayerEvent",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerLevelController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./PlayerPurseController.ts","./SaveGame.ts","./SaveGameKeys.ts","./LevelingUpEnums.ts","./PlayerLevelSettings.ts"],(function(e){"use strict";var t,l,n,r,a,o,v,i,u;return{setters:[function(e){t=e.createClass},function(e){l=e.cclegacy},function(e){n=e.logger},function(e){r=e.projectEvent},function(e){a=e.PlayerPurseController},function(e){o=e.saveGame},function(e){v=e.SaveGameKeys},function(e){i=e.LevelingUpEvents},function(e){u=e.levelingSettings}],execute:function(){l._RF.push({},"4f1dbA7zUxOpKg6oCGWEX8B","PlayerLevelController",void 0);e("PlayerLevelController",function(){function e(){}return e.validate=function(){null==e.xp&&(e.xp=0),null==e.level&&o.setData(v[v.Save_PlayerLevel],0)},e.addXp=function(t){if(t>0){o.startTransaction();var l=e.xp+t;n.log("Updating player xp from "+e.xp+" to "+l+".");for(var v=u.getXpRequirementForLevel(e.level+1);l>=v;){var s=u.getCoinsForLevel(e.level);a.addCoins(s),e.level+=1,l-=v,v=u.getXpRequirementForLevel(e.level+1),n.log("Player leveled up. Xp updated to "+l+"."),r.emit(i[i.LevelingUp_PlayerLevelUpCoinRewards],s)}e.xp=l,n.log("Final player xp "+e.xp+"."),o.commitTransaction()}},t(e,null,[{key:"level",get:function(){return o.getData(v[v.Save_PlayerLevel])},set:function(t){n.log("Updating player level from "+e.level+" to "+t+"."),t>e.level&&(o.setData(v[v.Save_PlayerLevel],t),r.emit(i[i.LevelingUp_PlayerLevelUpdated],t))}},{key:"xp",get:function(){return o.getData(v[v.Save_PlayerXP])},set:function(t){o.setData(v[v.Save_PlayerXP],t);var l=u.getXpRequirementForLevel(e.level+1);r.emit(i[i.LevelingUp_PlayerXpUpdated],t,l)}}]),e}());l._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerLevelDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./LevelingUpEnums.ts","./PlayerLevelController.ts"],(function(e){"use strict";var t,l,n,i,r,a,o,s,c,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,o=e.Label,s=e.Component},function(e){c=e.projectEvent},function(e){p=e.LevelingUpEvents},function(e){u=e.PlayerLevelController}],execute:function(){var v,y,f,L,b;r._RF.push({},"81ae3BBkvtAZ4T+cbJ1WRAa","PlayerLevelDisplay",void 0);var d=a.ccclass,h=a.property;e("PlayerLevelDisplay",(v=d("PlayerLevelDisplay"),y=h({type:o,visible:!0}),v((b=t((L=function(e){function t(){for(var t,l=arguments.length,r=new Array(l),a=0;a<l;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"_label",b,i(t)),t}l(t,e);var r=t.prototype;return r.start=function(){this.updateLabel(u.level)},r.onEnable=function(){c.on(p[p.LevelingUp_PlayerLevelUpdated],this.updateLabel,this)},r.onDisable=function(){c.off(p[p.LevelingUp_PlayerLevelUpdated],this.updateLabel,this)},r.updateLabel=function(e){this._label.string=e.toFixed()},t}(s)).prototype,"_label",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=L))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerLevelSettings.ts",["cc","./Logger.ts","./ProjectEvent.ts","./LevelingUpEnums.ts","./PlayerLevelController.ts"],(function(e){"use strict";var t,n,l,i,s,o,r,v,g,a;return{setters:[function(e){t=e.cclegacy,n=e.clamp,l=e.game,i=e.Game,s=e.resources,o=e.JsonAsset},function(e){r=e.logger},function(e){v=e.projectEvent},function(e){g=e.LevelingUpEvents},function(e){a=e.PlayerLevelController}],execute:function(){t._RF.push({},"178c0mSYFNL/ZFnFv4/gBgN","PlayerLevelSettings",void 0);var c=e("PlayerLevelSettings",function(){function e(){var e=this;this.levels=[],l.on(i.EVENT_GAME_INITED,(function(){s.load("Settings/LevelSettings",o,null,e.onLoadComplete.bind(e))}),this)}var t=e.prototype;return t.getXpRequirementForLevel=function(e){var t=this.getLevelData(e);return t?t.Experience:0},t.getCoinsForLevel=function(e){var t=this.getLevelData(e);return t?t.CoinsPrize:0},t.onLoadComplete=function(e,t){this.levels=t.json.LevelSettings,r.log("Finished loading Player Level Settings. "+this.levels.length+" settings loaded."),a.validate(),v.emit(g[g.LevelingUp_LevelingSettingsLoaded])},t.getLevelData=function(e){var t=n(e,0,this.levels.length-1);return this.levels[t]},e}());e("levelingSettings",new c);t._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerLevelSFX.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./ProjectEvent.ts","./LevelingUpEnums.ts"],(function(e){"use strict";var t,n,a,i,r,l,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e._decorator,i=e.Component},function(e){r=e.AudioManager},function(e){l=e.projectEvent},function(e){o=e.LevelingUpEvents}],execute:function(){var s;n._RF.push({},"a2ab5ATdt5HP4FarDLY133k","PlayerLevelSFX",void 0);var p=a.ccclass;a.property,e("PlayerLevelSFX",p("PlayerLevelSFX")(s=function(e){function n(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this)._keyReceiveXP="sfx_ui_xp_growing",t._keyLevelUp="sfx_ui_char_level_up",t._alreadyPlayed=!1,t}t(n,e);var a=n.prototype;return a.start=function(){this._alreadyPlayed=!1},a.onEnable=function(){l.on(o[o.LevelingUp_UI_XpUpdateStart],this.onXpUpdateStart,this),l.on(o[o.LevelingUp_UI_LevelUpdate],this.onPlayerLevelUp,this)},a.onDisable=function(){l.off(o[o.LevelingUp_UI_XpUpdateStart],this.onXpUpdateStart,this),l.off(o[o.LevelingUp_UI_LevelUpdate],this.onPlayerLevelUp,this)},a.onXpUpdateStart=function(){this._alreadyPlayed||(this._alreadyPlayed=!0,r.instance.playByKey(this._keyReceiveXP))},a.onPlayerLevelUp=function(){r.instance.playByKey(this._keyLevelUp)},n}(i))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerPlacer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./GameEnums.ts"],(function(e){"use strict";var t,a,r,n,i,o,l,c,s,u,h,p,y,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.createClass},function(e){o=e.cclegacy,l=e._decorator,c=e.Prefab,s=e.instantiate,u=e.director,h=e.Component},function(e){p=e.logger},function(e){y=e.projectEvent},function(e){d=e.GameEvent}],execute:function(){var f,_,P,g,v,b;o._RF.push({},"134d2SXIXlCIKY8SpE6eQ+f","PlayerPlacer",void 0);var E=l.ccclass,C=l.property;e("PlayerPlacer",(f=E("PlayerPlacer"),_=C({type:c,visible:!0}),f(((b=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"_playerPrefab",v,n(t)),t._playerNode=null,t}a(t,e);var o=t.prototype;return o.onLoad=function(){t._instance?this.node.destroy():t._instance=this},o.onEnable=function(){y.on(d[d.GE_LoadLevel],this.loadCharacter,this),y.on(d[d.GE_StartGame],this.placeCharacter,this)},o.onDisable=function(){y.off(d[d.GE_LoadLevel],this.loadCharacter,this),y.off(d[d.GE_StartGame],this.placeCharacter,this)},o.onDestroy=function(){t._instance==this&&(t._instance=null)},o.loadCharacter=function(){p.log("[PlayerPlacer] Loading character"),this._playerNode=s(this._playerPrefab),this._playerNode.worldPosition=this.node.worldPosition,this._playerNode.setParent(u.getScene()),y.emit(d[d.GE_PlayerLoaded],this._playerNode)},o.placeCharacter=function(){p.log("[PlayerPlacer] Placing character"),null==this._playerNode&&this.loadCharacter(),this._playerNode.active=!0},i(t,null,[{key:"instance",get:function(){return t._instance}}]),t}(h))._instance=null,v=t((g=b).prototype,"_playerPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=g))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerPurseController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./SaveGame.ts","./SaveGameKeys.ts","./PlayerPurseEnums.ts"],(function(e){"use strict";var n,t,r,s,o,u;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy},function(e){r=e.projectEvent},function(e){s=e.saveGame},function(e){o=e.SaveGameKeys},function(e){u=e.PlayerPurseEvents}],execute:function(){t._RF.push({},"9de18u1d6tPlLIjKiaBViP6","PlayerPurseController",void 0);e("PlayerPurseController",function(){function e(){}return e.addCoins=function(e){this.coins+=e},e.removeCoins=function(e){this.addCoins(-e)},e.canAfford=function(e){return this.coins>=e},n(e,null,[{key:"coins",get:function(){var e=s.getData(o[o.Save_PlayerCurrency]);return null==e?(this.coins=0,0):e},set:function(e){s.setData(o[o.Save_PlayerCurrency],e),r.emit(u[u.PlayerPurse_CoinsUpdated],e)}}]),e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerPurseEnums.ts",["cc"],(function(e){"use strict";var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){var s;e("PlayerPurseEvents",void 0),r._RF.push({},"c3e97dRwwpKuK5KxNb1z/4l","PlayerPurseEnums",void 0),function(e){e[e.PlayerPurse_CoinsUpdated=0]="PlayerPurse_CoinsUpdated"}(s||(s=e("PlayerPurseEvents",{}))),r._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerSmoothSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./CharacterEnums.ts","./SplineCharacterMovement.ts","./GameEnums.ts","./PlayerEnums.ts"],(function(t){"use strict";var n,e,o,i,r,s,a,c,u,h,l,m,d;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Vec3,c=t.Component},function(t){u=t.projectEvent},function(t){h=t.CharacterEvent},function(t){l=t.SplineCharacterMovement},function(t){m=t.GameEvent},function(t){d=t.PlayerEvent}],execute:function(){var f,p,y,v,S,_;r._RF.push({},"c3826EUBfJH8bUlN6c3s2yC","PlayerSmoothSystem",void 0);var L=s.ccclass,P=s.property,C=s.requireComponent;t("PlayerSmoothSystem",(f=L("PlayerSmoothSystem"),p=C(l),y=P({visible:!0}),f(v=p((_=n((S=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r))||this,o(n,"_coinsPrizeTimesSmoothCount",_,i(n)),n._count=1,n._isSmoothLanding=!1,n}e(n,t);var r=n.prototype;return r.onEnable=function(){this.node.on(h[h.Landed],this.onLand,this),this.node.on(h[h.LeaveGround],this.onLeaveGround,this)},r.onDisable=function(){this.node.off(h[h.Landed],this.onLand,this),this.node.off(h[h.LeaveGround],this.onLeaveGround,this)},r.onLand=function(t){a.dot(t.tangent,a.UP)<0?this._isSmoothLanding=!0:this._count=1},r.onLeaveGround=function(t,n){var e=this,o=a.dot(n,a.UP);this._isSmoothLanding&&o>0&&this.scheduleOnce((function(){u.emit(d[d.PlayerSmooth],e._count),u.emit(m[m.GE_PlayerCollectedCoin],e._coinsPrizeTimesSmoothCount*e._count),e._count++}),.1),this._isSmoothLanding=!1},n}(c)).prototype,"_coinsPrizeTimesSmoothCount",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),v=S))||v)||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerSpeedFeedback.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./SplineCharacterMovement.ts","./GameEnums.ts","./SpeedUpgrades.ts","./PlayerStuntSystem.ts"],(function(e){"use strict";var t,i,n,r,a,s,l,o,c,u,p,h,m,y,g,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,l=e.ParticleSystem,o=e.Component},function(e){c=e.logger,u=e.LogCategory,p=e.LogType},function(e){h=e.projectEvent},function(e){m=e.SplineCharacterMovement},function(e){y=e.GameEvent},function(e){g=e.speedUpgrade},function(e){_=e.PlayerStuntSystem}],execute:function(){var f,v,P,d,S,b,G;a._RF.push({},"804ceb1gVhNvoAwnZGDvyqC","PlayerSpeedFeedback",void 0);var E=s.ccclass,C=s.property;e("PlayerSpeedFeedback",(f=E("PlayerSpeedFeedback"),v=C({visible:!0,type:l}),P=C({visible:!0}),f((b=t((S=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(t,"_particle",b,r(t)),n(t,"_changeDelay",G,r(t)),t._stuntSystem=null,t._characterMovement=null,t._timer=-1,t._particles=[],t._isPlayingParticles=!1,t}i(t,e);var a=t.prototype;return a.start=function(){this._stuntSystem=this.getComponent(_),this._characterMovement=this.getComponent(m),c.log(t.name+" start"),this._particles=this._particle.getComponentsInChildren(l)},a.onEnable=function(){h.on(y[y.GE_GameOver],this.onGameOver,this)},a.onDisable=function(){h.off(y[y.GE_GameOver],this.onGameOver,this)},a.onGameOver=function(){var e;null==(e=this._particle)||e.stop()},a.update=function(e){if(null!=this._stuntSystem&&null!=this._characterMovement&&null!=this._particle&&0!=this._particles.length)if(this._timer>0)this._timer-=e;else{var i=this._characterMovement.velocity.length()/g.current.Max>this._stuntSystem.minVelocityPercentage;i&&0==this._isPlayingParticles?(c.log(t.name+" isFast: "+i),this._particles.forEach((function(e){e.play()})),this._timer=this._changeDelay,this._isPlayingParticles=!0):i||1!=this._isPlayingParticles||(c.log(t.name+" isFast: "+i),this._particles.forEach((function(e){e.pause()})),this._isPlayingParticles=!1)}else c.log(t.name+" something is wrong.",u.Gameplay,p.Error)},t}(o)).prototype,"_particle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(S.prototype,"_changeDelay",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),d=S))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerStuntSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./PrefabPool.ts","./ProjectEvent.ts","./CharacterEnums.ts","./CustomizationBundleLoader.ts","./CustomizationController.ts","./CustomizationEnums.ts","./GameEnums.ts","./StuntTrigger.ts","./SaveGame.ts","./SaveGameKeys.ts","./SpeedUpgrades.ts"],(function(e){"use strict";var t,n,i,r,o,a,s,l,u,c,g,m,f,h,_,y,p,d,b,P,v,S,G,C,E,z,T,V;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,s=e._decorator,l=e.Prefab,u=e.animation,c=e.Vec3,g=e.director,m=e.math,f=e.toDegree,h=e.Component},function(e){_=e.logger,y=e.LogCategory,p=e.LogType},function(e){d=e.PrefabPool},function(e){b=e.projectEvent},function(e){P=e.CharacterEvent},function(e){v=e.cosmeticDatabase},function(e){S=e.customizationController},function(e){G=e.CosmeticCategory},function(e){C=e.GameEvent},function(e){E=e.StuntTrigger},function(e){z=e.saveGame},function(e){T=e.SaveGameKeys},function(e){V=e.speedUpgrade}],execute:function(){var w,I,L,A,k,O,D,R,U,Y,q,j,B,F,K,M,N,x,H;a._RF.push({},"f6d5dYZBKtCJYgHvEdMbPcu","PlayerStuntSystem",void 0);var W=s.ccclass,J=s.property;e("PlayerStuntSystem",(w=W("PlayerStuntSystem"),I=J({range:[0,1,.05],slide:!0,visible:!0}),L=J({visible:!0,range:[0,1,.01],slide:!0}),A=J({visible:!0,unit:"degree"}),k=J({visible:!0}),O=J({type:l,visible:!0}),D=J({type:u.AnimationController,visible:!0}),R=J({visible:!0}),U=J({visible:!0}),w((j=t((q=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_chance",j,r(t)),i(t,"_minVelocityPercentage",B,r(t)),i(t,"_minAngle",F,r(t)),i(t,"_triggerOffsetY",K,r(t)),i(t,"_prefabStuntTrigger",M,r(t)),i(t,"_animator",N,r(t)),i(t,"_coinsPrize",x,r(t)),i(t,"_debug",H,r(t)),t._keyStuntId="stuntId",t._keyStuntPlay="stuntPlay",t._stuntTriggerPos=new c,t._scene=null,t}n(t,e);var a=t.prototype;return a.onLoad=function(){this._scene=g.getScene(),null==this._animator&&(this._animator=this.getComponentInChildren(u.AnimationController)),null!=this._animator&&0!=this._animator.isValid?d.instance.initialize(this._prefabStuntTrigger):_.log(t.name+" - No animation controller configured.",y.Gameplay,p.Error)},a.onEnable=function(){this.node.on(P[P.LeaveGround],this.onLeaveGround,this),b.on(C[C.GE_PlayerPerformStunt],this.onRequestPerformStunt,this),b.on(C[C.GE_GameOver],this.onGameOver,this)},a.onDisable=function(){this.node.off(P[P.LeaveGround],this.onLeaveGround,this),b.off(C[C.GE_PlayerPerformStunt],this.onRequestPerformStunt,this),b.off(C[C.GE_GameOver],this.onGameOver,this)},a.onLeaveGround=function(e,n){if(m.random()>this._chance)this._debug&&_.log(t.name+" Ignoring stunt oportunity, reason: chance",y.Gameplay);else if(n.length()/V.current.Max<this._minVelocityPercentage)this._debug&&_.log(t.name+" Ignoring stunt oportunity, reason: slow velocity",y.Gameplay);else if(c.dot(n,c.UP)<0)this._debug&&_.log(t.name+" Ignoring stunt oportunity, reason: not going up",y.Gameplay);else{var i=f(c.angle(c.FORWARD,n));if(this._debug&&_.log(t.name+" - angle:"+i+">"+this._minAngle+"?:"+(i>this._minAngle),y.Gameplay),i<this._minAngle)this._debug&&_.log(t.name+" Ignoring stunt oportunity, reason: not min angle",y.Gameplay);else{this._stuntTriggerPos.set(this.node.worldPosition),this._stuntTriggerPos.add(n),this._stuntTriggerPos.y+=this._triggerOffsetY;var r=d.instance.getInScene(this._prefabStuntTrigger),o=r.getComponent(E);null==o||o.setUnused(),r.setParent(this._scene),r.setWorldPosition(this._stuntTriggerPos)}}},a.onRequestPerformStunt=function(){if(null!=this._animator&&0!=this._animator.isValid){var e=z.getData(T[T.Save_EquippedItems]).stunt;e==v.cosmetics.get(G.Stunt).length-1&&(e=S.getRandomUnlockedStunt()),b.emit(C[C.GE_PlayerCollectedCoin],this._coinsPrize),null!=e?(_.log(t.name+" Selected stunt "+e+" playing it",y.Gameplay),this._debug&&_.log(t.name+" AG: "+this._animator,y.Gameplay),this._animator.setValue(this._keyStuntId,e),this._animator.setValue(this._keyStuntPlay,!0)):_.log(t.name+" Selected stunt "+e+" is undefined",y.Gameplay,p.Error)}else _.log(t.name+" - No animation controller configured.",y.Gameplay,p.Error)},a.onGameOver=function(){null!=this._animator&&0!=this._animator.isValid?(this._animator.setValue(this._keyStuntId,0),this._animator.setValue(this._keyStuntPlay,!0)):_.log(t.name+" - No animation controller configured.",y.Gameplay,p.Error)},o(t,[{key:"minVelocityPercentage",get:function(){return this._minVelocityPercentage}}]),t}(h)).prototype,"_chance",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),B=t(q.prototype,"_minVelocityPercentage",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.9}}),F=t(q.prototype,"_minAngle",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),K=t(q.prototype,"_triggerOffsetY",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1.2}}),M=t(q.prototype,"_prefabStuntTrigger",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(q.prototype,"_animator",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(q.prototype,"_coinsPrize",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),H=t(q.prototype,"_debug",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=q))||Y));a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerXpDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./LevelingUpEnums.ts","./PlayerLevelController.ts","./PlayerLevelSettings.ts"],(function(e){"use strict";var t,l,i,n,r,a,o,p,s,u,c,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,o=e.Label,p=e.Sprite,s=e.Component},function(e){u=e.projectEvent},function(e){c=e.LevelingUpEvents},function(e){f=e.PlayerLevelController},function(e){y=e.levelingSettings}],execute:function(){var v,b,d,g,L,h,P;r._RF.push({},"f33f2pN0eBOx5QZe9NdXyzc","PlayerXpDisplay",void 0);var _=a.ccclass,D=a.property;e("PlayerXpDisplay",(v=_("PlayerXpDisplay"),b=D({type:o,visible:!0}),d=D({type:p,visible:!0}),v((h=t((L=function(e){function t(){for(var t,l=arguments.length,r=new Array(l),a=0;a<l;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"_label",h,n(t)),i(t,"_fill",P,n(t)),t}l(t,e);var r=t.prototype;return r.onEnable=function(){this.updateLabel(f.xp,y.getXpRequirementForLevel(f.level+1)),u.on(c[c.LevelingUp_PlayerXpUpdated],this.updateLabel,this)},r.onDisable=function(){u.off(c[c.LevelingUp_PlayerXpUpdated],this.updateLabel,this)},r.updateLabel=function(e,t){this._label.string=e.toFixed()+" / "+t.toFixed(),this._fill.fillRange=e/t},t}(s)).prototype,"_label",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(L.prototype,"_fill",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=L))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/pool.ts",["cc"],(function(t){"use strict";var e,o,c,n,u,r;return{setters:[function(t){e=t.Vec2,o=t.Vec3,c=t.Vec4,n=t.Quat,u=t.Mat4,r=t.cclegacy}],execute:function(){r._RF.push({},"909c3539B9HBIjKNpHsQPLH","pool",void 0);var i=t("Pool",function(){function t(t){this._pool=[],this._ctor=null,this._ctor=t}var e=t.prototype;return e.get=function(){var t=this._pool.pop();return t||(t=new this._ctor),t},e.put=function(t){this._pool.push(t)},t}());t("default",{Vec2:new i(e),Vec3:new i(o),Vec4:new i(c),Quat:new i(n),Mat4:new i(u)});r._RF.pop()}}}));

System.register("chunks:///_virtual/PrefabPool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,o,i,s,a,r,l,c,u;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose,o=t.createClass},function(t){i=t.cclegacy,s=t._decorator,a=t.director,r=t.NodePool,l=t.instantiate,c=t.Node,u=t.Component}],execute:function(){var h,f;i._RF.push({},"b7fd3GtjZNCgZZkkorYWOYh","PrefabPool",void 0);var p=s.ccclass,v=(s.property,s.executionOrder);t("PrefabPool",p("PrefabPool")(h=v(-5)(((f=function(t){function i(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).pools=new Map,e.scene=void 0,e}e(i,t);var s=i.prototype;return s.onLoad=function(){null==i._instance&&(i._instance=this),this.scene=a.getScene()},s.onDestroy=function(){this.unscheduleAllCallbacks(),this.clearAll(),i._instance==this&&(i._instance=null)},s.initializeWithCallbacks=function(t,e,n){void 0===n&&(n=3),this.initialize(t,e,n)},s.initialize=function(t,e,n){if(void 0===n&&(n=3),0==this.pools.has(t)){for(var o=new r,i=0;i<n;i++){var s=l(t);o.put(s)}this.pools.set(t,o)}},s.getInScene=function(t){var e=this.get(t);return e.setParent(this.scene),e},s.get=function(t){var e;0==this.pools.has(t)&&this.initialize(t);var n=null==(e=this.pools.get(t))?void 0:e.get();return null==n&&(n=l(t)),n},s.putByName=function(t,e){for(var o,i=n(this.pools);!(o=i()).done;){var s=o.value,a=s[0];s[1];if(a.data.name==t){this.put(a,e);break}}},s.put=function(t,e){var n;this.pools.has(t)&&(null==(n=this.pools.get(t))||n.put(e))},s.schedulePut=function(t,e,n){var o=this;this.scheduleOnce((function(){o.put(t,e)}),n)},s.clear=function(t){var e;this.pools.has(t)&&(null==(e=this.pools.get(t))||e.clear())},s.clearAll=function(){this.pools.forEach((function(t){t.clear()}))},s.has=function(t){return this.pools.has(t)},o(i,null,[{key:"instance",get:function(){if(null==i._instance){var t=new c(i.name);t.setParent(a.getScene()),this._instance=t.addComponent(i)}return i._instance}}]),i}(u))._instance=void 0,h=f))||h)||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/ProjectEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.EventTarget}],execute:function(){n._RF.push({},"973baCDLAVIVo6OxiqmUpR2","ProjectEvent",void 0);t("projectEvent",new(function(t){function n(){return t.call(this)||this}return e(n,t),n}(r)));n._RF.pop()}}}));

System.register("chunks:///_virtual/ProjectVersion.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"25c53ASs4dAIK7lEIkzgNtl","ProjectVersion",void 0);var r=t("ProjectVersion",function(){function t(){this.major=1,this.minor=2,this.patch=2,this.build=0}return t.prototype.getString=function(){return"v"+this.major+"."+this.minor+"."+this.patch+"."+this.build},t}());t("projectVersion",new r);i._RF.pop()}}}));

System.register("chunks:///_virtual/PropsSower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.ts","./pool.ts","./spline-util-renderer.ts"],(function(t){"use strict";var e,n,i,a,r,o,s,p,l,c,u,g,y,h,f,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,s=t._decorator,p=t.Quat,l=t.Prefab,c=t.Vec3,u=t.instantiate,g=t.random,y=t.randomRangeInt},function(t){h=t.default},function(t){f=t.default},function(t){b=t.default}],execute:function(){var m,R,d,_,v,w,O,S,P,z,x,D,M,k,j,C,E,I,T,V,A,F,H,L,Q,U,q,B,G,K,X,J,N;o._RF.push({},"2e277X10MFKhaMm7u6eqC9a","PropsSower",void 0);var W=s.ccclass,Y=s.executeInEditMode,Z=s.property,$=new p;t("default",(m=W("PropsSower"),R=Z({visible:!1}),d=Z({visible:!1}),_=Z({visible:!1}),v=Z({visible:!1}),w=Z({visible:!1}),O=Z({visible:!1}),S=Z({visible:!1}),P=Z({visible:!1}),z=Z({visible:!1}),x=Z({type:l,visible:!1}),D=Z({visible:!0,group:{id:"spacing",name:"Spacing"}}),M=Z({visible:!0,group:{id:"spacing",name:"Spacing"}}),k=Z({visible:!0,group:{id:"scale",name:"Scale"}}),j=Z({visible:!0,group:{id:"scale",name:"Scale"}}),C=Z({type:c,visible:!0,group:{id:"rotation",name:"Rotation"}}),E=Z({type:c,visible:!0,group:{id:"rotation",name:"Rotation"}}),I=Z({visible:!0,group:{id:"rotation",name:"Rotation"}}),T=Z({type:c,visible:!0,group:{id:"translation",name:"Translation"}}),V=Z({type:c,visible:!0,group:{id:"translation",name:"Translation"}}),A=Z({type:l,visible:!0,group:{id:"prefabs",name:"Prefabs"}}),m(F=Y((L=e((H=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"_spacing",L,a(e)),i(e,"_spacingRange",Q,a(e)),i(e,"_scale",U,a(e)),i(e,"_scaleRange",q,a(e)),i(e,"_minRotation",B,a(e)),i(e,"_maxRotation",G,a(e)),i(e,"_ignoreSampleRotation",K,a(e)),i(e,"_translation",X,a(e)),i(e,"_translationRange",J,a(e)),i(e,"_prefabs",N,a(e)),e.onComputedEvent=new h,e}n(e,t);var o=e.prototype;return o.compute=function(){var t=this.generated.children;if(!(this.spacing+this.spacingRange<=0||0==this.prefabs.length)){for(var e=0,n=this.splineCurve,i=0;e<=n.length;){var a=this.translation.x+Math.random()*this.translationRange.x*Math.sign(this.translation.x)+e;a=Math.min(a,n.length);var r=n.getSampleAtDistance(a),o=t[i];o||((o=u(this.getRandomPrefab())).parent=this.generated);var s=this.scale+Math.random()*this.scaleRange;s*=Math.min(r.scale.x,r.scale.y),o.setScale(s,s,s);var l=new c;c.lerp(l,this._minRotation,this._maxRotation,g()),p.fromEuler($,l.x,l.y,l.z),this._ignoreSampleRotation||p.multiply($,r.rotation,$),o.setRotation($);var y=f.Vec3.get();y=c.transformQuat(y,c.RIGHT,p.fromViewUp($,r.tangent,r.up)).normalize();var h=this.translation.z+Math.random()*this.translationRange.z*Math.sign(this.translation.z);h*=r.scale.x,y.multiplyScalar(h);var b=f.Vec3.get();b.set(r.transformedUp).normalize();var m=this.translation.y+Math.random()*this.translationRange.y*Math.sign(this.translation.y);m*=r.scale.y,b.multiplyScalar(m),o.position=y.add(b).add(r.location),e+=this.spacing+Math.random()*this.spacingRange,i++}if(t.length>i)for(var R=t.length-1;R>=i;R--)t[R].parent=null;this.onComputedEvent.invoke()}},o.getRandomPrefab=function(){return this.prefabs[y(0,this.prefabs.length)]},r(e,[{key:"spacing",get:function(){return this._spacing},set:function(t){this._spacing=t,this.dirty=!0}},{key:"spacingRange",get:function(){return this._spacingRange},set:function(t){this._spacingRange=t,this.dirty=!0}},{key:"scale",get:function(){return this._scale},set:function(t){this._scale=t,this.dirty=!0}},{key:"scaleRange",get:function(){return this._scaleRange},set:function(t){this._scaleRange=t,this.dirty=!0}},{key:"minRotation",get:function(){return this._minRotation},set:function(t){this._minRotation.set(t),this.dirty=!0}},{key:"maxRotation",get:function(){return this._maxRotation},set:function(t){this._maxRotation.set(t),this.dirty=!0}},{key:"ignoreSampleRotation",get:function(){return this._ignoreSampleRotation},set:function(t){this._ignoreSampleRotation=t,this.dirty=!0}},{key:"translation",get:function(){return this._translation},set:function(t){this._translation.set(t),this.dirty=!0}},{key:"translationRange",get:function(){return this._translationRange},set:function(t){this._translationRange.set(t),this.dirty=!0}},{key:"prefabs",get:function(){return this._prefabs},set:function(t){this._prefabs=t,this.generated.removeAllChildren(),this.dirty=!0}}]),e}(b)).prototype,"_spacing",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),Q=e(H.prototype,"_spacingRange",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=e(H.prototype,"_scale",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),q=e(H.prototype,"_scaleRange",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=e(H.prototype,"_minRotation",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),G=e(H.prototype,"_maxRotation",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),K=e(H.prototype,"_ignoreSampleRotation",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=e(H.prototype,"_translation",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),J=e(H.prototype,"_translationRange",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),N=e(H.prototype,"_prefabs",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),e(H.prototype,"spacing",[D],Object.getOwnPropertyDescriptor(H.prototype,"spacing"),H.prototype),e(H.prototype,"spacingRange",[M],Object.getOwnPropertyDescriptor(H.prototype,"spacingRange"),H.prototype),e(H.prototype,"scale",[k],Object.getOwnPropertyDescriptor(H.prototype,"scale"),H.prototype),e(H.prototype,"scaleRange",[j],Object.getOwnPropertyDescriptor(H.prototype,"scaleRange"),H.prototype),e(H.prototype,"minRotation",[C],Object.getOwnPropertyDescriptor(H.prototype,"minRotation"),H.prototype),e(H.prototype,"maxRotation",[E],Object.getOwnPropertyDescriptor(H.prototype,"maxRotation"),H.prototype),e(H.prototype,"ignoreSampleRotation",[I],Object.getOwnPropertyDescriptor(H.prototype,"ignoreSampleRotation"),H.prototype),e(H.prototype,"translation",[T],Object.getOwnPropertyDescriptor(H.prototype,"translation"),H.prototype),e(H.prototype,"translationRange",[V],Object.getOwnPropertyDescriptor(H.prototype,"translationRange"),H.prototype),e(H.prototype,"prefabs",[A],Object.getOwnPropertyDescriptor(H.prototype,"prefabs"),H.prototype),F=H))||F)||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/PunchPositionTween.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PunchTweenBase.ts"],(function(e){"use strict";var t,n,i,s,o,c,r;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){i=e.cclegacy,s=e._decorator,o=e.Vec3,c=e.tween},function(e){r=e.PunchTweenBase}],execute:function(){var u;i._RF.push({},"c3d3d1BwjRM46w7Jwj5DBqA","PunchPositionTween",void 0);var a=s.ccclass;e("PunchPositionTween",a("PunchPositionTween")(u=function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i.prototype.playSegment=function(e){var t=this.delay;e>0&&(t=0);var n=new o;o.add(n,this.startingValue,this.getSegmentValue(e)),this.tweenCache=c(this.getTarget()).delay(t).to(this.getSegmentDuration(e),{position:n},this.getTweenOptions(e)).repeat(1),this.tweenCache.start()},n(i,[{key:"currentValue",get:function(){return new o(this.getTarget().position)},set:function(e){this.getTarget().position=e}}]),i}(r))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/PunchRotationTween.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PunchTweenBase.ts"],(function(t){"use strict";var e,n,i,r,a,o,s;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,r=t._decorator,a=t.Quat,o=t.tween},function(t){s=t.PunchTweenBase}],execute:function(){var u;i._RF.push({},"9e8723yU89EV46tgMTi8wWs","PunchRotationTween",void 0);var c=r.ccclass;t("PunchRotationTween",c("PunchRotationTween")(u=function(t){function i(){return t.apply(this,arguments)||this}return e(i,t),i.prototype.playSegment=function(t){var e=this.delay;t>0&&(e=0);var n=this.getSegmentValue(t),i=new a;a.fromEuler(i,n.x,n.y,n.z);var r=new a;a.multiply(r,this.startingValue,i),this.tweenCache=o(this.getTarget()).delay(e).to(this.getSegmentDuration(t),{rotation:r},this.getTweenOptions(t)).repeat(1),this.tweenCache.start()},n(i,[{key:"currentValue",get:function(){return new a(this.getTarget().rotation)},set:function(t){this.getTarget().rotation=t}}]),i}(s))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/PunchScaleTween.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PunchTweenBase.ts"],(function(e){"use strict";var t,n,c,a,s,r,i;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){c=e.cclegacy,a=e._decorator,s=e.Vec3,r=e.tween},function(e){i=e.PunchTweenBase}],execute:function(){var u;c._RF.push({},"b8f08y0xb5CoqUTV49W2AU6","PunchScaleTween",void 0);var l=a.ccclass;e("PunchScaleTween",l("PunchScaleTween")(u=function(e){function c(){return e.apply(this,arguments)||this}return t(c,e),c.prototype.playSegment=function(e){var t=this.delay;e>0&&(t=0);var n=new s;s.add(n,this.getSegmentValue(e),s.ONE);var c=new s;s.multiply(c,n,new s(this.startingValue)),this.tweenCache=r(this.getTarget()).delay(t).to(this.getSegmentDuration(e),{scale:c},this.getTweenOptions(e)).repeat(1),this.tweenCache.start()},n(c,[{key:"currentValue",get:function(){return new s(this.getTarget().scale)},set:function(e){this.getTarget().scale=e}}]),c}(i))||u);c._RF.pop()}}}));

System.register("chunks:///_virtual/PunchTweenBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts"],(function(t){"use strict";var e,n,i,r,a,o,u,s,l,c,h,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,u=t._decorator,s=t.Node,l=t.Vec3,c=t.EventHandler,h=t.Component},function(t){g=t.logger}],execute:function(){var p,f,m,y,b,d,v,w,V,S,z,C,D,_,T,M,P,B;o._RF.push({},"1a181DRx0VC2LpN/KLYDv9u","PunchTweenBase",void 0);var L=u.ccclass,x=u.property;t("PunchTweenBase",(p=L("PunchTweenBase"),f=x(s),m=x(l),y=x({min:0,unit:"sec"}),b=x({min:0,unit:"sec"}),d=x({min:0,max:1}),v=x({type:[c],displayOrder:20}),w=x({type:[c],displayOrder:20}),p((z=e((S=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"target",z,r(e)),i(e,"to",C,r(e)),i(e,"delay",D,r(e)),i(e,"duration",_,r(e)),i(e,"vibrato",T,r(e)),i(e,"elasticity",M,r(e)),i(e,"onStart",P,r(e)),i(e,"onComplete",B,r(e)),e.tweenCache=void 0,e._startingValue=void 0,e.segmentValues=void 0,e.segmentDurations=void 0,e}n(e,t);var o=e.prototype;return o.getTarget=function(){return this.target?this.target:this.node},o.play=function(){this.tweenCache&&this.stop(),this._startingValue=this.currentValue,this.setup(),this.playSegment(0)},o.stop=function(){this.tweenCache.stop(),this.tweenCache=null,this.currentValue=this._startingValue},o.playSegment=function(t){},o.getSegmentValue=function(t){return this.segmentValues[t]},o.getSegmentDuration=function(t){return this.segmentDurations[t]},o.getTweenOptions=function(t){var e=this,n={};return n.onStart=function(t){c.emitEvents(e.onStart,t)}.bind(this),t<this.segmentValues.length-1?n.onComplete=function(){e.playSegment(t+1)}.bind(this):n.onComplete=function(t){c.emitEvents(e.onComplete,t)}.bind(this),n},o.setup=function(){var t=this.to.length(),e=Math.max(Math.floor(this.vibrato*this.duration),2),n=t/e;this.segmentDurations=new Array(e);for(var i=0,r=0;r<e;r++){var a=(r+1)/e,o=this.duration*a;i+=o,this.segmentDurations[r]=o}for(var u=this.duration/i,s=0;s<e;s++)this.segmentDurations[s]*=u;var c=new l;l.normalize(c,this.to),this.segmentValues=new Array(e);for(var h=0;h<e;h++)h<e-1?(this.segmentValues[h]=0===h?this.to:h%2!=0?this.clampVec3Magnitude(this.to,t*this.elasticity).multiplyScalar(-1):this.clampVec3Magnitude(this.to,t),t-=n):this.segmentValues[h]=l.ZERO},o.clampVec3Magnitude=function(t,e){if(t.length()<=e)return new l(t);var n=new l;return l.normalize(n,t),n.multiplyScalar(e)},o.printSequence=function(t,e){for(var n="",i=0;i<t.length;i++)n+="["+t[i]+"]",i<t.length-1&&(n+=", ");for(var r="",a=0;a<e.length;a++)r+=""+e[a],a<e.length-1&&(r+=", ");g.log("Values: "+n+" Durations: "+r)},a(e,[{key:"startingValue",get:function(){return this._startingValue}},{key:"currentValue",get:function(){return null},set:function(t){}}]),e}(h)).prototype,"target",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(S.prototype,"to",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(1,1,1)}}),D=e(S.prototype,"delay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=e(S.prototype,"duration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=e(S.prototype,"vibrato",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),M=e(S.prototype,"elasticity",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),P=e(S.prototype,"onStart",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(S.prototype,"onComplete",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=S))||V));o._RF.pop()}}}));

System.register("chunks:///_virtual/raycast.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,o,t,n,a,i,d,s;return{setters:[function(e){r=e.createForOfIteratorHelperLoose},function(e){o=e.Layers,t=e.renderer,n=e.Mat4,a=e.Vec3,i=e.cclegacy,d=e.geometry,s=e.gfx}],execute:function(){i._RF.push({},"7881fXu+n9JkY6UxvBywBBF","raycast",void 0);var l=d.intersect,u=d.Ray,c=d.Triangle,f=[],v=new n,m=new u,M=c.create(),g=new a,y=1/0,p=function(e,r,o,t,n){if(void 0===n&&(n=1/0),y=n,o===s.PrimitiveMode.TRIANGLE_LIST)for(var i=r.length,d=0;d<i;d+=3){var u=3*r[d],c=3*r[d+1],f=3*r[d+2];a.set(M.a,e[u],e[u+1],e[u+2]),a.set(M.b,e[c],e[c+1],e[c+2]),a.set(M.c,e[f],e[f+1],e[f+2]);var v=l.rayTriangle(m,M,t);v<=0||v>=y||(y=v)}else if(o===s.PrimitiveMode.TRIANGLE_STRIP)for(var g=r.length-2,p=0,h=0;h<g;h+=1){var b=3*r[h-p],T=3*r[h+p+1],A=3*r[h+2];a.set(M.a,e[b],e[b+1],e[b+2]),a.set(M.b,e[T],e[T+1],e[T+2]),a.set(M.c,e[A],e[A+1],e[A+2]),p=~p;var B=l.rayTriangle(m,M,t);B<=0||B>=y||(y=B)}else if(o===s.PrimitiveMode.TRIANGLE_FAN){var w=r.length-1,I=3*r[0];a.set(M.a,e[I],e[I+1],e[I+2]);for(var L=1;L<w;L+=1){var E=3*r[L],F=3*r[L+1];a.set(M.b,e[E],e[E+1],e[E+2]),a.set(M.c,e[F],e[F+1],e[F+2]);var S=l.rayTriangle(m,M,t);S<=0||S>=y||(y=S)}}};e("default",{raycastAllModels:function(e,i,d,s){void 0===d&&(d=o.Enum.DEFAULT),void 0===s&&(s=1/0),f.length=0;for(var u,c=r(e.models);!(u=c()).done;){var M=u.value,h=M.transform;if(h&&M.enabled&&M.node.layer&d&&M.worldBounds){var b=l.rayAABB(i,M.worldBounds);if(!(b<=0||b>=s)){if(M.type===t.scene.ModelType.DEFAULT){n.invert(v,h.getWorldMatrix(v)),a.transformMat4(m.o,i.o,v),a.normalize(m.d,a.transformMat4Normal(m.d,i.d,v)),b=1/0;for(var T=0;T<M.subModels.length;++T){var A=M.subModels[T].subMesh;if(A&&A.geometricInfo){var B=A.geometricInfo,w=B.positions,I=B.indices,L=B.doubleSided;p(w,I,A.primitiveMode,L,s),b=Math.min(b,y*a.multiply(g,m.d,h.worldScale).length())}}}b<s&&f.push({node:M.node,distance:b})}}}return f.sort((function(e,r){return e.distance-r.distance})),f},raycastModels:function(e,i,d,s){void 0===d&&(d=o.Enum.DEFAULT),void 0===s&&(s=1/0),f.length=0;for(var u,c=r(e);!(u=c()).done;){var M=u.value,h=M.transform;if(h&&M.enabled&&M.node.layer&d&&M.worldBounds){var b=l.rayAABB(i,M.worldBounds);if(!(b<=0||b>=s)){if(M.type===t.scene.ModelType.DEFAULT){n.invert(v,h.getWorldMatrix(v)),a.transformMat4(m.o,i.o,v),a.normalize(m.d,a.transformMat4Normal(m.d,i.d,v)),b=1/0;for(var T=0;T<M.subModels.length;++T){var A=M.subModels[T].subMesh;if(A&&A.geometricInfo){var B=A.geometricInfo,w=B.positions,I=B.indices,L=B.doubleSided;p(w,I,A.primitiveMode,L,s),b=Math.min(b,y*a.multiply(g,m.d,h.worldScale).length())}}}b<s&&f.push({node:M.node,distance:b})}}}return f.sort((function(e,r){return e.distance-r.distance})),f},raycastModel:function(e,r,o){void 0===o&&(o=1/0);var i=e.transform,d=l.rayAABB(r,e.worldBounds);if(d<=0||d>=o)return null;if(e.type===t.scene.ModelType.DEFAULT){n.invert(v,i.getWorldMatrix(v)),a.transformMat4(m.o,r.o,v),a.normalize(m.d,a.transformMat4Normal(m.d,r.d,v)),d=1/0;for(var s=0;s<e.subModels.length;++s){var u=e.subModels[s].subMesh;if(u&&u.geometricInfo){var c=u.geometricInfo,f=c.positions,M=c.indices,h=c.doubleSided;p(f,M,u.primitiveMode,h,o),d=Math.min(d,y*a.multiply(g,m.d,i.worldScale).length())}}}return d<o?{node:e.node,distance:d}:null}});i._RF.pop()}}}));

System.register("chunks:///_virtual/RewardedAdOportunity.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./Logger.ts","./ProjectEvent.ts","./AdsEvents.ts"],(function(e){"use strict";var t,n,o,i,d,s,a,r,u,l,A,c,h,f,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,d=e.createClass},function(e){s=e.cclegacy,a=e._decorator,r=e.game,u=e.Component},function(e){l=e.AudioManager},function(e){A=e.logger,c=e.LogCategory,h=e.LogType},function(e){f=e.projectEvent},function(e){p=e.AdsEvents}],execute:function(){var w,_,g,y,v,E,b,m;s._RF.push({},"2c4e8xIPOZENLhcYAIWTYzQ","RewardedAdOportunity",void 0);var R=a.ccclass,F=a.property;e("RewardedAdOportunity",(w=R("RewardedAdOportunity"),_=F({visible:!0}),g=F({visible:!0,unit:"s"}),w(((m=function(e){function t(){for(var t,n=arguments.length,d=new Array(n),s=0;s<n;s++)d[s]=arguments[s];return(t=e.call.apply(e,[this].concat(d))||this)._currentAdRequest=null,t._wasAudioEnabled=!1,o(t,"_autoLoadAds",E,i(t)),o(t,"_loadAdsRequestDelay",b,i(t)),t._lastAdRequest=-100,t}n(t,e);var s=t.prototype;return s.update=function(){var e=r.totalTime/1e3;this._autoLoadAds&&e>=this._lastAdRequest+this._loadAdsRequestDelay&&(this._lastAdRequest=e,t._showAdFunction||(A.log("Ads: No ad detected, start loading one"),this.loadAd()))},s.onEnable=function(){f.on(p[p.AdsEvents_LoadAd],this.loadAd,this),f.on(p[p.AdsEvents_ShowAd],this.showAd,this)},s.onDisable=function(){f.off(p[p.AdsEvents_LoadAd],this.loadAd,this),f.off(p[p.AdsEvents_ShowAd],this.showAd,this)},s.loadAd=function(){if(!t._showAdFunction)if(A.log("Setting up rewarded ad opportunity"),"undefined"!=typeof GAMESNACKS){GAMESNACKS.rewardedAdOpportunity(this)}else A.log("GAMESNACKS is invalid")},s.showAd=function(e){t._showAdFunction?(this._currentAdRequest=e,t._showAdFunction()):(this._currentAdRequest=null,e.onAdFailed({id:1,message:"Ad was not loaded"}),A.log("Trying to show ad without initializing.",c.Generic,h.Error),f.emit(p[p.AdsEvents_AdFailedToShow]))},s.beforeReward=function(e){t._showAdFunction=e,A.log("beforeReward - ad is ready!"),f.emit(p[p.AdsEvents_AdLoaded])},s.beforeBreak=function(){A.log("beforeBreak - game will be paused to show ad"),this._wasAudioEnabled=l.instance.audioEnabled,l.instance.audioEnabled=!1},s.adComplete=function(){A.log("adComplete - rewarding player"),this._currentAdRequest.onAdCompleted(),f.emit(p[p.AdsEvents_AdShowed])},s.adDismissed=function(){A.log("adDismissed - player will not receive anything"),this._currentAdRequest.onAdFailed({id:1,message:"Player dismissed ad"}),f.emit(p[p.AdsEvents_AdFailedToShow])},s.afterBreak=function(){this._currentAdRequest=null,t._showAdFunction=null;var e=r.totalTime/1e3;this._lastAdRequest=e,A.log("afterBreak - game will be resumed now"),this._wasAudioEnabled&&(l.instance.audioEnabled=!0)},d(t,null,[{key:"isAdReady",get:function(){return!!t._showAdFunction}}]),t}(u))._showAdFunction=null,E=t((v=m).prototype,"_autoLoadAds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=t(v.prototype,"_loadAdsRequestDelay",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),y=v))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/RigidbodyHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var t,n,e,o,c;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,e=i._decorator,o=i.RigidBody,c=i.Component}],execute:function(){var r;n._RF.push({},"cc564Wd7lJMAJFJn8UQKq33","RigidbodyHelper",void 0);var a=e.ccclass,s=(e.property,e.requireComponent);i("RigidBodyHelper",a("RigidBodyHelper")(r=s(o)(r=function(i){function n(){for(var t,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(t=i.call.apply(i,[this].concat(e))||this)._body=null,t._kinematicCounter=0,t}t(n,i);var e=n.prototype;return e.onLoad=function(){this._body=this.node.getComponent(o)},e.enableGravity=function(){this._body.useGravity=!0},e.disableGravity=function(){this._body.useGravity=!1},e.enableKinematic=function(){0===this._kinematicCounter&&(this._body.isKinematic=!0),this._kinematicCounter++},e.disableKinematic=function(){this._kinematicCounter=Math.max(0,this._kinematicCounter-1),0===this._kinematicCounter&&(this._body.isKinematic=!1)},e.enableDynamic=function(){this._body.isDynamic=!0},e.disableDynamic=function(){this._body.isDynamic=!1},n}(c))||r)||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/SaveGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./BaseSaveGame.ts","./BaseSaveGameData.ts"],(function(e){"use strict";var t,a,n,r,s,o;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass},function(e){n=e.cclegacy},function(e){r=e.logger},function(e){s=e.BaseSaveGame},function(e){o=e.BaseSaveGameData}],execute:function(){n._RF.push({},"d1e8agzA3pAIYmPt+8srndI","SaveGame",void 0);var c=e("SaveGame",function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.createSaveData=function(e){return r.log("createSaveData "+e),e?e instanceof o||"object"==typeof e?new o(e):void 0:new o},a(n,[{key:"saveKey",get:function(){return"NorthernHeightsSave"}}]),n}(s));e("saveGame",new c);n._RF.pop()}}}));

System.register("chunks:///_virtual/SaveGameEnums.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){var t;e("SaveGameEvent",void 0),a._RF.push({},"c3d52sktfZJeoGxZs92nywx","SaveGameEnums",void 0),function(e){e[e.SaveGame_Loaded=0]="SaveGame_Loaded"}(t||(t=e("SaveGameEvent",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/SaveGameKeys.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){var r;e("SaveGameKeys",void 0),a._RF.push({},"8f0d8zrE/RHc6aJ/7XHX5ZU","SaveGameKeys",void 0),function(e){e[e.Save_PlayerLevel=0]="Save_PlayerLevel",e[e.Save_PlayerXP=1]="Save_PlayerXP",e[e.Save_PlayerCurrency=2]="Save_PlayerCurrency",e[e.Save_PurchasedCosmetics=3]="Save_PurchasedCosmetics",e[e.Save_EquippedItems=4]="Save_EquippedItems",e[e.Save_CurrentUpgradeSpeed=5]="Save_CurrentUpgradeSpeed",e[e.Save_CurrentUpgradeCoinMultiplier=6]="Save_CurrentUpgradeCoinMultiplier",e[e.Save_CurrentGachaPullId=7]="Save_CurrentGachaPullId",e[e.Save_UnlockedLevelThemes=8]="Save_UnlockedLevelThemes",e[e.Save_PlayerRecordDistance=9]="Save_PlayerRecordDistance"}(r||(r=e("SaveGameKeys",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/scatter-item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./source-mesh.ts","./fixed-model-mesh.ts","./type.ts"],(function(t){"use strict";var e,r,n,i,s,o,a,h,u,c,p,l,f,d,m,_,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.createClass,n=t.initializerDefineProperty},function(t){i=t.cclegacy,s=t._decorator,o=t.Vec3,a=t.Vec4,h=t.Mat4,u=t.Prefab,c=t.ModelComponent,p=t.instantiate,l=t.Node,f=t.Vec2,d=t.MeshRenderer},function(t){m=t.default},function(t){_=t.default},function(t){g=t.ScatterType}],execute:function(){var y,M,v,b,x,C,w,I,S;i._RF.push({},"10ce4kXixhA/psyIahwT6RE","scatter-item",void 0);var O=s.ccclass,V=s.type,A=s.property,D=new o,j=new o,P=new a,k=new Array(2).fill(0),z=new Array(3).fill(0),R=new Array(4).fill(0),F=new h,N=new h;t("default",(y=O("ScatterItem"),M=V(u),v=V(u),y((C=e((x=function(){function t(){n(this,"_prefab",C,this),n(this,"_type",w,this),n(this,"_volume",I,this),this._maxCount=0,this._fixedMeshes=[],n(this,"_meshStructs",S,this),this._sourceMesh=null,this._updated=!1,this.currentCount=0,this.node=null}var e=t.prototype;return e.init=function(t,e,r){if(this.node=t,this._maxCount=e,this._type=r,this.prefab){this.currentCount=0,this._sourceMesh=null,this._fixedMeshes.length=0;var n=this.node.getComponent(c);n&&n.destroy();var i=this.node.getComponent("InstanceObject");i&&i.destroy(),this.node.removeAllChildren();var s=this._tempNode=p(this.prefab);if(r===g.Mesh){(s=p(this.prefab)).setPosition(0,0,0);var o=s.getComponent(c)||s.getComponentInChildren(c);o&&o.mesh&&(this._sourceMesh=m.build(o.mesh),o.node.getWorldRotation(this._sourceMesh.rotation),o.node.getWorldPosition(this._sourceMesh.translation),o.node.getWorldScale(this._sourceMesh.scale),this._sourceMesh.reset());var a=o&&o.sharedMaterials,h=this._sourceMesh.subCount();this._fixedMeshes.length=0,this._meshStructs.length=0;for(var u=0;u<h;u++){var f=new l("ScatterItemModel"),d=f.addComponent(c);this._fixedMeshes[u]=_.create(this._sourceMesh.getVertices(u).length,this._sourceMesh.getTriangles(u).length,d,this.maxCount),this._meshStructs[u]=this._fixedMeshes[u].mesh.struct,d.mesh=this._fixedMeshes[u].mesh,d.shadowCastingMode=o.shadowCastingMode,d.lightmapSettings=o.lightmapSettings;for(var y=d.mesh.renderingSubMeshes,M=a[u]||a[0],v=0;v<y.length;v++)d.setMaterial(M,v);f.parent=this.node}}}},e.shiftStructOffset=function(t){for(var e=this._meshStructs,r=0;r<e.length;r++)e[r].primitives.forEach((function(e){return e.indexView.offset+=t})),e[r].vertexBundles.forEach((function(e){return e.view.offset+=t}))},e.fill=function(t){return!(this.currentCount>=this.maxCount||!this.prefab)&&(this._type===g.Mesh?this.updateMesh(t):this._type===g.Instance?this.updateInstance(t):this.updateItem(t),this.currentCount++,this._updated=!0,!0)},e.updateFill=function(){if(this._updated&&this.prefab){if(this._type===g.Mesh)for(var t=this._fixedMeshes,e=0;e<t.length;e++)t[e].update();this._updated=!1}},e.endFill=function(){if(this._type===g.Instance){var t=this.node.getComponent("InstanceObject");t&&t.rebuild()}},e.updateMesh=function(t){var e=this._sourceMesh;if(e)for(var r=e.subCount(),n=0;n<r;n++){for(var i=this._fixedMeshes[n],s=e.getVertices(n),h=s.length,u=this.currentCount*h,c=0;c<h;c++){var p=s[c],l=u+c;i.writeVertex(l,"position",o.toArray(z,o.transformMat4(D,p.position,t))),i.writeVertex(l,"normal",o.toArray(z,o.transformMat4(j,p.position,t))),i.writeVertex(l,"tangent",a.toArray(R,a.transformMat4(P,p.tangent,t))),i.writeVertex(l,"uv",f.toArray(k,p.uv)),i.writeVertex(l,"uv1",f.toArray(k,p.uv1))}for(var d=e.triangles,m=d.length,_=this.currentCount*m,g=0;g<m;g++)i.writeIndex(_+g,u+d[g])}},e.updateItem=function(t){var e=p(this.prefab);h.multiply(F,e.worldMatrix,t),e.matrix=F,e.parent=this.node},e.addInstanceData=function(t,e,r){var n=e.getComponent(d);n&&n.mesh&&n.sharedMaterials.length&&(h.multiply(F,t,e.worldMatrix),r.addData(n,F));for(var i=e.children,s=0;s<i.length;s++)this.addInstanceData(t,i[s],r)},e.updateInstance=function(t){var e=this.node.getComponent("InstanceObject");e||(e=this.node.addComponent("InstanceObject")),e&&this._tempNode&&(h.multiply(N,this.node.worldMatrix,t),this.addInstanceData(N,this._tempNode,e))},r(t,[{key:"prefab",get:function(){return this._prefab},set:function(t){this._prefab=t}},{key:"volume",get:function(){return this._volume},set:function(t){this._volume=t}},{key:"maxCount",get:function(){return this._maxCount}},{key:"fixedMeshes",get:function(){return this._fixedMeshes}}]),t}()).prototype,"_prefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(x.prototype,"_type",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.Instance}}),I=e(x.prototype,"_volume",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),e(x.prototype,"prefab",[v],Object.getOwnPropertyDescriptor(x.prototype,"prefab"),x.prototype),e(x.prototype,"volume",[A],Object.getOwnPropertyDescriptor(x.prototype,"volume"),x.prototype),e(x.prototype,"maxCount",[A],Object.getOwnPropertyDescriptor(x.prototype,"maxCount"),x.prototype),S=e(x.prototype,"_meshStructs",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=x))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/scatter-volume.ts",["./rollupPluginModLoBabelHelpers.js","cc","./spline-util-base.ts","./mathf.ts","./event.ts","./type.ts"],(function(e){"use strict";var t,i,n,o,r,u,p,l,s,c,a,h,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){u=e.cclegacy,p=e._decorator,l=e.Vec3},function(e){s=e.default},function(e){c=e.pointInPolygonAreaXZ,a=e.pointPolygonMinDistXZ},function(e){h=e.default},function(e){y=e.VolumeType}],execute:function(){var d,f,v,g,m,_,C,b;u._RF.push({},"bbf2asYtpNNfqNmnARQpuH4","scatter-volume",void 0);var P=p.ccclass,w=p.property,k=p.type,W=p.executeInEditMode,D=new l;e("ScatterVolume",(d=P("ScatterVolume"),f=k(y),d(v=W((m=t((g=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return t=e.call.apply(e,[this].concat(r))||this,n(t,"_volume",m,o(t)),n(t,"_type",_,o(t)),n(t,"_lineWidth",C,o(t)),n(t,"_includeCap",b,o(t)),t.volumeChanged=new h,t}i(t,e);var u=t.prototype;return u.includePos=function(e){if(l.subtract(D,e,this.spline.node.getWorldPosition(D)),this._type===y.Area)return c(D,this.splineCurve.getPoints());if(this._type===y.Line){var t=this.splineCurve.getPoints(),i=a(D,t);if(i.dist>this._lineWidth)return!1;if(1===i.index||i.index===t.length-1){return i.t>=-.5&&i.t<=1.5}return!0}return!1},u.onEnable=function(){this.spline.curveChanged.addListener(this.onCurveChanged,this)},u.onDisable=function(){this.spline.curveChanged.removeListener(this.onCurveChanged,this)},u.onCurveChanged=function(){this.volumeChanged.invoke()},r(t,[{key:"volume",get:function(){return this._volume},set:function(e){this._volume!==e&&(this._volume=e,this.volumeChanged.invoke())}},{key:"type",get:function(){return this._type},set:function(e){this._type!==e&&(this._type=e,this.volumeChanged.invoke())}},{key:"lineWidth",get:function(){return this._lineWidth},set:function(e){this._lineWidth!==e&&(this._lineWidth=e,this.volumeChanged.invoke())}},{key:"includeCap",get:function(){return this._includeCap},set:function(e){this._includeCap=e,this.volumeChanged.invoke()}}]),t}(s)).prototype,"_volume",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),t(g.prototype,"volume",[w],Object.getOwnPropertyDescriptor(g.prototype,"volume"),g.prototype),_=t(g.prototype,"_type",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.Area}}),t(g.prototype,"type",[f],Object.getOwnPropertyDescriptor(g.prototype,"type"),g.prototype),C=t(g.prototype,"_lineWidth",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),t(g.prototype,"lineWidth",[w],Object.getOwnPropertyDescriptor(g.prototype,"lineWidth"),g.prototype),b=t(g.prototype,"_includeCap",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),t(g.prototype,"includeCap",[w],Object.getOwnPropertyDescriptor(g.prototype,"includeCap"),g.prototype),v=g))||v)||v));u._RF.pop()}}}));

System.register("chunks:///_virtual/scatter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./spline-util-renderer.ts","./raycast.ts","./scatter-volume.ts","./mathf.ts","./type.ts","./scatter-item.ts","./curve-sample.ts"],(function(t){"use strict";var e,r,i,n,o,a,s,u,l,c,p,h,f,y,m,_,d,g,v,b,w,C,I,L,O,P,V,x,z;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.initializerDefineProperty,i=t.inheritsLoose,n=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,s=t._decorator,u=t.Vec3,l=t.geometry,c=t.Mat4,p=t.Quat,h=t.Node,f=t.Terrain,y=t.randomRange,m=t.Layers,_=t.director,d=t.js,g=t.find,v=t.CCObject},function(t){b=t.default},function(t){w=t.default},function(t){C=t.ScatterVolume},function(t){I=t.pointPolygonMinDistXZ,L=t.pointInPolygonAreaXZ},function(t){O=t.VolumeType,P=t.ScatterType,V=t.VolumeInfo},function(t){x=t.default},function(t){z=t.default}],execute:function(){var D,R,T,j,k,M,F,Y,S,A,W,N,E,H,X,B,Q,Z,G,U,q,J,K,$,tt,et,rt,it,nt,ot,at,st,ut,lt,ct;a._RF.push({},"8e456p1j4pC/ae9XLvfNodQ","scatter",void 0);var pt=s.ccclass,ht=s.executeInEditMode,ft=(s.float,s.type),yt=(s.boolean,s.property),mt=new u(0,-1,0),_t=new u,dt=new u,gt=new u,vt=l.Ray.create(),bt=new c,wt=new p,Ct=new c,It=new u,Lt=new u,Ot=new u,Pt=new z,Vt=(D=pt("StoredScatterData"),R=ft(c),D((k=e((j=function(t,e){r(this,"itemIndex",k,this),r(this,"matrix",M,this),this.itemIndex=t,this.matrix.set(e)}).prototype,"itemIndex",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),M=e(j.prototype,"matrix",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),T=j))||T);t("default",(F=pt("Scatter"),Y=ft(h),S=ft(f),A=ft(h),W=ft(C),N=ft(C),E=ft(x),H=ft(x),X=ft(O),B=ft(O),Q=ft(P),Z=ft(P),F(G=ht((q=e((U=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"_scale",q,n(e)),r(e,"_scaleRange",J,n(e)),r(e,"_rotationY",K,n(e)),r(e,"_rotationYRange",$,n(e)),r(e,"_itemCount",tt,n(e)),r(e,"_generateCountPerFrame",et,n(e)),r(e,"_raycastLayer",rt,n(e)),r(e,"_raycastTerrain",it,n(e)),e._currentItemCount=0,e._volumeInfos=[],e._selfVolumeInfo=new V,r(e,"_volumes",nt,n(e)),r(e,"_items",ot,n(e)),r(e,"_type",at,n(e)),r(e,"_scatterLineWidth",st,n(e)),r(e,"_scatterLineOffset",ut,n(e)),r(e,"_dataType",lt,n(e)),r(e,"_storedDatas",ct,n(e)),e._hasValidItem=!1,e}i(e,t);var a=e.prototype;return a._onDirtyChanged=function(t){t?(this._storedDatas.length=0,this._updateVolume(),this._dirty=!0):this._currentItemCount>=this._itemCount&&(this._dirty=!1)},a._isPosValid=function(t){var e=!1;if(this._type===O.Line){var r=I(t,this.spline.getPoints()).dist;e=r>this._scatterLineOffset&&r<this.scatterLineOffset+this.scatterLineWidth}else this._type===O.Area&&(e=L(t,this.spline.getPoints()));if(!e)return!1;u.transformMat4(t,t,this.spline.node.worldMatrix);for(var i=this._volumes,n=this._volumeInfos,o=!1,a=0,s=0;s<i.length;s++){var l=i[s];if(l){var c=n[s];if(l.includePos(t)){if(a++,c.count>=c.maxCount)continue;o=!0,c.count++;break}}}return 0===a&&this._selfVolumeInfo.count<this._selfVolumeInfo.maxCount&&(o=!0,this._selfVolumeInfo.count++),o},a._getRandomAreaPoint=function(){var t=Lt,e=Ot;this.spline.getBounding(t,e);var r=0;do{if(r>=10)return null;_t.x=y(t.x,e.x),_t.y=y(t.y,e.y),_t.z=y(t.z,e.z),r++}while(!this._isPosValid(_t));return _t},a._getRandomLinePint=function(){var t=this.spline.length,e=this.spline.getSampleAtDistance(y(0,t),Pt);_t.set(e.location);var r=It.set(-e.tangent.z,0,e.tangent.x),i=y(-this._scatterLineWidth,this.scatterLineWidth),n=Math.sign(i)*this._scatterLineOffset+i;return r.multiplyScalar(n),_t.add(r),u.transformMat4(_t,_t,this.spline.node.worldMatrix),_t},a._getNextPosition=function(){var t;if(this._type===O.Area?t=this._getRandomAreaPoint():this._type===O.Line&&(t=this._getRandomLinePint()),!t)return null;if(vt.o.set(t.x,t.y+1e3,t.z),vt.d.set(mt),this._raycastTerrain){var e=this._raycastTerrain.rayCheck(vt.o,vt.d,1,!0);e&&u.add(t,e,this._raycastTerrain.node.getWorldPosition(t))}else{var r=m.Enum.DEFAULT;this._raycastLayer&&(r=this._raycastLayer.layer);var i=w.raycastAllModels(_.getScene()._renderScene,vt,r);i.length>0&&(t=t,u.scaleAndAdd(t,vt.o,vt.d,i[0].distance))}return u.transformMat4(t,t,Ct),t},a.onLoad=function(){this._updateVolume()},a.compute=function(){if(!(this._items.length<=0)&&this._hasValidItem){var t=this._storedDatas;if(c.invert(Ct,this.node.worldMatrix),this._currentItemCount<this._itemCount){for(var e=this._items,r=0;r<this._generateCountPerFrame&&!(this._currentItemCount>=this._itemCount);r++){var i=t[this._currentItemCount];if(i&&e[i.itemIndex].fill(i.matrix))this._currentItemCount++;else{var n=this._getNextPosition();if(n){dt.set(this.scale.x+Math.random()*this.scaleRange.x,this.scale.y+Math.random()*this.scaleRange.y,this.scale.z+Math.random()*this.scaleRange.z);var o=Math.random()*(this.rotationY+this.rotationYRange);gt.set(0,o,0),p.fromEuler(wt,gt.x,gt.y,gt.z),c.fromRTS(bt,wt,n,dt);for(var a=0;a<e.length;a++)if(e[a].fill(bt)){t[this._currentItemCount]=new Vt(a,bt),this._currentItemCount++;break}}}}for(var s=0;s<e.length;s++)e[s].updateFill();if(this._currentItemCount>=this._itemCount)for(var u=0;u<e.length;u++)e[u].endFill()}else this.dirty=!1}},a._resetState=function(){this._dirtyTime=0,this._currentItemCount=0;var t=this._items;if(t)for(var e=0;e<t.length;e++)t[e].currentCount=0;var r=this._volumeInfos;if(r)for(var i=0;i<r.length;i++)r[i].count=0;this._selfVolumeInfo&&(this._selfVolumeInfo.count=0)},a._updateVolume=function(){this._resetState();var t=this._volumeInfos;t.length=0;for(var e=0,r=0;r<this._volumes.length;r++){var i=this._volumes[r],n=new V;i?(i.volumeChanged.addListener(this._updateVolume,this),n.volume=i.volume):n.volume=0,t[r]=n,e+=n.volume}for(var o=0;o<t.length;o++){var a=t[o];e?e>1&&(a.volume/=e):a.volume=0,a.maxCount=a.volume*this.itemCount}this._selfVolumeInfo.count=0,this._selfVolumeInfo.volume=Math.max(0,1-e),this._selfVolumeInfo.maxCount=this._selfVolumeInfo.volume*this.itemCount,this._dirty=!0,this._updateItems()},a._updateItems=function(){this.generated.removeAllChildren(),this._hasValidItem=!1;for(var t=0,e=this._items,r=0;r<e.length;r++){e[r].prefab&&(t+=e[r].volume,this._hasValidItem=!0)}if(0===t&&(this._hasValidItem=!1),this._hasValidItem){for(var i=this.generated.children,n=0,o=0;o<e.length;o++){var a=e[o];if(a.prefab){var s=a.volume;t?s/=t:s=0;var u=i[o];u||((u=new h("ScatterItem")).parent=this.generated);var l=s*this.itemCount|0;o===e.length-1&&(l=this.itemCount-n),a.init(u,l,this._dataType),n+=l}}this._dirty=!0}},o(e,[{key:"scale",get:function(){return this._scale},set:function(t){this._scale=t,this.dirty=!0}},{key:"scaleRange",get:function(){return this._scaleRange},set:function(t){this._scaleRange=t,this.dirty=!0}},{key:"rotationY",get:function(){return this._rotationY},set:function(t){this._rotationY=t,this.dirty=!0}},{key:"rotationYRange",get:function(){return this._rotationYRange},set:function(t){this._rotationYRange=t,this.dirty=!0}},{key:"itemCount",get:function(){return this._itemCount},set:function(t){this._itemCount!==t&&(this._itemCount=t,this.dirty=!0)}},{key:"generateCountPerFrame",get:function(){return this._generateCountPerFrame},set:function(t){this._generateCountPerFrame=t}},{key:"raycastLayer",get:function(){return this._raycastLayer},set:function(t){this._raycastLayer=t,this._raycastLayer?this._raycastTerrain=this._raycastLayer.getComponent(f):this._raycastTerrain=null}},{key:"currentItemCount",get:function(){return this._currentItemCount}},{key:"volumes",get:function(){return this._volumes},set:function(t){for(var e=this._volumes,r=0;r<e.length;r++)e[r]&&e[r].volumeChanged.removeListener(this._updateVolume,this);this._volumes=t,this._updateVolume()}},{key:"items",get:function(){return this._items},set:function(t){this._items=t,this._updateVolume()}},{key:"type",get:function(){return this._type},set:function(t){this._type=t,this._updateVolume()}},{key:"scatterLineWidth",get:function(){return this._scatterLineWidth},set:function(t){this._scatterLineWidth=t,this.dirty=!0}},{key:"scatterLineOffset",get:function(){return this._scatterLineOffset},set:function(t){this._scatterLineOffset=t,this.dirty=!0}},{key:"dataType",get:function(){return this._dataType},set:function(t){this._dataType=t,this.dirty=!0}},{key:"generated",get:function(){if(!this._generated||this._generated.parent!==this.node){var t="generated "+d.getClassName(this);this._generated=g(t,this.node),this._generated||(this._generated=new h(t),this._showGenerated||(this._generated._objFlags|=v.Flags.DontSave|v.Flags.HideInHierarchy),this._generated.parent=this.node)}return this._generated}}]),e}(b)).prototype,"_scale",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.ONE.clone()}}),J=e(U.prototype,"_scaleRange",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),K=e(U.prototype,"_rotationY",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=e(U.prototype,"_rotationYRange",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 360}}),e(U.prototype,"scale",[yt],Object.getOwnPropertyDescriptor(U.prototype,"scale"),U.prototype),e(U.prototype,"scaleRange",[yt],Object.getOwnPropertyDescriptor(U.prototype,"scaleRange"),U.prototype),e(U.prototype,"rotationY",[yt],Object.getOwnPropertyDescriptor(U.prototype,"rotationY"),U.prototype),e(U.prototype,"rotationYRange",[yt],Object.getOwnPropertyDescriptor(U.prototype,"rotationYRange"),U.prototype),tt=e(U.prototype,"_itemCount",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),et=e(U.prototype,"_generateCountPerFrame",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),e(U.prototype,"itemCount",[yt],Object.getOwnPropertyDescriptor(U.prototype,"itemCount"),U.prototype),e(U.prototype,"generateCountPerFrame",[yt],Object.getOwnPropertyDescriptor(U.prototype,"generateCountPerFrame"),U.prototype),rt=e(U.prototype,"_raycastLayer",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(U.prototype,"_raycastTerrain",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(U.prototype,"raycastLayer",[A],Object.getOwnPropertyDescriptor(U.prototype,"raycastLayer"),U.prototype),e(U.prototype,"currentItemCount",[yt],Object.getOwnPropertyDescriptor(U.prototype,"currentItemCount"),U.prototype),nt=e(U.prototype,"_volumes",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),e(U.prototype,"volumes",[N],Object.getOwnPropertyDescriptor(U.prototype,"volumes"),U.prototype),ot=e(U.prototype,"_items",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),e(U.prototype,"items",[H],Object.getOwnPropertyDescriptor(U.prototype,"items"),U.prototype),at=e(U.prototype,"_type",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.Area}}),e(U.prototype,"type",[B],Object.getOwnPropertyDescriptor(U.prototype,"type"),U.prototype),st=e(U.prototype,"_scatterLineWidth",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),e(U.prototype,"scatterLineWidth",[yt],Object.getOwnPropertyDescriptor(U.prototype,"scatterLineWidth"),U.prototype),ut=e(U.prototype,"_scatterLineOffset",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(U.prototype,"scatterLineOffset",[yt],Object.getOwnPropertyDescriptor(U.prototype,"scatterLineOffset"),U.prototype),lt=e(U.prototype,"_dataType",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.Instance}}),e(U.prototype,"dataType",[Z],Object.getOwnPropertyDescriptor(U.prototype,"dataType"),U.prototype),ct=e(U.prototype,"_storedDatas",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=U))||G)||G));a._RF.pop()}}}));

System.register("chunks:///_virtual/SFXUnlockCosmetic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./AudioManager.ts","./CustomizationEnums.ts"],(function(t){"use strict";var n,o,e,c,i,s,a;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,c=t.Component},function(t){i=t.projectEvent},function(t){s=t.AudioManager},function(t){a=t.CustomizationEvent}],execute:function(){var r;o._RF.push({},"3e274ch1ctAY7nLZYO2XbjZ","SFXUnlockCosmetic",void 0);var u=e.ccclass;e.property,t("SFXUnlockCosmetic",u("SFXUnlockCosmetic")(r=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),c=0;c<o;c++)e[c]=arguments[c];return(n=t.call.apply(t,[this].concat(e))||this)._key="sfx_gacha_open",n}n(o,t);var e=o.prototype;return e.onEnable=function(){i.on(a[a.CustomizationUnlockedEffectEnded],this.playSFX,this)},e.onDisable=function(){i.off(a[a.CustomizationUnlockedEffectEnded],this.playSFX,this)},e.playSFX=function(){s.instance.playByKey(this._key)},o}(c))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/source-mesh.ts",["./rollupPluginModLoBabelHelpers.js","cc","./mesh-vertex.ts","./mesh-utility.ts"],(function(t){"use strict";var i,e,s,n,h,r,a,o,u,l;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy,s=t.gfx,n=t.Quat,h=t.Vec3,r=t.Vec4,a=t.Mesh},function(t){o=t.default,u=t.MeshVertexFlags},function(t){l=t.default}],execute:function(){e._RF.push({},"0eba73fr/BFAqywv0rcR6s6","source-mesh",void 0);t("default",function(){e.build=function(t){return new e(t)};var t=e.prototype;function e(t){this.translation=new h,this.rotation=new n,this.scale=new h,this._mesh=void 0,this._vertices=[],this._triangles=[],this._minZ=[0],this._lengthZ=[0],this._minX=[0],this._lengthX=[0],this._minY=[0],this._lengthY=[0],t instanceof a?(this._mesh=t,this.translation=new h,this.rotation=new n,this.scale=new h):(this._mesh=t._mesh,this.translation=t.translation.clone(),this.rotation=t.rotation.clone(),this.scale=t.scale.clone())}return t.getVertices=function(t){return void 0===t&&(t=0),this._vertices[t]||this.buildData(),this._vertices[t]},t.getTriangles=function(t){return void 0===t&&(t=0),this._vertices[t]||this.buildData(),this._triangles[t]},t.getMinX=function(t){return void 0===t&&(t=0),this._vertices[t]||this.buildData(),this._minX[t]},t.getLengthX=function(t){return void 0===t&&(t=0),this._vertices[t]||this.buildData(),this._lengthX[t]},t.subCount=function(){return this.mesh?this.mesh.subMeshCount:0},t.translate=function(t,i,e){return this.reset(),"number"==typeof t?this.translation.set(t,i,e):this.translation.set(t),this},t.rotate=function(t){return this.reset(),this.rotation.set(t),this},t.scaleRes=function(t,i,e){return this.reset(),"number"==typeof t?this.scale.set(t,i,e):this.scale.set(t),this},t.reset=function(){this._vertices.length>0&&(this._vertices.forEach((function(t){t.forEach((function(t){o.pool.put(t)}))})),this._vertices.length=0),this._triangles.length=0},t.buildData=function(){for(var t=this.mesh.subMeshCount,i=0;i<t;i++){var e=this.scale.x<0;this.scale.y<0&&(e=!e),this.scale.z<0&&(e=!e),e?this._triangles[i]=l.getReversedTriangles(this._mesh,i):(this._triangles[i]||(this._triangles[i]=[]),this._mesh.copyIndices(i,this._triangles[i]));for(var a=this._vertices[i]=this._vertices[i]||[],_=this._mesh.readAttribute(i,s.AttributeName.ATTR_POSITION),c=this._mesh.readAttribute(i,s.AttributeName.ATTR_NORMAL),m=this._mesh.readAttribute(i,s.AttributeName.ATTR_TANGENT),g=m&&m.length>0,f=this._mesh.readAttribute(i,s.AttributeName.ATTR_TEX_COORD),v=f&&f.length>0,b=this._mesh.readAttribute(i,s.AttributeName.ATTR_TEX_COORD1),d=b&&b.length>0,A=this._mesh.readAttribute(i,s.AttributeName.ATTR_COLOR),T=A&&A.length>0,E=_.length/3,N=0;N<E;N++){var p=u.Position|u.Normal,X=a[N];X||(X=a[N]=o.pool.get()),X.position.set(_[3*N+0],_[3*N+1],_[3*N+2]),X.normal.set(c[3*N+0],c[3*N+1],c[3*N+2]),v&&(X.uv.set(f[2*N+0],f[2*N+1]),p|=u.UV),d&&(X.uv1.set(b[2*N+0],b[2*N+1]),p|=u.UV1),g&&(X.tangent.set(m[4*N+0],m[4*N+1],m[4*N+2],m[4*N+3]),p|=u.Tangent),T&&(X.color.set(A[4*N+0],A[4*N+1],A[4*N+2],A[4*N+3]),p|=u.Color),this.rotation.equals(n.IDENTITY)||(h.transformQuat(X.position,X.position,this.rotation),h.transformQuat(X.normal,X.normal,this.rotation),g&&r.transformQuat(X.tangent,X.tangent,this.rotation)),this.scale.equals(h.ONE)||h.multiply(X.position,X.position,this.scale),X.position.add(this.translation),X.flag=p}for(;N<a.length;N++)a[N]&&o.pool.put(a[N]);a.length=E,this._minX[i]=Number.MAX_SAFE_INTEGER;var M=-Number.MAX_SAFE_INTEGER;this._minY[i]=Number.MAX_SAFE_INTEGER;var y=-Number.MAX_SAFE_INTEGER;this._minZ[i]=Number.MAX_SAFE_INTEGER;for(var R=-Number.MAX_SAFE_INTEGER,D=0;D<a.length;D++){var Y=a[D].position;M=Math.max(M,Y.x),this._minX[i]=Math.min(this._minX[i],Y.x),y=Math.max(y,Y.y),this._minY[i]=Math.min(this._minY[i],Y.y),R=Math.max(R,Y.z),this._minZ[i]=Math.min(this._minZ[i],Y.z)}this._lengthX[i]=Math.abs(M-this._minX[i]),this._lengthY[i]=Math.abs(y-this._minY[i]),this._lengthZ[i]=Math.abs(R-this._minZ[i])}},i(e,[{key:"mesh",get:function(){return this._mesh}},{key:"vertices",get:function(){return this._vertices[0]||this.buildData(),this._vertices[0]}},{key:"triangles",get:function(){return this._vertices[0]||this.buildData(),this._triangles[0]}},{key:"minZ",get:function(){return this._vertices[0]||this.buildData(),this._minZ[0]}},{key:"lengthZ",get:function(){return this._vertices[0]||this.buildData(),this._lengthZ[0]}},{key:"minX",get:function(){return this._vertices[0]||this.buildData(),this._minX[0]}},{key:"lengthX",get:function(){return this._vertices[0]||this.buildData(),this._lengthX[0]}},{key:"minY",get:function(){return this._vertices[0]||this.buildData(),this._minY[0]}},{key:"lengthY",get:function(){return this._vertices[0]||this.buildData(),this._lengthY[0]}}]),e}());e._RF.pop()}}}));

System.register("chunks:///_virtual/sower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./spline-util-renderer.ts","./event.ts","./pool.ts"],(function(t){"use strict";var e,n,r,i,a,o,s,p,l,c,u,g,y,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,s=t._decorator,p=t.Quat,l=t.Vec3,c=t.Prefab,u=t.instantiate},function(t){g=t.default},function(t){y=t.default},function(t){h=t.default}],execute:function(){var f,b,d,_,R,m,w,v,z,O,D,M;o._RF.push({},"3c449aeMnlEoqzv7EJdDtvX","sower",void 0);var P=s.ccclass,k=s.executeInEditMode,j=s.float,x=s.type,E=(s.boolean,s.property),C=new p;new l,t("default",(f=x(c),b=x(c),P(d=k((R=e((_=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"_spacing",R,i(e)),r(e,"_spacingRange",m,i(e)),r(e,"_scale",w,i(e)),r(e,"_scaleRange",v,i(e)),r(e,"_rotation",z,i(e)),r(e,"_prefab",O,i(e)),r(e,"_translation",D,i(e)),r(e,"_translationRange",M,i(e)),e.onComputedEvent=new y,e}return n(e,t),e.prototype.compute=function(){var t=this.generated.children;if(!(this.spacing+this.spacingRange<=0||null==this.prefab)){for(var e=0,n=this.splineCurve,r=0;e<=n.length;){var i=this.translation.x+Math.random()*this.translationRange.x*Math.sign(this.translation.x)+e;i=Math.min(i,n.length);var a=n.getSampleAtDistance(i),o=t[r];o||((o=u(this.prefab)).parent=this.generated);var s=this.scale+Math.random()*this.scaleRange;s*=Math.min(a.scale.x,a.scale.y),o.setScale(s,s,s),p.fromEuler(C,this.rotation.x,this.rotation.y,this.rotation.z),p.multiply(C,a.rotation,C),o.setRotation(C);var c=h.Vec3.get();c=l.transformQuat(c,l.RIGHT,p.fromViewUp(C,a.tangent,a.up)).normalize();var g=this.translation.z+Math.random()*this.translationRange.z*Math.sign(this.translation.z);g*=a.scale.x,c.multiplyScalar(g);var y=h.Vec3.get();y.set(a.transformedUp).normalize();var f=this.translation.y+Math.random()*this.translationRange.y*Math.sign(this.translation.y);f*=a.scale.y,y.multiplyScalar(f),o.position=c.add(y).add(a.location),e+=this.spacing+Math.random()*this.spacingRange,r++}if(t.length>r)for(var b=t.length-1;b>=r;b--)t[b].parent=null;this.onComputedEvent.invoke()}},a(e,[{key:"spacing",get:function(){return this._spacing},set:function(t){this._spacing=t,this.dirty=!0}},{key:"spacingRange",get:function(){return this._spacingRange},set:function(t){this._spacingRange=t,this.dirty=!0}},{key:"scale",get:function(){return this._scale},set:function(t){this._scale=t,this.dirty=!0}},{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.dirty=!0}},{key:"scaleRange",get:function(){return this._scaleRange},set:function(t){this._scaleRange=t,this.dirty=!0}},{key:"translation",get:function(){return this._translation},set:function(t){this._translation.set(t),this.dirty=!0}},{key:"translationRange",get:function(){return this._translationRange},set:function(t){this._translationRange.set(t),this.dirty=!0}},{key:"prefab",get:function(){return this._prefab},set:function(t){this._prefab=t,this.generated.removeAllChildren(),this.dirty=!0}}]),e}(g)).prototype,"_spacing",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),m=e(_.prototype,"_spacingRange",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=e(_.prototype,"_scale",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),v=e(_.prototype,"_scaleRange",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=e(_.prototype,"_rotation",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),O=e(_.prototype,"_prefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(_.prototype,"_translation",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),M=e(_.prototype,"_translationRange",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),e(_.prototype,"spacing",[j],Object.getOwnPropertyDescriptor(_.prototype,"spacing"),_.prototype),e(_.prototype,"spacingRange",[j],Object.getOwnPropertyDescriptor(_.prototype,"spacingRange"),_.prototype),e(_.prototype,"scale",[j],Object.getOwnPropertyDescriptor(_.prototype,"scale"),_.prototype),e(_.prototype,"rotation",[E],Object.getOwnPropertyDescriptor(_.prototype,"rotation"),_.prototype),e(_.prototype,"scaleRange",[j],Object.getOwnPropertyDescriptor(_.prototype,"scaleRange"),_.prototype),e(_.prototype,"translation",[E],Object.getOwnPropertyDescriptor(_.prototype,"translation"),_.prototype),e(_.prototype,"translationRange",[E],Object.getOwnPropertyDescriptor(_.prototype,"translationRange"),_.prototype),e(_.prototype,"prefab",[b],Object.getOwnPropertyDescriptor(_.prototype,"prefab"),_.prototype),d=_))||d)||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/SpeedUpgrades.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./SaveGame.ts","./SaveGameKeys.ts"],(function(e){"use strict";var t,r,n,s,d,a,u,i,p,g;return{setters:[function(e){t=e.createClass},function(e){r=e.cclegacy,n=e.game,s=e.Game,d=e.resources,a=e.JsonAsset},function(e){u=e.logger},function(e){i=e.projectEvent},function(e){p=e.saveGame},function(e){g=e.SaveGameKeys}],execute:function(){var o;e("SpeedUpgradeEvent",void 0),r._RF.push({},"22d71STt/hFQo5BlEpMrN6q","SpeedUpgrades",void 0),function(e){e[e.SpeedUpgradeChanged=0]="SpeedUpgradeChanged",e[e.SpeedUpgradeBought=1]="SpeedUpgradeBought"}(o||(o=e("SpeedUpgradeEvent",{})));var c=e("SpeedUpgrade",function(){var e=r.prototype;function r(){var e=this;this.upgrades=[],this.currentId=0,n.on(s.EVENT_GAME_INITED,(function(){d.load("Settings/SpeedUpgrades",a,null,e.onLoadComplete.bind(e))}),this)}return e.increment=function(){this.currentId++,p.setData(g[g.Save_CurrentUpgradeSpeed],this.currentId),i.emit(o[o.SpeedUpgradeChanged])},e.onLoadComplete=function(e,t){this.upgrades=t.json.SpeedUpgrades,u.log("Finished loading speed upgrade Settings. "+this.upgrades.length+" upgrades loaded."),this.currentId=p.getData(g[g.Save_CurrentUpgradeSpeed]),null==this.currentId&&(this.currentId=0)},t(r,[{key:"current",get:function(){return this.upgrades[this.currentId]}},{key:"next",get:function(){return this.isLast?this.current:this.upgrades[this.currentId+1]}},{key:"isLast",get:function(){return this.currentId>=this.upgrades.length-1}}]),r}());e("speedUpgrade",new c);r._RF.pop()}}}));

System.register("chunks:///_virtual/SplashController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./CustomizationBundleLoader.ts","./Globals.ts","./LoadingController.ts"],(function(e){"use strict";var n,t,o,r,a,c,s,u,i,l,d,f;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator},function(e){o=e.cclegacy,r=e._decorator,a=e.assetManager,c=e.Component,s=e.director},function(e){u=e.logger},function(e){i=e.projectEvent},function(e){l=e.cosmeticDatabase},function(e){d=e.delay},function(e){f=e.LoadingEvent}],execute:function(){var p;o._RF.push({},"08665y4uJtH6Kt4pt9gjg9s","SplashController",void 0);var g=r.ccclass;r.property,e("SplashController",g("SplashController")(p=function(e){function o(){return e.apply(this,arguments)||this}n(o,e);var r=o.prototype;return r.start=function(){this.loadMenuScene()},r.loadMenuScene=function(){var e=t(regeneratorRuntime.mark((function e(){var n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.emit(f[f.Loading_Start]),e.next=3,d(.3);case 3:return e.next=5,this.loadBundle("Gameplay");case 5:n=e.sent;case 6:if(0!=l.isDataLoaded){e.next=11;break}return e.next=9,d(.2);case 9:e.next=6;break;case 11:return e.next=13,this.loadScene(n,"Main");case 13:t=e.sent,s.runScene(t);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.loadBundle=function(e){return e?(u.log("Loading bundle: "+e),new Promise((function(n,t){a.loadBundle(e,(function(e,o){!e&&o?(u.log("Successfully loaded bundle "+o.name),n(o)):t()}))}))):Promise.reject()},r.loadScene=function(e,n){return e?(u.log("Loading "+n),new Promise((function(t,o){e.loadScene(n,(function(e,n){!e&&n?(u.log("Successfully loaded scene "+n.name),t(n)):o()}))}))):Promise.reject()},o}(c))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/spline-curve-interface.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"f52bdvdp09JvYK1DHZuLYtH","spline-curve-interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/spline-gizmo.ts",["cc","./gizmo.ts","./utils.ts","./spline-node-controller.ts","./continuous-line-controller.ts","./pool.ts","./spline-node.ts","./spline.ts","./types.ts","./index.ts"],(function(){"use strict";var l;return{setters:[function(n){l=n.cclegacy},null,null,null,null,null,null,null,null,null],execute:function(){l._RF.push({},"646b1jdVAhEjYOaHNzLi1SR","spline-gizmo",void 0),l._RF.pop()}}}));

System.register("chunks:///_virtual/spline-grid-util.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var e,r,t,n,o,l,c,a;return{setters:[function(i){e=i.applyDecoratedDescriptor,r=i.inheritsLoose,t=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){o=i.cclegacy,l=i._decorator,c=i.Component,a=i.Vec3}],execute:function(){var p,s,u,d;o._RF.push({},"6d6a74dRY9Ax653BXWidhUA","spline-grid-util",void 0);var f=l.ccclass,y=l.property;i("SplineGridUtil",f("SplineGridUtil")((u=e((s=function(i){function e(){for(var e,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=i.call.apply(i,[this].concat(o))||this,t(e,"splineNodeGrid",u,n(e)),t(e,"splineDirectionGrid",d,n(e)),e}return r(e,i),e.prototype.start=function(){},e}(c)).prototype,"splineNodeGrid",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(1,1,1)}}),d=e(s.prototype,"splineDirectionGrid",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(1,1,1)}}),p=s))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/spline-node-controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./controller.ts","./utils.ts","./types.ts","./index.ts","./npm.ts"],(function(i){"use strict";var e,t,n,o,s,r,c,d,l;return{setters:[function(i){e=i.inheritsLoose},function(i){t=i.cclegacy,n=i.Color,o=i.Vec3},function(i){s=i.default},function(i){r=i.createLineShape,c=i.getNodeWorldPostion},function(i){d=i.SplineMoveType},null,function(i){l=i.cce}],execute:function(){t._RF.push({},"055a8DTQf1L86joS8tyMPw+","spline-node-controller",void 0);var h=10;i("default",function(i){function t(e){var t;return(t=i.call(this,e)||this)._node=null,t._splineNode=null,t._directionLineShape=null,t.positionNode=null,t.directionNode=null,t.invDirectionNode=null,t.initShape(),t}e(t,i);var s=t.prototype;return s.initShape=function(){this.createShapeNode("BoxController");var i=l.gizmos.ControllerUtils.cube(h,h,h,n.YELLOW);i.parent=this.shape,this.positionNode=i,this.initHandle(i,d.Position),(i=l.gizmos.ControllerUtils.cube(h,h,h,n.YELLOW)).parent=this.shape,this.directionNode=i,this.initHandle(i,d.Direction),(i=l.gizmos.ControllerUtils.cube(h,h,h,n.YELLOW)).parent=this.shape,this.invDirectionNode=i,this.initHandle(i,d.InvDirection),this._directionLineShape=r("Direction Line",n.RED),this._directionLineShape.parent=this.shape,this.hide()},s.onShow=function(){this.registerCameraMovedEvent(),this.hideDirection()},s.onHide=function(){this.unregisterCameraMoveEvent()},s.showDirection=function(){this.directionNode.active=!0,this.invDirectionNode.active=!0,this._directionLineShape.active=!0,this.updateLineMesh()},s.hideDirection=function(){this.directionNode.active=!1,this.invDirectionNode.active=!1,this._directionLineShape.active=!1},s.setSplineNode=function(i,e){this._splineNode=e,this._node=i,this.adjustControllerSize(),this.shape.setWorldPosition(c(i,this._splineNode.position)),this.directionNode.setWorldPosition(c(i,this._splineNode.direction)),this.invDirectionNode.setWorldPosition(c(i,this._splineNode.invDirection)),this.updateLineMesh(),this.updateController()},s.updateLineMesh=function(){this._directionLineShape.updatePoints([this.directionNode.position,this.invDirectionNode.position])},s.getSplineNodeWorldPosition=function(){return this.positionNode.getWorldPosition(new o)},s.getSplineNodeWorldDirection=function(){return this.directionNode.getWorldPosition(new o)},s.getSplineNodeWorldInvDirection=function(){return this.invDirectionNode.getWorldPosition(new o)},t}(s));t._RF.pop()}}}));

System.register("chunks:///_virtual/spline-node-wrapper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./spline-node.ts"],(function(t){"use strict";var e,o,n,r,i,p,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.createClass},function(t){n=t.cclegacy,r=t._decorator,i=t.Vec3,p=t.Vec2},function(t){s=t.default}],execute:function(){var c,d,l,u,y,a,h;n._RF.push({},"04ae8GydjtEIptiC5odtVpt","spline-node-wrapper",void 0);var f=r.ccclass,g=r.property,O=r.type;t("default",(c=f("SplineNodeWrapper"),d=O(s),l=O(i),u=O(i),y=O(p),c((e((h=function(){function t(){this.node=null}return t.create=function(e){var o=new t;return o.node=e,o},o(t,[{key:"splineNode",get:function(){return this.node}},{key:"position",get:function(){return this.node?this.node.position:i.ZERO},set:function(t){this.node&&(this.node.position=t)}},{key:"direction",get:function(){return this.node?this.node.direction:i.ZERO},set:function(t){this.node&&(this.node.direction=t)}},{key:"scale",get:function(){return this.node?this.node.scale:p.ONE},set:function(t){this.node&&(this.node.scale=t)}},{key:"roll",get:function(){return this.node?this.node.roll:0},set:function(t){this.node&&(this.node.roll=t)}}]),t}()).prototype,"splineNode",[d],Object.getOwnPropertyDescriptor(h.prototype,"splineNode"),h.prototype),e(h.prototype,"position",[l],Object.getOwnPropertyDescriptor(h.prototype,"position"),h.prototype),e(h.prototype,"direction",[u],Object.getOwnPropertyDescriptor(h.prototype,"direction"),h.prototype),e(h.prototype,"scale",[y],Object.getOwnPropertyDescriptor(h.prototype,"scale"),h.prototype),e(h.prototype,"roll",[g],Object.getOwnPropertyDescriptor(h.prototype,"roll"),h.prototype),a=h))||a));n._RF.pop()}}}));

System.register("chunks:///_virtual/spline-node.ts",["./rollupPluginModLoBabelHelpers.js","cc","./event.ts"],(function(t){"use strict";var e,i,o,n,r,s,c,p,l,u,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,c=t._decorator,p=t.Component,l=t.Vec3,u=t.Vec2},function(t){a=t.default}],execute:function(){var h,y,f,_,g,d,b;s._RF.push({},"ea25fgiLE9K94BRKQOBQ6rg","spline-node",void 0);var w=c.ccclass,v=c.property;t("default",w("SplineNode")((f=e((y=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).changed=new a,o(e,"_position",f,n(e)),o(e,"_direction",_,n(e)),o(e,"_up",g,n(e)),o(e,"_scale",d,n(e)),o(e,"_roll",b,n(e)),e}return i(e,t),r(e,[{key:"position",get:function(){return this._position},set:function(t){this._position.equals(t)||(this._position.set(t),this.changed.invoke(this))}},{key:"direction",get:function(){return this._direction},set:function(t){this._direction.equals(t)||(this._direction.set(t),this.changed.invoke(this))}},{key:"invDirection",get:function(){return this.position.clone().multiplyScalar(2).subtract(this.direction)},set:function(t){this.direction=this.position.clone().multiplyScalar(2).subtract(t)}},{key:"up",get:function(){return this._up},set:function(t){this._up.equals(t)||(this._up.set(t),this.changed.invoke(this))}},{key:"scale",get:function(){return this._scale},set:function(t){this._scale.equals(t)||(this._scale.set(t),this.changed.invoke(this))}},{key:"roll",get:function(){return this._roll},set:function(t){this._roll!==t&&(this._roll=t,this.changed.invoke(this))}}]),e}(p)).prototype,"_position",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),e(y.prototype,"position",[v],Object.getOwnPropertyDescriptor(y.prototype,"position"),y.prototype),_=e(y.prototype,"_direction",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),e(y.prototype,"direction",[v],Object.getOwnPropertyDescriptor(y.prototype,"direction"),y.prototype),g=e(y.prototype,"_up",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.UP.clone()}}),e(y.prototype,"up",[v],Object.getOwnPropertyDescriptor(y.prototype,"up"),y.prototype),d=e(y.prototype,"_scale",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.ONE.clone()}}),e(y.prototype,"scale",[v],Object.getOwnPropertyDescriptor(y.prototype,"scale"),y.prototype),b=e(y.prototype,"_roll",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(y.prototype,"roll",[v],Object.getOwnPropertyDescriptor(y.prototype,"roll"),y.prototype),h=y))||h);s._RF.pop()}}}));

System.register("chunks:///_virtual/spline-smoother.ts",["./rollupPluginModLoBabelHelpers.js","cc","./spline.ts","./pool.ts"],(function(e){"use strict";var t,n,i,o,s,r,h,a,l,d,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){r=e.cclegacy,h=e._decorator,a=e.Vec3,l=e.Component},function(e){d=e.default},function(e){c=e.default}],execute:function(){var u,p,g,m,f;r._RF.push({},"f4722OckFpGqb0dQB+UAi/S","spline-smoother",void 0);var v=h.ccclass,C=h.property,N=h.executeInEditMode;e("splineSmoother",(u=v("splineSmoother"),p=C({step:.1}),u(g=N((f=t((m=function(e){function t(){var t;return(t=e.call(this)||this)._smoothing=!1,t._spline=null,i(t,"_curvature",f,o(t)),t.splineNodeListChanged=t.splineNodeListChanged.bind(o(t)),t.onNodeChanged=t.onNodeChanged.bind(o(t)),t}n(t,e);var r=t.prototype;return r.onEnable=function(){this.smoothAll(),this.spline.nodeListChanged.addListener(this.splineNodeListChanged);for(var e=0;e<this.spline.nodes.length;e++)this.spline.nodes[e].changed.addListener(this.onNodeChanged)},r.onDisable=function(){this.spline.nodeListChanged.removeListener(this.splineNodeListChanged);for(var e=0;e<this.spline.nodes.length;e++)this.spline.nodes[e].changed.removeListener(this.onNodeChanged)},r.splineNodeListChanged=function(e){if(null!=e.newItems)for(var t=0;t<e.newItems.length;t++)e.newItems[t].changed.addListener(this.onNodeChanged);if(null!=e.removedItems)for(var n=0;n<e.removedItems.length;n++)e.removedItems[n].changed.removeListener(this.onNodeChanged)},r.onNodeChanged=function(e){this.smoothNode(e);var t=this.spline.nodes,n=t.indexOf(e);n>0&&this.smoothNode(t[n-1]),n<t.length-1&&this.smoothNode(t[n+1])},r.smoothNode=function(e){if(!this._smoothing){this._smoothing=!0;var t=this.spline.nodes,n=t.indexOf(e),i=e.position,o=c.Vec3.get().set(a.ZERO),s=c.Vec3.get(),r=0;if(0!==n){var h=t[n-1].position,l=s.set(i).subtract(h);r+=l.length(),o.add(l.normalize())}if(n!=t.length-1){var d=t[n+1].position,u=s.set(i).subtract(d);r+=u.length(),o.subtract(u.normalize())}r*=.5;var p=(o=o.normalize().multiplyScalar(r*this.curvature)).add(i);e.direction=p,c.Vec3.put(o),c.Vec3.put(s),this._smoothing=!1}},r.smoothAll=function(){for(var e=this.spline.nodes,t=0;t<e.length;t++)this.smoothNode(e[t])},s(t,[{key:"spline",get:function(){return this._spline||(this._spline=this.getComponent(d)),this._spline}},{key:"curvature",get:function(){return this._curvature},set:function(e){this._curvature=e,this.smoothAll()}}]),t}(l)).prototype,"_curvature",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),t(m.prototype,"curvature",[p],Object.getOwnPropertyDescriptor(m.prototype,"curvature"),m.prototype),g=m))||g)||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/spline-util-base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./spline.ts","./spline-node.ts"],(function(e){"use strict";var t,n,i,s,r,l,o,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.createClass},function(e){s=e.cclegacy,r=e._decorator,l=e.Component},function(e){o=e.default},function(e){p=e.default}],execute:function(){var u,c,a;s._RF.push({},"6eeeaOuhfFI3o1us6WtGstr","spline-util-base",void 0);var h=r.ccclass,f=r.executeInEditMode,d=r.type;e("default",(u=d(o),h(c=f((t((a=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this)._spline=null,t._splineNode=null,t._splineCurve=null,t}return n(t,e),i(t,[{key:"spline",get:function(){if(!this._spline)for(var e=this.node;e&&(this._spline=e.getComponent(o),!this._spline);)e=e.parent;return this._spline}},{key:"splineNode",get:function(){if(!this._splineNode)for(var e=this.node;e&&(this._splineNode=e.getComponent(p),!this._splineNode);)e=e.parent;return this._splineNode}},{key:"splineCurve",get:function(){if(!this._splineCurve){var e=this.splineNode;if(e){var t=e.node.getSiblingIndex();this._splineCurve=this.spline.getCurve(t)}else this._splineCurve=this.spline}return this._splineCurve}}]),t}(l)).prototype,"spline",[u],Object.getOwnPropertyDescriptor(a.prototype,"spline"),a.prototype),c=a))||c)||c));s._RF.pop()}}}));

System.register("chunks:///_virtual/spline-util-renderer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./spline-util-base.ts"],(function(e){"use strict";var t,i,n,r,s,a,h,o,d,l,u,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.createClass},function(e){a=e.cclegacy,h=e._decorator,o=e.Mat4,d=e.js,l=e.find,u=e.Node,c=e.CCObject},function(e){p=e.default}],execute:function(){var g,_,y;a._RF.push({},"c7ffansbHtO8oeW7zNMMVAH","spline-util-renderer",void 0);var f=h.ccclass,C=h.property;e("default",f("SplineUtilRenderer")((y=t((_=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,n(t,"_showGenerated",y,r(t)),t._generated=null,t._dirty=!0,t._dirtyTime=0,t.dirtyWhenSplineMoved=!1,t.splineMatrix=null,t}i(t,e);var a=t.prototype;return a._onDirtyChanged=function(e){e&&!this._dirty&&(this._dirtyTime=0),this._dirty=e},a.onLoad=function(){this.onCurveChanged()},a.onEnable=function(){this.spline&&(this.onCurveChanged&&this.spline.curveChanged.addListener(this.onCurveChanged,this),this.onNodeListChanged&&this.spline.nodeListChanged.addListener(this.onNodeListChanged,this)),this.generated&&(this.generated.active=!0)},a.onDisable=function(){this.spline&&(this.onCurveChanged&&this.spline.curveChanged.removeListener(this.onCurveChanged,this),this.onNodeListChanged&&this.spline.curveChanged.removeListener(this.onNodeListChanged,this)),this.generated&&(this.generated.active=!1)},a.onCurveChanged=function(){this.dirty=!0},a.checkSplineMoved=function(){if(this.dirtyWhenSplineMoved){var e=this.spline.node.worldMatrix;this.splineMatrix?this.splineMatrix.equals(e)||(this.dirty=!0):this.splineMatrix=new o,this.splineMatrix.set(e)}},a.reset=function(){this._generated&&(this._generated.parent=null,this._generated=null),this.onCurveChanged()},a.update=function(e){this.checkSplineMoved(),this.dirty&&this.spline&&(this._dirtyTime+=e,this._dirtyTime>=0&&(this.compute(),this.dirty=!1),CC_EDITOR&&cce.Engine.repaintInEditMode())},a.compute=function(){},s(t,[{key:"showGenerated",get:function(){return this._showGenerated},set:function(e){this._showGenerated=e,this.reset()}},{key:"generated",get:function(){if(!this._generated||this._generated.parent!==this.node){this._generated&&(this._generated.parent=null);var e="generated "+d.getClassName(this);this._generated=l(e,this.node),this._generated||(this._generated=new u(e),this._showGenerated||(this._generated._objFlags|=c.Flags.DontSave|c.Flags.HideInHierarchy),this._generated.parent=this.node)}return this._generated}},{key:"dirty",get:function(){return this._dirty},set:function(e){this._onDirtyChanged(e)}}]),t}(p)).prototype,"_showGenerated",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(_.prototype,"showGenerated",[C],Object.getOwnPropertyDescriptor(_.prototype,"showGenerated"),_.prototype),g=_))||g);a._RF.pop()}}}));

System.register("chunks:///_virtual/spline.ts",["./rollupPluginModLoBabelHelpers.js","cc","./spline-node.ts","./cubic-bezier-curve.ts","./event.ts","./spline-node-wrapper.ts"],(function(e){"use strict";var t,n,i,o,s,d,r,h,a,l,c,p,u,g,N,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){d=e.cclegacy,r=e._decorator,h=e.Vec3,a=e.Node,l=e.find,c=e.warn,p=e.Component},function(e){u=e.default},function(e){g=e.default},function(e){N=e.default},function(e){f=e.default}],execute:function(){var _,v,S,m,C;d._RF.push({},"4f3betNZrFAk5ghozl0TFWc","spline",void 0);var y=r.ccclass,L=r.type,w=r.boolean,A=(r.integer,r.float,r.executeInEditMode),E="__spline_node_root__";e("default",(_=L([u]),v=L(f),y(S=A((t((m=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),d=0;d<n;d++)s[d]=arguments[d];return(t=e.call.apply(e,[this].concat(s))||this).currentSelection=null,t._addSplineNodeAtLast=!1,t._addSplineNodeAfterSelection=!1,t._deleteSelectSplineNode=!1,i(t,"_nodes",C,o(t)),t.curves=[],t.length=0,t._isLoop=!1,t._gizmoEditing=!1,t.nodeListChanged=new N,t.curveChanged=new N,t._nodeRoot=null,t._updatingNodes=!1,t.startNode=null,t.endNode=null,t._samples=[],t._points=[],t._minPos=new h,t._maxPos=new h,t}n(t,e);var d=t.prototype;return d.invokeNodeListChanged=function(){this.nodeListChanged.invoke()},d.invokeCurveChanged=function(){this.curveChanged.invoke()},d.onLoad=function(){this._updateNodes()},d.onEnable=function(){},d.onDisable=function(){},d.addNode=function(e,t,n,i,o){var s=new a("SplineNode"),d=s.addComponent(u);return d.position=e,d.direction=t,void 0!==n&&(d.up=n),void 0!==i&&(d.scale=i),void 0!==o&&(d.roll=o),s.parent=this._nodeRoot,this._nodes.push(d),this._updatingNodes||(this.invokeNodeListChanged(),this._createCurves()),d},d.insertNode=function(e,t,n){var i=new a("SplineNode"),o=i.addComponent(u);return o.position=e,o.direction=t,this._nodeRoot.insertChild(i,n),this._nodes.splice(n,0,o),this._updatingNodes||(this.invokeNodeListChanged(),this._createCurves()),o},d.removeNode=function(e){var t=this._nodes[e];return this._nodeRoot.removeChild(t.node),this._nodes.splice(e,1),this._updatingNodes||(this.invokeNodeListChanged(),this._createCurves()),t},d._updateNodes=function(e){void 0===e&&(e=!0),this._updatingNodes=!0;var t=this._nodeRoot=l(E,this.node);if(t)this._nodes=t.getComponentsInChildren(u);else{if(t=this._nodeRoot=new a(E),this._nodes.length){var n=this._nodes.slice();this._nodes.length=0;for(var i=0;i<n.length;i++){var o=n[i];this.addNode(o.position,o.direction,o.up,o.scale,o.roll)}}else e&&(this.addNode(new h(-5,0,0),new h(-5,0,-3)),this.addNode(new h(5,0,0),new h(5,0,3)));t.parent=this.node}this._createCurves(),this.invokeNodeListChanged(),this._updatingNodes=!1},d._createCurves=function(){this.curves.length=0;for(var e=0;e<this.nodes.length-1;e++){var t=this.nodes[e],n=this.nodes[e+1],i=new g(t,n);i.changed.addListener(this.updateAfterCurveChanged,this),this.curves.push(i)}this.invokeNodeListChanged(),this.updateAfterCurveChanged()},d.getCurves=function(){return this.curves},d.updateAfterCurveChanged=function(){this.length=0;for(var e=0;e<this.curves.length;e++){var t=this.curves[e];this.length+=t.length}this.invokeCurveChanged(),this._points.length=0,this._samples.length=0},d.getSample=function(e,t){var n=this.getNodeIndexForTime(e);return this.curves[n].getSample(e-n,t)},d.getCurve=function(e){return this.curves[this.getNodeIndexForTime(e)]},d.getNodeIndexForTime=function(e){if(e<0||e>this.nodes.length-1)throw new Error("Time must be between 0 and last node index ("+(this.nodes.length-1)+"). Given time was {"+e+"}.");var t=Math.floor(e);return t==this.nodes.length-1&&t--,t},d.getSampleAtDistance=function(e,t){if(e<0||e>this.length)throw new Error("Distance must be between 0 and spline length ("+this.length+"). Given distance was "+e+".");for(var n=0;n<this.curves.length;n++){var i=this.curves[n];if(e>i.length&&e<i.length+1e-4&&(e=i.length),!(e>i.length))return i.getSampleAtDistance(e,t);e-=i.length}throw new Error("Something went wrong with GetSampleAtDistance.")},d.updateLoopBinding=function(){this.startNode&&this.startNode.changed.removeListener(this.startNodeChanged),null!=this.endNode&&this.endNode.changed.removeListener(this.endNodeChanged),this.isLoop?(this.startNode=this.nodes[0],this.endNode=this.nodes[this.nodes.length-1],this.startNode.changed.addListener(this.startNodeChanged),this.endNode.changed.addListener(this.endNodeChanged),this.startNodeChanged()):(this.startNode=null,this.endNode=null)},d.startNodeChanged=function(){var e=this.startNode,t=this.endNode;e&&t&&(t.changed.removeListener(this.endNodeChanged),t.position=e.position,t.direction=e.direction,t.roll=e.roll,t.scale=e.scale,t.up=e.up,t.changed.addListener(this.endNodeChanged))},d.endNodeChanged=function(){var e=this.startNode,t=this.endNode;e&&t&&(e.changed.removeListener(this.startNodeChanged),e.position=t.position,e.direction=t.direction,e.roll=t.roll,e.scale=t.scale,e.up=t.up,e.changed.addListener(this.startNodeChanged))},d.getSamples=function(){if(0===this._samples.length)for(var e=this._samples,t=this.curves,n=0;n<t.length;n++)for(var i=t[n].getSamples(),o=0;o<i.length;o++)e.push(i[o]);return this._samples},d.getPoints=function(){return 0===this._points.length&&this._caclBoundingBox(),this._points},d.getBounding=function(e,t){0===this._points.length&&this._caclBoundingBox(),e.set(this._minPos),t.set(this._maxPos)},d._caclBoundingBox=function(){for(var e=this._points,t=this._minPos.set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),n=this._maxPos.set(-Number.MAX_SAFE_INTEGER,-Number.MAX_SAFE_INTEGER,-Number.MAX_SAFE_INTEGER),i=this.getSamples(),o=0;o<i.length;o++){var s=e[o]=i[o].location;t.x=Math.min(t.x,s.x),t.y=Math.min(t.y,s.y),t.z=Math.min(t.z,s.z),n.x=Math.max(n.x,s.x),n.y=Math.max(n.y,s.y),n.z=Math.max(n.z,s.z)}e.length=i.length},s(t,[{key:"addSplineNodeAtLast",get:function(){return this._addSplineNodeAtLast},set:function(e){if(this._addSplineNodeAtLast!==e){this._addSplineNodeAtLast=e;var t=this.nodes.length-1,n=this.nodes[t],i=this.getSample(t).tangent.clone().multiplyScalar(this.length/this.nodes.length/2);this.addNode(i.add(n.position),n.direction)}}},{key:"addSplineNodeAfterSelection",get:function(){return this._addSplineNodeAfterSelection},set:function(e){if(this._addSplineNodeAfterSelection!==e)if(this._addSplineNodeAfterSelection=e,this.currentSelection){var t=this.nodes.indexOf(this.currentSelection);if(-1!==t){var n=this.getSample(t).tangent.clone().multiplyScalar(this.length/this.nodes.length/2);this.insertNode(n.add(this.currentSelection.position),this.currentSelection.direction,t+1)}}else c("No SpineNode selected.")}},{key:"deleteSelectSplineNode",get:function(){return this._deleteSelectSplineNode},set:function(e){if(this._deleteSelectSplineNode!==e)if(this._deleteSelectSplineNode=e,this.currentSelection){var t=this.nodes.indexOf(this.currentSelection);-1!==t&&this.removeNode(t)}else c("No SpineNode selected.")}},{key:"nodes",get:function(){return this._nodes}},{key:"splineNodes",get:function(){return this._nodes.map((function(e){return f.create(e)}))},set:function(e){}},{key:"isLoop",get:function(){return this._isLoop},set:function(e){this._isLoop=e,this.updateLoopBinding()}},{key:"gizmoEditing",get:function(){return this._gizmoEditing},set:function(e){this._gizmoEditing=e;for(var t=0;t<this.curves.length;t++)this.curves[t].gizmoEditing=e}}]),t}(p)).prototype,"addSplineNodeAtLast",[w],Object.getOwnPropertyDescriptor(m.prototype,"addSplineNodeAtLast"),m.prototype),t(m.prototype,"addSplineNodeAfterSelection",[w],Object.getOwnPropertyDescriptor(m.prototype,"addSplineNodeAfterSelection"),m.prototype),t(m.prototype,"deleteSelectSplineNode",[w],Object.getOwnPropertyDescriptor(m.prototype,"deleteSelectSplineNode"),m.prototype),C=t(m.prototype,"_nodes",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),t(m.prototype,"splineNodes",[v],Object.getOwnPropertyDescriptor(m.prototype,"splineNodes"),m.prototype),t(m.prototype,"isLoop",[w],Object.getOwnPropertyDescriptor(m.prototype,"isLoop"),m.prototype),S=m))||S)||S));d._RF.pop()}}}));

System.register("chunks:///_virtual/SplineCharacterMovement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DebugDraw.ts","./Logger.ts","./ProjectEvent.ts","./curve-sample.ts","./spline.ts","./LevelEnd.ts","./SplineLevelAssembler.ts","./SpeedUpgrades.ts","./CharacterEnums.ts","./ICharacterMovement.ts"],(function(e){"use strict";var t,i,o,n,a,l,s,r,c,h,d,p,_,u,m,v,g,y,f,S,b,w,z,M,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){l=e.cclegacy,s=e._decorator,r=e.Camera,c=e.Vec3,h=e.Quat,d=e.toRadian,p=e.Color},function(e){_=e.DebugDraw},function(e){u=e.logger,m=e.LogCategory,v=e.LogType},function(e){g=e.projectEvent},function(e){y=e.default},function(e){f=e.default},function(e){S=e.LevelEnd},function(e){b=e.SplineLevelAssembler},function(e){w=e.SpeedUpgradeEvent,z=e.speedUpgrade},function(e){M=e.CharacterEvent},function(e){C=e.ICharacterMovement}],execute:function(){var A,E,P,D,R,T,L,N,U,x,G,W,j,k,O,F,B,H,I,V,q,J,Q;l._RF.push({},"5da5dQjv+RPqpiDhhsOtgok","SplineCharacterMovement",void 0);var X=s.ccclass,Y=s.property;e("SplineCharacterMovement",(A=X("SplineCharacterMovement"),E=Y({visible:!0}),P=Y({visible:!0}),D=Y({visible:!0}),R=Y({visible:!0}),T=Y({visible:!0}),L=Y({visible:!0}),N=Y({visible:!0}),U=Y({type:f,visible:!0,group:{id:"debug",name:"Debug"}}),x=Y({visible:!0,group:{id:"debug",name:"Debug"}}),G=Y({type:r,visible:!0,group:{id:"debug",name:"Debug"}}),A((k=t((j=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,o(t,"_speedMin",k,n(t)),o(t,"_speedMax",O,n(t)),o(t,"_groundAcceleration",F,n(t)),o(t,"_diveAcceleration",B,n(t)),o(t,"_diveAngle",H,n(t)),o(t,"_diveSpeedToAngle",I,n(t)),o(t,"_gravity",V,n(t)),o(t,"_spline",q,n(t)),o(t,"_debug",J,n(t)),o(t,"_debugCamera",Q,n(t)),t._accelerate=!1,t._grounded=!1,t._stopped=!1,t._crashed=!1,t._velocity=new c,t._velocityTemp=new c,t._velocityStep=new c,t._outTranslate=new c,t._jumpDirection=new c,t._velocityNormalized=new c,t._finishedSpline=!1,t._outRotation=new h,t._accelaration=new c,t._accelarationNormalized=new c,t._accelarationStep=new c,t._velocityMin=new c,t._velocityMax=new c,t._gravityStep=new c,t._closestSample=null,t}i(t,e);var l=t.prototype;return l.stopMovement=function(){this._stopped=!0,this._velocity=new c(0,0,-1)},l.start=function(){this._debug=!1,null==this._debugCamera&&(this._debug=!1),b.instance&&(this._spline=b.instance.spline),this._finishedSpline=!1,this.initializeWithUpgrades()},l.onEnable=function(){g.on(w[w.SpeedUpgradeChanged],this.initializeWithUpgrades,this)},l.onDisable=function(){g.off(w[w.SpeedUpgradeChanged],this.initializeWithUpgrades,this)},l.initializeWithUpgrades=function(){var e=z.current;this._speedMin=e.Min,this._speedMax=e.Max,this._groundAcceleration=e.AccelerationDive,this._diveAcceleration=e.AccelerationDive,this._speedMin>this._speedMax&&(this._speedMin=this._speedMax-1),this._accelaration.set(c.FORWARD),c.rotateX(this._accelaration,this._accelaration,c.ZERO,d(this._diveAngle)),this._accelarationNormalized.set(this._accelaration),this._accelaration.multiplyScalar(this._diveAcceleration),this._velocity.set(c.FORWARD),this._velocity.multiplyScalar(this._speedMin)},l.update=function(e){if(null!=this._spline&&(this._velocityNormalized.set(this._velocity),this._velocityNormalized.normalize(),h.fromViewUp(this._outRotation,this._velocityNormalized),h.lerp(this._outRotation,this.node.rotation,this._outRotation,.5),this.node.setRotation(this._outRotation),!this._stopped&&!this._crashed&&(this.node.worldPosition.z<S.instance.node.worldPosition.z&&0==this._finishedSpline&&(this._finishedSpline=!0,this.node.emit(M[M.StartFinalJump]),this._grounded&&this.jump(this._closestSample)),0==this._finishedSpline&&this.tryGetBackOnSpline(),this._accelerate&&(this._grounded?(this._accelarationStep.set(this._velocity),this._accelarationStep.normalize(),this._accelarationStep.multiplyScalar(this._groundAcceleration),this._accelarationStep.multiplyScalar(e),this._velocity.add(this._accelarationStep)):(this._accelarationStep.set(this._accelaration),this._accelarationStep.multiplyScalar(e),this._velocity.add(this._accelarationStep),this._velocityTemp.set(this._velocity),this._velocityTemp.normalize(),this._velocityTemp.dot(this._accelarationNormalized)<.9&&(this._velocityTemp.lerp(this._accelarationNormalized,e*this._diveSpeedToAngle),this._velocityTemp.multiplyScalar(this._velocity.length()),this._velocity.set(this._velocityTemp))),this._debug&&_.line(this._debugCamera,this.node.worldPosition,this.node.worldPosition.clone().add(this._accelarationStep),new p(194,101,14))),this._gravityStep.set(this._gravity),this._gravityStep.multiplyScalar(e),this._velocity.add(this._gravityStep),this._velocityMin.set(this._velocity),this._velocityMin.normalize(),this._velocityMin.multiplyScalar(this._speedMin),this._velocityMax.set(this._velocity),this._velocityMax.normalize(),this._velocityMax.multiplyScalar(this._speedMax),this._velocity.clampf(this._velocityMin,this._velocityMax),this._velocityStep.set(this._velocity),this._velocityStep.multiplyScalar(e),this._outTranslate.set(this.node.getWorldPosition()),this._outTranslate.add(this._velocityStep),this._outTranslate.z<S.instance.node.worldPosition.z&&this._outTranslate.y<S.instance.node.worldPosition.y&&(this._outTranslate.y=S.instance.node.worldPosition.y,this.stopMovement(),this.node.emit(M[M.ReachedEnd])),this.node.setWorldPosition(this._outTranslate),this._debug))){var t=new c(this._velocity);t.normalize(),t.add(this.node.worldPosition),_.line(this._debugCamera,this.node.worldPosition,t,p.YELLOW)}},l.jump=function(e){this._grounded=!1,this.node.emit(M[M.LeaveGround],e,this._velocity),this._debug&&u.log("JUMP! airborneDirection: "+this._jumpDirection)},l.land=function(e){this._grounded=!0,this.node.emit(M[M.Landed],e)},l.tryGetBackOnSpline=function(){for(var e=this._spline.curves,i=-1,o=0;o<e.length;++o)this.node.worldPosition.z<=e[o].n1.position.z&&(i=o);if(-1!=i){for(var n=-1,a=Number.MAX_VALUE,l=e[i],s=0;s<l.getSamples().length;s++){var r=l.getSamples()[s].location.clone().subtract(this.node.worldPosition).lengthSqr();r<a&&(a=r,n=s)}if(-1!=n){var h=null,d=null;if(this.node.worldPosition.z>l.getSamples()[n].location.z?(h=l.getSamples()[n-1],d=l.getSamples()[n]):(h=l.getSamples()[n],d=l.getSamples()[n+1]),null!=h)if(null!=d){var g=new c;c.subtract(g,d.location,h.location);var f=new c;c.subtract(f,this.node.worldPosition,h.location);var S=c.dot(f,g),b=g.length(),w=S/b/b;if(w<0&&(w*=-1),this._closestSample=y.lerp(h,d,w),this._debug&&(_.circle(this._debugCamera,h.location),_.circle(this._debugCamera,d.location),_.circle(this._debugCamera,this._closestSample.location,p.GREEN),_.line(this._debugCamera,this._closestSample.location,this._closestSample.location.clone().add(this._closestSample.tangent),p.GREEN),_.line(this._debugCamera,this._closestSample.location,this._closestSample.location.clone().add(this._closestSample.transformedUp),p.BLUE)),null!=this._closestSample)if(this.node.worldPosition.y<this._closestSample.location.y){this._grounded||this.land(this._closestSample),this.node.setWorldPosition(this._closestSample.location);var z=this._velocity.length();this._velocityNormalized.set(this._velocity),this._velocityNormalized.normalize();var M=c.dot(this._velocityNormalized,this._closestSample.transformedUp),C=c.dot(this._velocity,this._closestSample.transformedUp);if(M<-.95)u.log("[CharacterMovement] Hit an uphill that would crash, setting speed to min."),z=this._speedMin;else if(M<-.5){u.log("[CharacterMovement] Hit spline: dot: "+C+" dotNormalized: "+M+" < -0.5 = "+(M<-.5),m.Gameplay);var A=(z-this._speedMin)/2;u.log("[CharacterMovement] Hit an uphill with speed: "+z+", speed penalty: "+A+", new speed: "+(z-A),m.Gameplay),z-=A}this._velocity.set(this._closestSample.tangent),this._velocity.multiplyScalar(z)}else this._grounded&&this.node.worldPosition.y-this._closestSample.location.y>.5&&this.jump(this._closestSample);else u.log("[CharacterMovement] LerpSample is null",m.Gameplay,v.Error)}else u.log("nextSample is null",m.Gameplay,v.Error);else u.log("previousSample is null",m.Gameplay,v.Error)}else u.log("["+t.name+"] Closest sample index not found!",m.Gameplay,v.Error)}else u.log("["+t.name+"] No spline node found after the player position!",m.Gameplay,v.Error)},l.crash=function(){u.log("[CharacterMovement] Crashed!!!",m.Gameplay),this._crashed=!0,this.node.emit(M[M.ReachedEnd])},a(t,[{key:"velocity",get:function(){return this._velocity}},{key:"grounded",get:function(){return this._grounded}},{key:"stopped",get:function(){return this._stopped}},{key:"accelerate",get:function(){return this._accelerate},set:function(e){this._accelerate=e}}]),t}(C)).prototype,"_speedMin",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),O=t(j.prototype,"_speedMax",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),F=t(j.prototype,"_groundAcceleration",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),B=t(j.prototype,"_diveAcceleration",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),H=t(j.prototype,"_diveAngle",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-60}}),I=t(j.prototype,"_diveSpeedToAngle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),V=t(j.prototype,"_gravity",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0,-9.81,0)}}),q=t(j.prototype,"_spline",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(j.prototype,"_debug",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=t(j.prototype,"_debugCamera",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=j))||W));l._RF.pop()}}}));

System.register("chunks:///_virtual/SplineLevelAssembler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./spline.ts","./GameEnums.ts","./CoinsSower.ts","./Level.ts","./LevelEnd.ts","./LevelEnums.ts","./LevelTheme.ts","./LevelThemeController.ts"],(function(e){"use strict";var n,t,l,i,s,o,r,a,d,c,h,u,m,g,p,v,b,_,f,y,L,T,x,w,k,I,A;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,l=e.inheritsLoose,i=e.assertThisInitialized,s=e.createClass},function(e){o=e.cclegacy,r=e._decorator,a=e.Prefab,d=e.Color,c=e.randomRangeInt,h=e.instantiate,u=e.director,m=e.Vec3,g=e.Component},function(e){p=e.logger,v=e.LogCategory,b=e.LogType},function(e){_=e.projectEvent},function(e){f=e.default},function(e){y=e.GameEvent},function(e){L=e.default},function(e){T=e.Level},function(e){x=e.LevelEnd},function(e){w=e.LevelEvent},function(e){k=e.LevelTheme},function(e){I=e.LevelThemeEvent,A=e.levelThemeController}],execute:function(){var D,S,C,E,z,N,U,G,V,P,B,H,M,j,R,F,W,q,K,O,J,Q,X,Y,Z,$,ee;o._RF.push({},"3b6c130jadK6oihLPAC7jM/","SplineLevelAssembler",void 0);var ne=r.ccclass,te=r.property,le=(r.requireComponent,r.executeInEditMode,e("LevelThemeSetting",(D=ne("LevelThemeSetting"),S=te({type:a,visible:!0}),C=te({type:a,visible:!0}),E=te({type:d,visible:!0}),z=te({type:d,visible:!0}),D((G=n((U=function(){t(this,"base",G,this),t(this,"ending",V,this),t(this,"colorAccent",P,this),t(this,"colorBorder",B,this)}).prototype,"base",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(U.prototype,"ending",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(U.prototype,"colorAccent",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(0,0,255,255)}}),B=n(U.prototype,"colorBorder",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(0,0,255,255)}}),N=U))||N)));e("SplineLevelAssembler",(H=ne("SplineLevelAssembler"),M=te({type:[a],visible:!0}),j=te({type:le,visible:!0}),R=te({visible:!0}),F=te({visible:!0,group:{id:"debug",name:"Debug"}}),W=te({type:a,visible:!0,group:{id:"debug",name:"Debug"}}),q=te({visible:!0,group:{id:"debug",name:"Debug"}}),H(((ee=function(e){function n(){for(var n,l=arguments.length,s=new Array(l),o=0;o<l;o++)s[o]=arguments[o];return n=e.call.apply(e,[this].concat(s))||this,t(n,"_levels",J,i(n)),t(n,"_themes",Q,i(n)),t(n,"_firstNodeBackDistance",X,i(n)),t(n,"_debug",Y,i(n)),t(n,"_debugSphere",Z,i(n)),t(n,"_debugAssemble",$,i(n)),n._selectedTheme=0,n._spline=null,n}l(n,e);var o=n.prototype;return o.onLoad=function(){console.log("SplineLevelAssembler.onLoad"),n._instance?this.node.destroy():n._instance=this},o.onEnable=function(){_.on(y[y.GE_LoadLevel],this.assembleLevel,this),_.on(I[I.LevelThemeUnlocked],this.onThemeUnlocked,this)},o.onDisable=function(){_.off(y[y.GE_LoadLevel],this.assembleLevel,this),_.off(I[I.LevelThemeUnlocked],this.onThemeUnlocked,this)},o.onDestroy=function(){n._instance===this&&(n._instance=null)},o.onThemeUnlocked=function(e){null!=e&&(Array.isArray(e)?n._recentlyUnlockedLevelThemeIndex=e[0]:n._recentlyUnlockedLevelThemeIndex=e,p.log(n.name+" unlocked level theme, using next: "+n._recentlyUnlockedLevelThemeIndex))},o.assembleLevel=function(){if(null!=this._levels[n._levelIndex]){p.log("Assembling level "+n._levelIndex,v.Gameplay);var e=this._levels[n._levelIndex].data.getComponent(T),t=A.themesUnlocked,l=n._recentlyUnlockedLevelThemeIndex;if(-1==l?(l=c(0,t.length),p.log(n.name+" randomizing level theme, selected: "+l)):(n._recentlyUnlockedLevelThemeIndex=-1,p.log(n.name+" using recently unlocked theme, selected: "+l)),this._selectedTheme=t[l],this._selectedTheme>=this._themes.length&&(this._selectedTheme=this._themes.length-1,p.log("selectedThemeIndex is invalid: "+this._selectedTheme,v.Gameplay,b.Warning)),p.log("Selected theme "+this._selectedTheme,v.Gameplay),null!=this._themes[this._selectedTheme].base)if(null!=this._themes[this._selectedTheme].ending){var i=this._themes[this._selectedTheme],s=h(i.base),o=s.getComponent(k);o.applySkybox(),_.emit(I[I.LevelThemeApplyBorderColor],i.colorBorder),this._spline=s.getComponent(f),this._spline.node.setParent(u.getScene()),this._spline._nodes=[];this.addNode(new m(0,0,this._firstNodeBackDistance)),this.addNode(new m(0,0,0));var r=2*e.hillsCount.randomIntValue();this._debug&&p.log("["+n.name+"] Total Nodes "+r);for(var a=0,d=0,g=0;g<r-3;g++){var y=a-=e.nodesDescent.randomValue();y+=g%2==0?e.valleyHeight.randomValue():e.hillHeight.randomValue(),d-=e.nodesDistance.randomValue();var D=new m(0,y,d);this.addNode(D,e.smoothness)}a-=e.nodesDescent.randomValue(),d-=e.nodesDistance.max,this.addNode(new m(0,a+e.hillHeight.min,d)),a-=e.nodesDescent.randomValue(),d-=e.nodesDistance.max,this.addNode(new m(0,a+e.valleyHeight.randomValue(),d)),a-=e.nodesDescent.randomValue(),d-=e.nodesDistance.max;var S=a+e.lastHillHeight.randomValue();this.addNode(new m(0,S,d));var C=h(this._themes[this._selectedTheme].ending);C.setParent(u.getScene()),C.setWorldPosition(new m(0,S,d)),this._debug&&p.log("["+n.name+"] Ending node placed at "+C.worldPosition);var E=C.getComponent(x);E&&E.applyMaterials(o.getMaterialRoad(),o.getMaterialGround()),this._spline.node.getComponentInChildren(L).setup(e),n._levelIndex++,n._levelIndex>=this._levels.length&&(n._levelIndex=0),this.scheduleOnce((function(){_.emit(w[w.LevelAssembled])}),.1)}else p.log("Level theme ending is null at index: "+this._selectedTheme,v.Gameplay,b.Error);else p.log("Level theme base is null at index: "+this._selectedTheme,v.Gameplay,b.Error)}else p.log("Level is null at index: "+n._levelIndex,v.Gameplay,b.Error)},o.addNode=function(e,t){void 0===t&&(t=3);var l=new m(e.x,e.y,e.z-t);if(this._spline.addNode(e,l),this._debug){if(this._debugSphere)h(this._debugSphere).worldPosition=this._spline.nodes[this._spline.nodes.length-1].position;p.log("["+n.name+"] Level node placed at "+this._spline.nodes[0].position)}},s(n,[{key:"debugAssemble",get:function(){return this._debugAssemble},set:function(e){this._debugAssemble=e,console.log("test"),this.assembleLevel()}},{key:"spline",get:function(){return this._spline}},{key:"themeSetting",get:function(){return this._themes[this._selectedTheme]}}],[{key:"instance",get:function(){return n._instance}}]),n}(g))._instance=null,ee._levelIndex=0,ee._recentlyUnlockedLevelThemeIndex=-1,J=n((O=ee).prototype,"_levels",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=n(O.prototype,"_themes",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=n(O.prototype,"_firstNodeBackDistance",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),Y=n(O.prototype,"_debug",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Z=n(O.prototype,"_debugSphere",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(O.prototype,"_debugAssemble",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),K=O))||K));o._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,i,o;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,n=e._decorator,i=e.Sprite,o=e.Component}],execute:function(){var p;r._RF.push({},"028afSgFyBL+LXV3sQ6a3xF","SpriteHelper",void 0);var s=n.ccclass,c=(n.property,n.requireComponent);e("SpriteHelper",s("SpriteHelper")(p=c(i)(p=function(e){function r(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this)._sprite=null,t}t(r,e);var n=r.prototype;return n.onLoad=function(){this._sprite=this.node.getComponent(i)},n.enableSprite=function(){this._sprite.enabled=!0},n.disableSprite=function(){this._sprite.enabled=!1},r}(o))||p)||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/StuntTrigger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./PrefabPool.ts","./ProjectEvent.ts","./PlayerCharacter.ts","./GameEnums.ts"],(function(e){"use strict";var t,n,i,r,o,s,a,u,l,c,d,f,p,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.EventHandler,u=e.Component},function(e){l=e.logger,c=e.LogCategory},function(e){d=e.PrefabPool},function(e){f=e.projectEvent},function(e){p=e.PlayerCharacter},function(e){g=e.GameEvent}],execute:function(){var y,P,h,b,_,v,m,w,z;o._RF.push({},"7f5cdtXOUxDqqJTvbc17DYf","StuntTrigger",void 0);var E=s.ccclass,S=s.property;e("StuntTrigger",(y=E("StuntTrigger"),P=S({visible:!0}),h=S({visible:!0,type:[a]}),b=S({visible:!0}),y((m=t((v=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_detectionOffsetY",m,r(t)),i(t,"_onPlayerPassed",w,r(t)),i(t,"_debug",z,r(t)),t._used=!1,t}n(t,e);var o=t.prototype;return o.setUnused=function(){this._used=!1},o.update=function(e){if(p.instance){var n=p.instance.node.worldPosition.y>this.node.worldPosition.y+this._detectionOffsetY,i=p.instance.node.worldPosition.z<this.node.worldPosition.z;if(this._debug&&l.log(t.name+" passedZ: "+i+" && passedY: "+n+"?? : "+(i&&n),c.Gameplay),!this._used&&i&&n)this._debug&&l.log(t.name+" Requesting stunt play",c.Gameplay),f.emit(g[g.GE_PlayerPerformStunt]),a.emitEvents(this._onPlayerPassed),this._used=!0;else if(i){var r=p.instance.node.worldPosition.z-this.node.worldPosition.z;(r=Math.abs(r))>10&&d.instance.putByName(this.node.name,this.node)}}},t}(u)).prototype,"_detectionOffsetY",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-2}}),w=t(v.prototype,"_onPlayerPassed",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(v.prototype,"_debug",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=v))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/Tappable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InputEnums.ts"],(function(t){"use strict";var e,n,i,r,a,o,c,s,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.createClass,i=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,s=t.EventHandler,u=t.Component},function(t){p=t.InputEvent}],execute:function(){var l,h,f,y,_;o._RF.push({},"9af9dOKerdLvJjnt/yI4qE+","Tappable",void 0);var v=c.ccclass,m=c.property,T=(t("Tappable",(l=v("Tappable"),h=m({type:[s],visible:!0,formerlySerializedAs:"onTap"}),l((_=e((y=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,r(e,"_onTap",_,a(e)),e}return i(e,t),e.prototype.tap=function(t,e){var n=new T(t,e);this.node.emit(p[p.Input_Tap],n),s.emitEvents(this._onTap,n)},e}(u)).prototype,"_onTap",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=y))||f)),t("TapData",function(){function t(t,e){this._touchPosition=null,this._camera=null,this._touchPosition=t,this._camera=e}return n(t,[{key:"touchScreenPosition",get:function(){return this._touchPosition}},{key:"camera",get:function(){return this._camera}}]),t}()));o._RF.pop()}}}));

System.register("chunks:///_virtual/TargetFrameRate.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,a,i,n,o,s,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,s=e.game,c=e.PhysicsSystem,u=e.Component}],execute:function(){var l,p,m,g,f;n._RF.push({},"1f69aW14X9HOY0E+Ih7IsSS","TargetFrameRate",void 0);var h=o.ccclass,y=o.property;e("TargetFrameRate",(l=h("TargetFrameRate"),p=y({visible:!0}),l((f=t((g=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,a(t,"_targetFrameRate",f,i(t)),t}return r(t,e),t.prototype.onLoad=function(){s.setFrameRate(this._targetFrameRate),c.instance.fixedTimeStep=1/this._targetFrameRate},t}(u)).prototype,"_targetFrameRate",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),m=g))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/terrain-sculpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./spline-util-renderer.ts","./type.ts","./curve-sample.ts","./mesh-vertex.ts","./animation-curve.ts","./utils.ts","./mathf.ts","./spline.ts","./scatter-volume.ts"],(function(t){"use strict";var e,i,r,o,n,a,s,l,u,p,c,h,f,y,d,v,g,m,_,b,O,T,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createForOfIteratorHelperLoose,a=t.createClass},function(t){s=t.cclegacy,l=t._decorator,u=t.Vec2,p=t.Vec3,c=t.CurveRange,h=t.Terrain,f=t.clamp},function(t){y=t.default},function(t){d=t.VolumeType},function(t){v=t.default},function(t){g=t.default},function(t){m=t.default},function(t){_=t.node2nodePos,b=t.getNodeWorldPostion},function(t){O=t.pointPolygonMinDistXZ},function(t){T=t.default},function(t){w=t.ScatterVolume}],execute:function(){var D,S,C,W,z,P,k,j,N,x,H,M,B,V,L,R,F,I,A,G;s._RF.push({},"075aejG0z5GtrxYCQTb/NXl","terrain-sculpt",void 0);var X=l.ccclass,Q=l.property,Y=l.type,Z=new v,q=new g,E=new u,J=new p,K=new p,U=new p;t("TerrainSculpt",(D=X("TerrainSculpt"),S=Y(d),C=Y(d),W=Y(c),z=Y(c),P=Y(w),k=Y(w),j=Y(h),N=Y(h),x=Q({editorOnly:!0}),D((B=e((M=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(e,"_volumeType",B,o(e)),r(e,"_lineWidth",V,o(e)),r(e,"_lineSmoothWidth",L,o(e)),r(e,"_lineSmootCurve",R,o(e)),r(e,"_heightOffset",F,o(e)),r(e,"_volumes",I,o(e)),r(e,"_terrain",A,o(e)),e.dirtyWhenSplineMoved=!0,r(e,"_originTerrainData",G,o(e)),e._clearCacheOldTerrainData=!1,e}i(e,t);var s=e.prototype;return s.testBlocks=function(t,e,i){for(var r,o=n(this._terrain.getBlocks());!(r=o()).done;){var a=r.value,s=a.getRect();E.set(t,e),s.contains(E)&&(i.includes(a)||i.push(a))}},s.calcVolumeHeight=function(t,e){for(var i=this.volumes,r=0;r<i.length;r++)i[r]&&i[r].includePos(t)&&(e*=i[r].volume);return e},s.compute=function(){var t=this.splineCurve,e=this.terrain;if(t&&e){var i=new Array,r=this._originTerrainData,o={};if(this._volumeType===d.Line){var n=this.lineSmoothWidth,a=this.lineWidth,s=a+n,l=e.vertexCount,u=this.lineSmootCurve,p=e.tileSize;t.getBounding(K,U),K.x-=s,K.z-=s,U.x+=s,U.z+=s,_(this.spline.node,this.terrain.node,K,K),_(this.spline.node,this.terrain.node,U,U);var c=K.x,h=K.z,y=U.x,v=U.z;if(c=Math.floor(c/p),h=Math.floor(h/p),y=Math.floor(y/p),v=Math.floor(v/p),c>l[0]-1||y<0)return;if(h>l[1]-1||v<0)return;c=f(c,0,l[0]-1),h=f(h,0,l[1]-1),y=f(y,0,l[0]-1),v=f(v,0,l[1]-1);for(var g=t.getPoints(),m=this.heightOffset,w=h;w<=v;w++)for(var D=c;D<=y;D++){J.set(D*p,0,w*p),_(this.terrain.node,this.spline.node,J,J);var S=O(J,g),C=S.dist;if(!(C>s)){var W=f((S.index-1+S.t)/(g.length-1),0,1)*(this.splineCurve instanceof T?this.spline.curves.length:1);t.getSample(W,Z),q.position.set(0,0,C),Z.getBent(q,q),_(this.spline.node,this.terrain.node,q.position,q.position);var z=q.position.y;if(C>a){var P=(C-a)/n;z*=u.evaluate(P,.5)}b(this.terrain.node,q.position,q.position),z=this.calcVolumeHeight(q.position,z),z+=m;var k=D+"_"+w;if(!o[k]){if(!r[k]){var j=e.getNormal(D,w);r[k]=[e.getHeight(D,w),j]}o[k]=!0,e.setHeight(D,w,z),this.testBlocks(D,w,i)}}}}for(var N in o){var x=N.split("_"),H=Number(x[0]),M=Number(x[1]),B=e._calcNormal(H,M);e._setNormal(H,M,B)}for(var V in r)if(!o[V]){var L=V.split("_"),R=Number(L[0]),F=Number(L[1]),I=r[V];e.setHeight(R,F,I[0]),e._setNormal(R,F,I[1]),this.testBlocks(R,F,i),delete r[V]}for(var A=0,G=i;A<G.length;A++){G[A]._updateHeight()}}},a(e,[{key:"volumeType",get:function(){return this._volumeType},set:function(t){this._volumeType=t,this.dirty=!0}},{key:"lineWidth",get:function(){return this._lineWidth},set:function(t){this._lineWidth=t,this.dirty=!0}},{key:"lineSmoothWidth",get:function(){return this._lineSmoothWidth},set:function(t){this._lineSmoothWidth=t,this.dirty=!0}},{key:"lineSmootCurve",get:function(){return this._lineSmootCurve},set:function(t){this._lineSmootCurve=t,t&&(t.curve.postWrapMode=1),this.dirty=!0}},{key:"heightOffset",get:function(){return this._heightOffset},set:function(t){this._heightOffset=t,this.dirty=!0}},{key:"volumes",get:function(){return this._volumes},set:function(t){this._volumes=t,this.dirty=!0}},{key:"terrain",get:function(){return this._terrain},set:function(t){this._terrain=t,this._originTerrainData={},this.dirty=!0}},{key:"clearCacheOldTerrainData",get:function(){return this._clearCacheOldTerrainData},set:function(t){this._originTerrainData={},this.terrain._asset=this.terrain._asset,this._clearCacheOldTerrainData=t,this.dirty=!0}}]),e}(y)).prototype,"_volumeType",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.Line}}),e(M.prototype,"volumeType",[C],Object.getOwnPropertyDescriptor(M.prototype,"volumeType"),M.prototype),V=e(M.prototype,"_lineWidth",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),e(M.prototype,"lineWidth",[Q],Object.getOwnPropertyDescriptor(M.prototype,"lineWidth"),M.prototype),L=e(M.prototype,"_lineSmoothWidth",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),e(M.prototype,"lineSmoothWidth",[Q],Object.getOwnPropertyDescriptor(M.prototype,"lineSmoothWidth"),M.prototype),R=e(M.prototype,"_lineSmootCurve",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.easeInOut(0,1,1,0)}}),e(M.prototype,"lineSmootCurve",[z],Object.getOwnPropertyDescriptor(M.prototype,"lineSmootCurve"),M.prototype),F=e(M.prototype,"_heightOffset",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(M.prototype,"heightOffset",[Q],Object.getOwnPropertyDescriptor(M.prototype,"heightOffset"),M.prototype),I=e(M.prototype,"_volumes",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),e(M.prototype,"volumes",[k],Object.getOwnPropertyDescriptor(M.prototype,"volumes"),M.prototype),A=e(M.prototype,"_terrain",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(M.prototype,"terrain",[N],Object.getOwnPropertyDescriptor(M.prototype,"terrain"),M.prototype),G=e(M.prototype,"_originTerrainData",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),e(M.prototype,"clearCacheOldTerrainData",[Q],Object.getOwnPropertyDescriptor(M.prototype,"clearCacheOldTerrainData"),M.prototype),H=M))||H));s._RF.pop()}}}));

System.register("chunks:///_virtual/TouchController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./Draggable.ts","./Holdable.ts","./Tappable.ts"],(function(t){"use strict";var i,e,o,n,a,s,r,h,l,u,c,g,d,p,b,_,f,v,m,y,T;return{setters:[function(t){i=t.extends,e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,h=t._decorator,l=t.Camera,u=t.BitMask,c=t.PhysicsSystem,g=t.input,d=t.Input,p=t.game,b=t.Vec2,_=t.geometry,f=t.Component},function(t){v=t.logger},function(t){m=t.Draggable},function(t){y=t.Holdable},function(t){T=t.Tappable}],execute:function(){var D,H,I,L,M,S,E,k,C,w,x,F,P,B;r._RF.push({},"4e1b0GHVi1IfJ8x0OM8H5sb","TouchController",void 0);var R,z=h.ccclass,U=h.property;t("TouchController",(D=z("TouchController"),H=U({type:l,visible:!0,formerlySerializedAs:"camera"}),I=U({visible:!0,min:0,formerlySerializedAs:"maxTapInterval"}),L=U({visible:!0,min:0,tooltip:"Move distance in pixels"}),M=U({visible:!0}),S=U({visible:!0,type:u(i({},c.PhysicsGroup))}),D(((B=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,n(i,"_camera",C,a(i)),n(i,"_maxTapInterval",w,a(i)),n(i,"_minMovementToDrag",x,a(i)),n(i,"_verboseLogging",F,a(i)),n(i,"_raycastMask",P,a(i)),i._touchData=[],i}o(i,t);var e=i.prototype;return e.onLoad=function(){i._instance?this.node.destroy():i._instance=this},e.start=function(){g.on(d.EventType.TOUCH_START,this.onTouchStart,this),g.on(d.EventType.TOUCH_MOVE,this.onTouchMove,this),g.on(d.EventType.TOUCH_END,this.onTouchEnd,this),g.on(d.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.update=function(){for(var t=0;t<this._touchData.length;t++){var i=this._touchData[t];i.isEligibleForTap(p.frameStartTime,this._maxTapInterval)||(i.isEligibleForDrag()&&i.startDrag(i.position,p.frameStartTime,this._camera,this._verboseLogging),i.isEligibleForHold()&&i.startHold(i.position,this._camera,this._verboseLogging))}},e.onDestroy=function(){i._instance==this&&(i._instance=null)},e.onTouchStart=function(t){if(!t.currentTarget){this.getTouchDataById(t.touch.getID())&&this.removeTouchById(t.touch.getID());var i=new A(t.touch.getID(),t.touch.getLocation(),t.touch.lastModified);this._touchData.push(i);var e=this.getNodeUnderTouch(i.position);e&&(i.tappable=e.getComponent(T),i.holdable=e.getComponent(y),i.draggable=e.getComponent(m))}},e.onTouchMove=function(t){var i=this.getTouchDataById(t.touch.getID());if(i&&!i.isEligibleForTap(t.touch.lastModified,this._maxTapInterval))switch(i.status){case R.Starting:i.isEligibleForDrag()&&this.isMoveRelevant(t.touch.getLocation(),i.position)&&i.startDrag(t.touch.getLocation(),t.touch.lastModified,this._camera,this._verboseLogging),i.isEligibleForHold()&&(this.isMoveRelevant(t.touch.getLocation(),i.position)||i.startHold(i.position,this._camera,this._verboseLogging));break;case R.Dragging:i.updatePosition(t.touch.getLocation(),t.touch.lastModified),i.draggable.updateDrag(i.position,this._camera);break;case R.Holding:var e=this.getNodeUnderTouch(t.touch.getLocation());null!=e&&e.getComponent(y)==i.holdable||i.endHold(this._verboseLogging)}},e.onTouchEnd=function(t){var i=this.getTouchDataById(t.touch.getID());if(null!=i){switch(i.status){case R.Starting:i.isEligibleForTap(t.touch.lastModified,this._maxTapInterval)&&(this._verboseLogging&&v.log("Touch with id "+i.id+" is a tap on "+i.tappable.node.name),i.tappable.tap(t.touch.getLocation(),this._camera));break;case R.Dragging:i.endDrag(t.touch.getLocation(),t.touch.lastModified,this._camera,this._verboseLogging);break;case R.Holding:i.endHold(this._verboseLogging)}this.removeTouchById(t.touch.getID())}},e.onTouchCancel=function(t){this.removeTouchById(t.touch.getID())},e.getTouchDataById=function(t){var i=this._touchData.findIndex((function(i){return i.id==t}));return i>-1?this._touchData[i]:null},e.removeTouchById=function(t){var i=this._touchData.findIndex((function(i){return i.id==t}));i>-1&&this._touchData.splice(i,1)},e.isMoveRelevant=function(t,i){var e=new b(0,0);return b.subtract(e,t,i),e.lengthSqr()<this._minMovementToDrag*this._minMovementToDrag},e.getNodeUnderTouch=function(t){var i=new _.Ray;if(this._camera.screenPointToRay(t.x,t.y,i),c.instance.raycast(i,this._raycastMask)){for(var e=c.instance.raycastResults,o=null,n=Number.MAX_VALUE,a=0;a<e.length;a++)e[a].distance<n&&(n=e[a].distance,o=e[a]);if(o)return o.collider.node}return null},i}(f))._instance=null,C=e((k=B).prototype,"_camera",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(k.prototype,"_maxTapInterval",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),x=e(k.prototype,"_minMovementToDrag",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),F=e(k.prototype,"_verboseLogging",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=e(k.prototype,"_raycastMask",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.PhysicsGroup.DEFAULT}}),E=k))||E));!function(t){t[t.Starting=0]="Starting",t[t.Dragging=1]="Dragging",t[t.Holding=2]="Holding",t[t.Done=3]="Done"}(R||(R={}));var A=function(){function t(t,i,e){this._id=void 0,this._positionHistory=[],this._onScreen=!0,this._tappable=null,this._draggable=null,this._holdable=null,this._status=R.Starting,this._id=t,this.updatePosition(i,e),this._onScreen=!0}var i=t.prototype;return i.updatePosition=function(t,i){this._positionHistory.push(new O(t,i))},i.hasMoved=function(){return this._positionHistory.length>1},i.isEligibleForTap=function(t,i){return null!=this.tappable&&this.status==R.Starting&&this.tappable.enabled&&t-this.startTime<i},i.isEligibleForDrag=function(){return null!=this.draggable&&(this.status==R.Starting||this.status==R.Holding)&&this.draggable.enabled},i.isEligibleForHold=function(){return null!=this.holdable&&this.status==R.Starting&&this.holdable.enabled},i.startDrag=function(t,i,e,o){void 0===o&&(o=!1),o&&v.log("Touch with id "+this.id+" is starting a drag on "+this.draggable.node.name),this.status==R.Holding&&this.endHold(o),this.status=R.Dragging,this.draggable.startDrag(t,e),this.updatePosition(t,i)},i.startHold=function(t,i,e){void 0===e&&(e=!1),e&&v.log("Touch with id "+this.id+" is starting a hold on "+this.holdable.node.name),this.status=R.Holding,this.holdable.startHold(t,i)},i.endDrag=function(t,i,e,o){void 0===o&&(o=!1),o&&v.log("Touch with id "+this.id+" is ending a drag on "+this.draggable.node.name),this.status=R.Done,this.draggable.endDrag(t,e)},i.endHold=function(t){void 0===t&&(t=!1),t&&v.log("Touch with id "+this.id+" is ending a hold on "+this.holdable.node.name),this.status=R.Done,this.holdable.endHold()},s(t,[{key:"id",get:function(){return this._id}},{key:"startTime",get:function(){return this._positionHistory[0].time}},{key:"onScreen",get:function(){return this._onScreen},set:function(t){this._onScreen=t}},{key:"position",get:function(){return this._positionHistory[this._positionHistory.length-1].position}},{key:"startPosition",get:function(){return this._positionHistory[0].position}},{key:"tappable",get:function(){return this._tappable},set:function(t){this._tappable=t}},{key:"draggable",get:function(){return this._draggable},set:function(t){this._draggable=t}},{key:"holdable",get:function(){return this._holdable},set:function(t){this._holdable=t}},{key:"status",get:function(){return this._status},set:function(t){this._status=t}}]),t}(),O=function(){function t(t,i,e){void 0===e&&(e=!1),this._position=b.ZERO,this._time=0,this._moving=void 0,this._position=t,this._time=i,this._moving=e}return s(t,[{key:"position",get:function(){return this._position}},{key:"time",get:function(){return this._time}},{key:"moving",get:function(){return this._moving},set:function(t){this._moving=t}}]),t}();r._RF.pop()}}}));

System.register("chunks:///_virtual/TransformMeshesToUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CustomizationEnums.ts"],(function(o){"use strict";var n,t,e,s,i,r,u;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator,s=o.MeshRenderer,i=o.UIMeshRenderer,r=o.Component},function(o){u=o.CustomizationEvent}],execute:function(){var c;t._RF.push({},"3d1c3WHsy5Nxo2aJxjlUBBQ","TransformMeshesToUI",void 0);var a=e.ccclass;e.property,o("TransformMeshesToUI",a("TransformMeshesToUI")(c=function(o){function t(){return o.apply(this,arguments)||this}n(t,o);var e=t.prototype;return e.onLoad=function(){this.node.on(u[u.CustomizationApplied],this.onCustomizationApplied,this)},e.onCustomizationApplied=function(){this.node.getComponentsInChildren(s).forEach((function(o){o.getComponent(i)||o.addComponent(i)}))},t}(r))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/TweenBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TweenEnums.ts"],(function(e){"use strict";var t,n,i,r,a,o,u,s,l,c,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,u=e.Node,s=e.Enum,l=e.CCBoolean,c=e.EventHandler,p=e.Component},function(e){f=e.TweenEasing}],execute:function(){var h,b,y,m,d,g,w,v,C,z,S,R,T,B,E,V,D,_,H;a._RF.push({},"d9856qOejhH7aDieMy/A3MW","TweenBase",void 0);var L=o.ccclass,M=o.property;e("TweenBase",(h=L("TweenBase"),b=M(u),y=M({min:0,unit:"sec"}),m=M({min:0,unit:"sec"}),d=M({type:s(f)}),g=M(l),w=M(l),v=M({type:[c],displayOrder:20}),C=M({type:[c],displayOrder:20}),h((R=t((S=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"target",R,r(t)),i(t,"delay",T,r(t)),i(t,"duration",B,r(t)),i(t,"easing",E,r(t)),i(t,"useCustomStartValue",V,r(t)),i(t,"useRelativeValue",D,r(t)),i(t,"onStart",_,r(t)),i(t,"onComplete",H,r(t)),t.tweenCache=void 0,t.tweenReverseCache=void 0,t.options={},t}n(t,e);var a=t.prototype;return a.onLoad=function(){var e=this;this.target||(this.target=this.node),this.options.onStart=function(t){c.emitEvents(e.onStart,t)}.bind(this),this.options.onComplete=function(t){c.emitEvents(e.onComplete,t)}.bind(this),this.options.easing=f[this.easing]},a.play=function(){this.useCustomStartValue&&this.reset(),this.tweenCache.start()},a.reset=function(){},a.playReverse=function(){var e;null==(e=this.tweenReverseCache)||e.start()},a.stop=function(){this.tweenCache.stop()},t}(p)).prototype,"target",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(S.prototype,"delay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=t(S.prototype,"duration",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),E=t(S.prototype,"easing",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.linear}}),V=t(S.prototype,"useCustomStartValue",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=t(S.prototype,"useRelativeValue",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=t(S.prototype,"onStart",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(S.prototype,"onComplete",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=S))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/TweenCollection.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TweenBase.ts"],(function(e){"use strict";var n,t,o,i,r,s,c,l;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,c=e.Component},function(e){l=e.TweenBase}],execute:function(){var a,u,p;r._RF.push({},"3ca0eUR64hHCIpL0fRF8hQx","TweenCollection",void 0);var h=s.ccclass,f=s.property,w=s.menu;e("TweenCollection",h("TweenCollection")(a=w("Tween/Collection")((p=n((u=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return n=e.call.apply(e,[this].concat(r))||this,o(n,"getInChildren",p,i(n)),n.tweens=[],n}t(n,e);var r=n.prototype;return r.onLoad=function(){this.getInChildren?this.tweens=this.node.getComponentsInChildren(l):this.tweens=this.node.getComponents(l)},r.play=function(){this.tweens.forEach((function(e){e.play()}))},r.reset=function(){this.tweens.forEach((function(e){e.reset()}))},r.playReverse=function(){this.tweens.forEach((function(e){e.playReverse()}))},r.stop=function(){this.tweens.forEach((function(e){e.stop()}))},n}(c)).prototype,"getInChildren",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=u))||a)||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/TweenEnums.ts",["cc"],(function(u){"use strict";var n;return{setters:[function(u){n=u.cclegacy}],execute:function(){var t;u("TweenEasing",void 0),n._RF.push({},"dae1f6+YdpIfrf5W5sHkb2b","TweenEnums",void 0),function(u){u[u.linear=0]="linear",u[u.smooth=1]="smooth",u[u.fade=2]="fade",u[u.constant=3]="constant",u[u.quadIn=4]="quadIn",u[u.quadOut=5]="quadOut",u[u.quadInOut=6]="quadInOut",u[u.quadOutIn=7]="quadOutIn",u[u.cubicIn=8]="cubicIn",u[u.cubicOut=9]="cubicOut",u[u.cubicInOut=10]="cubicInOut",u[u.cubicOutIn=11]="cubicOutIn",u[u.quartIn=12]="quartIn",u[u.quartOut=13]="quartOut",u[u.quartInOut=14]="quartInOut",u[u.quartOutIn=15]="quartOutIn",u[u.quintIn=16]="quintIn",u[u.quintOut=17]="quintOut",u[u.quintInOut=18]="quintInOut",u[u.quintOutIn=19]="quintOutIn",u[u.sineIn=20]="sineIn",u[u.sineOut=21]="sineOut",u[u.sineInOut=22]="sineInOut",u[u.sineOutIn=23]="sineOutIn",u[u.expoIn=24]="expoIn",u[u.expoOut=25]="expoOut",u[u.expoInOut=26]="expoInOut",u[u.expoOutIn=27]="expoOutIn",u[u.circIn=28]="circIn",u[u.circOut=29]="circOut",u[u.circInOut=30]="circInOut",u[u.circOutIn=31]="circOutIn",u[u.elasticIn=32]="elasticIn",u[u.elasticOut=33]="elasticOut",u[u.elasticInOut=34]="elasticInOut",u[u.elasticOutIn=35]="elasticOutIn",u[u.backIn=36]="backIn",u[u.backOut=37]="backOut",u[u.backInOut=38]="backInOut",u[u.backOutIn=39]="backOutIn",u[u.bounceIn=40]="bounceIn",u[u.bounceOut=41]="bounceOut",u[u.bounceInOut=42]="bounceInOut",u[u.bounceOutIn=43]="bounceOutIn"}(t||(t=u("TweenEasing",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/TweenNodePosition.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TweenBase.ts"],(function(t){"use strict";var e,i,a,n,o,s,r,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,r=t.tween,u=t.Vec3},function(t){l=t.TweenBase}],execute:function(){var h,c,p,d;o._RF.push({},"09f00cyaRdMraH6RbUaiRdA","TweenNodePosition",void 0);var y=s.ccclass,v=s.property,w=s.menu;t("TweenNodePosition",y("TweenNodePosition")(h=w("Tween/Position")((p=e((c=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,a(e,"valueStart",p,n(e)),a(e,"valueEnd",d,n(e)),e}i(e,t);var o=e.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this),this.useCustomStartValue?this.target.setPosition(this.valueStart):this.valueStart.set(this.target.position),this.useRelativeValue?(this.tweenCache=r(this.target).delay(this.delay).by(this.duration,{position:this.valueEnd},this.options).repeat(1),this.tweenReverseCache=r(this.target).delay(this.delay).by(this.duration,{position:this.valueStart},this.options).repeat(1)):(this.tweenCache=r(this.target).delay(this.delay).to(this.duration,{position:this.valueEnd},this.options).repeat(1),this.tweenReverseCache=r(this.target).delay(this.delay).to(this.duration,{position:this.valueStart},this.options).repeat(1))},o.reset=function(){this.target.setPosition(this.valueStart)},e}(l)).prototype,"valueStart",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),d=e(c.prototype,"valueEnd",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(1,1,1)}}),h=c))||h)||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/TweenNodeRotation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TweenBase.ts"],(function(e){"use strict";var t,i,a,n,r,s,o,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,o=e.tween,l=e.Vec3},function(e){u=e.TweenBase}],execute:function(){var h,c,p,d;r._RF.push({},"925cc7HsYRKfKoUI6HIv/Em","TweenNodeRotation",void 0);var v=s.ccclass,y=s.property,g=s.menu;e("TweenNodeRotation",v("TweenNodeRotation")(h=g("Tween/Rotation")((p=t((c=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,a(t,"valueStart",p,n(t)),a(t,"valueEnd",d,n(t)),t}i(t,e);var r=t.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),this.useCustomStartValue?this.target.eulerAngles.set(this.valueStart):this.valueStart=this.target.eulerAngles,this.useRelativeValue?(this.tweenCache=o(this.target).delay(this.delay).by(this.duration,{eulerAngles:this.valueEnd},this.options).repeat(1),this.tweenReverseCache=o(this.target).delay(this.delay).by(this.duration,{eulerAngles:this.valueStart},this.options).repeat(1)):(this.tweenCache=o(this.target).delay(this.delay).to(this.duration,{eulerAngles:this.valueEnd},this.options).repeat(1),this.tweenReverseCache=o(this.target).delay(this.delay).to(this.duration,{eulerAngles:this.valueStart},this.options).repeat(1))},r.reset=function(){this.target.eulerAngles.set(this.valueStart)},t}(u)).prototype,"valueStart",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),d=t(c.prototype,"valueEnd",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(1,1,1)}}),h=c))||h)||h);r._RF.pop()}}}));

System.register("chunks:///_virtual/TweenNodeScale.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TweenBase.ts"],(function(e){"use strict";var t,i,a,n,s,r,l,o,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,l=e.tween,o=e.Vec3},function(e){u=e.TweenBase}],execute:function(){var c,h,d,p;s._RF.push({},"12ea43w32ZDAL2+IVCNZlsZ","TweenNodeScale",void 0);var v=r.ccclass,w=r.property,y=r.menu;e("TweenNodeScale",v("TweenNodeScale")(c=y("Tween/Scale")((d=t((h=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,a(t,"valueStart",d,n(t)),a(t,"valueEnd",p,n(t)),t}i(t,e);var s=t.prototype;return s.onLoad=function(){e.prototype.onLoad.call(this),this.useCustomStartValue?this.target.setScale(this.valueStart):this.valueStart.set(this.target.scale),this.initializeTween()},s.initializeTween=function(){this.useRelativeValue?(this.tweenCache=l(this.target).delay(this.delay).by(this.duration,{scale:this.valueEnd},this.options).repeat(1),this.tweenReverseCache=l(this.target).delay(this.delay).by(this.duration,{scale:this.valueStart},this.options).repeat(1)):(this.tweenCache=l(this.target).delay(this.delay).to(this.duration,{scale:this.valueEnd},this.options).repeat(1),this.tweenReverseCache=l(this.target).delay(this.delay).to(this.duration,{scale:this.valueStart},this.options).repeat(1))},s.reset=function(){this.target.setScale(this.valueStart)},s.setValues=function(e,t){this.valueStart=e,this.valueEnd=t,this.initializeTween()},s.setEndValue=function(e){this.valueEnd=e,this.initializeTween()},t}(u)).prototype,"valueStart",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new o}}),p=t(h.prototype,"valueEnd",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new o(1,1,1)}}),c=h))||c)||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/TweenPunchScale.ts",["cc"],(function(){"use strict";var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"2f99335XsBIDLj0yn+vPddq","TweenPunchScale",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/TweenUIOpacity.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./TweenBase.ts"],(function(t){"use strict";var e,i,a,n,r,s,o,p,c,u,h,l,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,o=t.CCInteger,p=t.UIOpacity,c=t.tween},function(t){u=t.logger,h=t.LogCategory,l=t.LogType},function(t){y=t.TweenBase}],execute:function(){var d,g,v,O,f,w,b,m;r._RF.push({},"1eddcq+dFJL6Kd35j8xBAOw","TweenUIOpacity",void 0);var C=s.ccclass,I=s.property,S=(s.requireComponent,s.menu);t("TweenUIOpacity",(d=C("TweenUIOpacity"),g=S("Tween/UIOpacity"),v=I({type:o,range:[0,255],step:1,slide:!0}),O=I({type:o,range:[0,255],step:1,slide:!0}),d(f=g((b=e((w=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,a(e,"valueStart",b,n(e)),a(e,"valueEnd",m,n(e)),e.uiOpacity=void 0,e}i(e,t);var r=e.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this),this.uiOpacity=this.target.getComponent(p),this.uiOpacity||(u.log("WARNING: target: "+this.target.name+" does not have UIOpacity, adding it, please add at edit time because it is probably better than adding at runtime",h.UI,l.Warning),this.uiOpacity=this.target.addComponent(p)),this.useCustomStartValue?this.uiOpacity.opacity=this.valueStart:this.valueStart=this.uiOpacity.opacity,this.useRelativeValue?(this.tweenCache=c(this.uiOpacity).delay(this.delay).by(this.duration,{opacity:this.valueEnd},this.options).repeat(1),this.tweenReverseCache=c(this.uiOpacity).delay(this.delay).by(this.duration,{opacity:this.valueStart},this.options).repeat(1)):(this.tweenCache=c(this.uiOpacity).delay(this.delay).to(this.duration,{opacity:this.valueEnd},this.options).repeat(1),this.tweenReverseCache=c(this.uiOpacity).delay(this.delay).to(this.duration,{opacity:this.valueStart},this.options).repeat(1))},r.reset=function(){this.uiOpacity&&(this.uiOpacity.opacity=this.valueStart)},e}(y)).prototype,"valueStart",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=e(w.prototype,"valueEnd",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 255}}),f=w))||f)||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/type.ts",["cc"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.cclegacy,n=e.Enum}],execute:function(){var c;e({ScatterType:void 0,VolumeType:void 0}),t._RF.push({},"33e6exdHldA0LG7DNn25zy1","type",void 0),function(e){e[e.Mesh=0]="Mesh",e[e.Item=1]="Item",e[e.Instance=2]="Instance"}(c||(c=e("ScatterType",{}))),n(c);var u;e("VolumeInfo",(function(){this.volume=0,this.maxCount=0,this.count=0}));!function(e){e[e.Area=0]="Area",e[e.Line=1]="Line"}(u||(u=e("VolumeType",{}))),n(u),t._RF.pop()}}}));

System.register("chunks:///_virtual/types.ts",["cc"],(function(e){"use strict";var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){var n;e("SplineMoveType",void 0),i._RF.push({},"f04a0j9OINCgrkh0zdhdXrp","types",void 0),function(e){e[e.None=0]="None",e[e.Node=1]="Node",e[e.Position=2]="Position",e[e.Direction=3]="Direction",e[e.InvDirection=4]="InvDirection"}(n||(n=e("SplineMoveType",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/UIActivateCanvasOnPreLoad.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,a,n,r,i,o,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,c=e.Canvas,s=e.Component}],execute:function(){var l,p,u,v,d;i._RF.push({},"a9dd7S8gPpP9LjR6e3PGpUP","UIActivateCanvasOnPreLoad",void 0);var f=o.ccclass,y=o.property;e("UIActivateCanvasOnPreLoad",(l=f("UIActivateCanvasOnPreLoad"),p=y({type:c,visible:!0}),l((d=t((v=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,n(t,"_canvas",d,r(t)),t}return a(t,e),t.prototype.__preload=function(){this._canvas&&(this._canvas.enabled=!0)},t}(s)).prototype,"_canvas",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=v))||u));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIBackground.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameController.ts"],(function(n){"use strict";var t,o,r,e,a,i;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,r=n._decorator,e=n.animation,a=n.Component},function(n){i=n.GameController}],execute:function(){var l;o._RF.push({},"f3a37vVNBFELJbEG2VNB7Km","UIBackground",void 0);var c=r.ccclass,s=(r.property,r.requireComponent);n("UIBackground",c("UIBackground")(l=s(e.AnimationController)(l=function(n){function o(){for(var t,o=arguments.length,r=new Array(o),e=0;e<o;e++)r[e]=arguments[e];return(t=n.call.apply(n,[this].concat(r))||this)._animController=null,t._keyFadeIn="fadeIn",t}return t(o,n),o.prototype.start=function(){this._animController=this.getComponent(e.AnimationController),this._animController.setValue(this._keyFadeIn,!i.restarting)},o}(a))||l)||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/UIBatchButtonAudio.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIClickSFX.ts"],(function(t){"use strict";var o,n,e,r,c,u,i;return{setters:[function(t){o=t.inheritsLoose,n=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy,r=t._decorator,c=t.Button,u=t.Component},function(t){i=t.UIClickSFX}],execute:function(){var a;e._RF.push({},"43dd4fs+g5ND7pQtSnq4dis","UIBatchButtonAudio",void 0);var s=r.ccclass;r.property,t("UIBatchButtonAudio",s("UIBatchButtonAudio")(a=function(t){function e(){for(var o,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(o=t.call.apply(t,[this].concat(e))||this)._keyUITap="sfx_ui_generic_tap",o}return o(e,t),e.prototype.start=function(){for(var t,o=this.node.getComponentsInChildren(c),e=n(o);!(t=e()).done;){var r=t.value,u=r.getComponent(i);null==u&&((u=r.addComponent(i))._audioKey=this._keyUITap)}},e}(u))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIBorderColor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./LevelThemeController.ts"],(function(r){"use strict";var e,o,t,n,i,l,p,s,c,a;return{setters:[function(r){e=r.applyDecoratedDescriptor,o=r.inheritsLoose,t=r.initializerDefineProperty,n=r.assertThisInitialized},function(r){i=r.cclegacy,l=r._decorator,p=r.Sprite,s=r.Component},function(r){c=r.projectEvent},function(r){a=r.LevelThemeEvent}],execute:function(){var u,d,f,h,v;i._RF.push({},"7ea0abfnUxAiK8HYd9SogkG","UIBorderColor",void 0);var y=l.ccclass,C=l.property;r("UIBorderColor",(u=y("UIBorderColor"),d=C({type:[p],visible:!0}),u((v=e((h=function(r){function e(){for(var e,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return e=r.call.apply(r,[this].concat(i))||this,t(e,"_borderSprites",v,n(e)),e}o(e,r);var i=e.prototype;return i.onLoad=function(){c.on(a[a.LevelThemeApplyBorderColor],this.onApplyBorderColor,this)},i.onDestroy=function(){c.off(a[a.LevelThemeApplyBorderColor],this.onApplyBorderColor,this)},i.onApplyBorderColor=function(r){for(var e=0;e<this._borderSprites.length;e++)this._borderSprites[e].color=r},e}(s)).prototype,"_borderSprites",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIButtonCloseTutorial.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./GameEnums.ts","./GameController.ts"],(function(t){"use strict";var e,n,i,o,r,l,a,u,c,s,p,f,h,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Button,u=t.Node,c=t.animation,s=t.AnimationClip,p=t.Component},function(t){f=t.projectEvent},function(t){h=t.GameEvent},function(t){b=t.GameController}],execute:function(){var _,v,y,d,m,g,C,T,S,z,E,I,G;r._RF.push({},"3f2963/PeNLNYYbHUDhEOzN","UIButtonCloseTutorial",void 0);var w=l.ccclass,B=l.property;t("UIButtonCloseTutorial",(_=w("UIButtonCloseTutorial"),v=B({visible:!0,type:a}),y=B({visible:!0,type:u}),d=B({visible:!0,type:c.AnimationController}),m=B({visible:!0,type:s}),g=B({visible:!0}),_((S=e((T=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"_button",S,o(e)),i(e,"_holder",z,o(e)),i(e,"_controller",E,o(e)),i(e,"_clipIntro",I,o(e)),i(e,"_keyClose",G,o(e)),e.canStart=!1,e}n(e,t);var r=e.prototype;return r.onEnable=function(){f.on(h[h.GE_WaitingToStart],this.onWaitingToStart,this)},r.onDisable=function(){f.off(h[h.GE_WaitingToStart],this.onWaitingToStart,this)},r.onLoad=function(){this._button.node.active=!1,this._holder.active=!1},r.onWaitingToStart=function(){var t=this;this._button.node.active=!0,this._holder.active=!0,this.scheduleOnce((function(){t.canStart=!0}),this._clipIntro.duration)},r.onClick=function(){this.canStart&&(b.instance.startGame(),this.node.active=!1,this._button.node.active=!1,this._controller&&this._controller.setValue(this._keyClose,!0))},e}(p)).prototype,"_button",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(T.prototype,"_holder",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(T.prototype,"_controller",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(T.prototype,"_clipIntro",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(T.prototype,"_keyClose",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"close"}}),C=T))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIButtonRestart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameController.ts"],(function(t){"use strict";var e,r,n,o,s;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,o=t.Component},function(t){s=t.GameController}],execute:function(){var a;r._RF.push({},"aecc3eyrV5CIJ3gY0IvvvqR","UIButtonRestart",void 0);var c=n.ccclass;n.property,t("UIButtonRestart",c("UIButtonRestart")(a=function(t){function r(){return t.apply(this,arguments)||this}e(r,t);var n=r.prototype;return n.restartGame=function(){s.instance.restartGame(!1)},n.goToMenu=function(){s.instance.restartGame(!0)},r}(o))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/UIButtonStart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameController.ts"],(function(t){"use strict";var r,n,e,o,u,a;return{setters:[function(t){r=t.inheritsLoose,n=t.asyncToGenerator},function(t){e=t.cclegacy,o=t._decorator,u=t.Component},function(t){a=t.GameController}],execute:function(){var c;e._RF.push({},"d97b7uthpROcqUQ04yZ+xyO","UIButtonStart",void 0);var s=o.ccclass;o.property,t("UIButtonStart",s("UIButtonStart")(c=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.startGame=function(){var t=n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.instance.setAsWaitingToStart();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e}(u))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/UICharacter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameController.ts"],(function(t){"use strict";var r,e,n,o,a,c;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,o=t.animation,a=t.Component},function(t){c=t.GameController}],execute:function(){var i;e._RF.push({},"30bcaNDHcxMp7Ur+QdmRGPz","UICharacter",void 0);var s=n.ccclass;n.property,t("UICharacter",s("UICharacter")(i=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){var t=!c.restarting;this.getComponent(o.AnimationController).setValue("intro",t)},e}(a))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIClickSFX.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(e){"use strict";var i,t,n,r,o,a,l,c,s,u,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,l=e._decorator,c=e.Button,s=e.Prefab,u=e.Component},function(e){y=e.AudioManager}],execute:function(){var p,d,f,h,k,g,v,_;a._RF.push({},"9173aMkALVIoLKQ9YSJ5EVS","UIClickSFX",void 0);var b=l.ccclass,C=l.property,m=l.requireComponent;e("UIClickSFX",(p=b("UIClickSFX"),d=m(c),f=C({visible:!0}),h=C({type:s,visible:!0,displayName:"OldKey (deprecated)",formerlySerializedAs:"key"}),p(k=d((v=i((g=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,n(i,"_audioKey",v,r(i)),n(i,"_key",_,r(i)),i}t(i,e);var a=i.prototype;return a.onLoad=function(){this.node.on(c.EventType.CLICK,this.onclick,this)},a.onclick=function(){var e;this.key.length>0&&(null==(e=y.instance)||e.playByKey(this.key))},o(i,[{key:"key",get:function(){return 0==this._audioKey.length?this._key.data.node.name:this._audioKey}}]),i}(u)).prototype,"_audioKey",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=i(g.prototype,"_key",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=g))||k)||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/UICoinCollectFeedback.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./PrefabPool.ts","./ProjectEvent.ts","./MainCamera.ts","./GameEnums.ts","./PlayerCharacter.ts","./TweenEnums.ts"],(function(e){"use strict";var n,t,o,r,i,a,c,s,l,u,p,f,b,m,d,v,g,_,h,C,y,P,w,E;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.asyncToGenerator},function(e){a=e.cclegacy,c=e._decorator,s=e.Enum,l=e.Prefab,u=e.Node,p=e.Canvas,f=e.Component,b=e.ParticleSystem,m=e.Vec3,d=e.tween},function(e){v=e.logger,g=e.LogCategory,_=e.LogType},function(e){h=e.PrefabPool},function(e){C=e.projectEvent},function(e){y=e.MainCamera},function(e){P=e.GameEvent},function(e){w=e.PlayerCharacter},function(e){E=e.TweenEasing}],execute:function(){var I,T,U,z,k,F,G,L,x,D,R,j,J;a._RF.push({},"73cd2NGeOJJhYbeJFnsxKGc","UICoinCollectFeedback",void 0);var M=c.ccclass,N=c.property;e("UICoinCollectFeedback",(I=M("UICoinCollectFeedback"),T=N({visible:!0}),U=N({type:s(E)}),z=N({visible:!0,type:l}),k=N({visible:!0,type:u}),F=N({visible:!0,type:u}),I((x=n((L=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,o(n,"_duration",x,r(n)),o(n,"easing",D,r(n)),o(n,"_prefabParticle",R,r(n)),o(n,"_pivotTo",j,r(n)),o(n,"_container",J,r(n)),n._canvas=null,n}t(n,e);var a=n.prototype;return a.onLoad=function(){null!=this._prefabParticle?(null==this._pivotTo&&v.log(n.name+" no pivot",g.UI,_.Error),null==this._container&&v.log(n.name+" no container",g.UI,_.Error),this._canvas=this.node.parent.getComponent(p),null==this._canvas&&v.log(n.name+" no canvas",g.UI,_.Error),h.instance.initialize(this._prefabParticle)):v.log(n.name+" no prefab",g.UI,_.Error)},a.onEnable=function(){C.on(P[P.GE_CoinComputed],this.onCoinComputed,this)},a.onDisable=function(){C.off(P[P.GE_CoinComputed],this.onCoinComputed,this)},a.onCoinComputed=function(){var e=i(regeneratorRuntime.mark((function e(t,o){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!=o){e.next=2;break}return e.abrupt("return");case 2:this.scheduleOnce((function(){var e=o-t;v.log(n.name+" onCoinComputed");var i=h.instance.get(r._prefabParticle),a=i.getComponent(b);a&&(a.startLifetime.constant=r._duration,a.duration=r._duration,a.bursts.length>0&&(a.bursts[0].count.constant=e)),i.setParent(r._container);var c=w.instance.node.worldPosition,s=new m;y.instance.camera.convertToUINode(c,r._container,s),i.setPosition(s);var l=new m;r._container.inverseTransformPoint(l,r._pivotTo.worldPosition);d(i).to(r._duration,{position:l},{easing:E[r.easing]}).start();h.instance.schedulePut(r._prefabParticle,i,r._duration)}),.1);case 3:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),n}(f)).prototype,"_duration",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.4}}),D=n(L.prototype,"easing",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.cubicIn}}),R=n(L.prototype,"_prefabParticle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=n(L.prototype,"_pivotTo",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(L.prototype,"_container",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=L))||G));a._RF.pop()}}}));

System.register("chunks:///_virtual/UICoinCounter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./GameEnums.ts"],(function(t){"use strict";var n,e,i,o,r,a,s,u,l,c,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Label,u=t.Animation,l=t.Component},function(t){c=t.projectEvent},function(t){p=t.GameEvent}],execute:function(){var f,C,h,m,_,b,d;r._RF.push({},"33851QDQUdG6LHOkF672LEc","UICoinCounter",void 0);var v=a.ccclass,y=a.property;t("UICoinCounter",(f=v("UICoinCounter"),C=y({type:s,visible:!0}),h=y({type:u,visible:!0}),f((b=n((_=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"_label",b,o(n)),i(n,"_anim",d,o(n)),n}e(n,t);var r=n.prototype;return r.resetInEditor=function(){this._anim||(this._anim=this.node.getComponent(u))},r.onEnable=function(){c.on(p[p.GE_CoinComputed],this.onCoinComputed,this),c.on(p[p.GE_StartGame],this.resetCounter,this)},r.onDisable=function(){c.off(p[p.GE_CoinComputed],this.onCoinComputed,this),c.off(p[p.GE_StartGame],this.resetCounter,this)},r.resetCounter=function(){this._label.string="0"},r.onCoinComputed=function(t,n){var e;null==(e=this._anim)||e.play(),this._label.string=n.toString()},n}(l)).prototype,"_label",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=n(_.prototype,"_anim",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=_))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/UICoinCounterRewards.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./GameEnums.ts"],(function(t){"use strict";var e,n,i,o,r,s,u,a,l,c,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,u=t.Label,a=t.tween,l=t.math,c=t.Component},function(t){p=t.projectEvent},function(t){f=t.GameEvent}],execute:function(){var h,C,d,_,v;r._RF.push({},"a2904hJ73FIZZGvsAnIQZ4d","UICoinCounterRewards",void 0);var m=s.ccclass,b=s.property;t("UICoinCounterRewards",(h=m("UICoinCounterRewards"),C=b({type:u,visible:!0}),h((v=e((_=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"_label",v,o(e)),e._targetValue=0,e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.resetCounter()},r.onEnable=function(){p.on(f[f.GE_CoinComputed],this.onCoinComputed,this),p.on(f[f.GE_StartGame],this.resetCounter,this),p.on(f[f.GE_CoinReceivedAfterMultiply],this.onCoinsReceivedAfterMultiply,this)},r.onDisable=function(){p.off(f[f.GE_CoinComputed],this.onCoinComputed,this),p.off(f[f.GE_StartGame],this.resetCounter,this),p.off(f[f.GE_CoinReceivedAfterMultiply],this.onCoinsReceivedAfterMultiply,this)},r.resetCounter=function(){this._label.string="0"},r.onCoinComputed=function(t,e){this._label.string=e.toString()},r.onCoinsReceivedAfterMultiply=function(t){this._targetValue=t},r.changeToAfterBonus=function(){var t=Number.parseInt(this._label.string),e=this._targetValue;a(this).to(.3,null,{onUpdate:function(n,i){n._label.string=l.lerp(t,e,i).toFixed()},onComplete:function(){}}).start()},e}(c)).prototype,"_label",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=_))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/UICurrentCoinMultiplier.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoinMultiplierUpgrades.ts"],(function(e){"use strict";var r,t,n,i,l,o,u,a,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,u=e.Label,a=e.Component},function(e){c=e.coinMultiplierUpgrade}],execute:function(){var s,p,C,b,f;l._RF.push({},"16712dmX+9HK7Fn0ZmuVZWV","UICurrentCoinMultiplier",void 0);var h=o.ccclass,g=o.property;e("UICurrentCoinMultiplier",(s=h("UICurrentCoinMultiplier"),p=g({type:u,visible:!0}),s((f=r((b=function(e){function r(){for(var r,t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return r=e.call.apply(e,[this].concat(l))||this,n(r,"_labelCurrent",f,i(r)),r}return t(r,e),r.prototype.onEnable=function(){null==this._labelCurrent&&(this._labelCurrent=this.getComponentInChildren(u));var e=c.current;this._labelCurrent.string=e.PercentageDesign.toFixed()},r}(a)).prototype,"_labelCurrent",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=b))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/UIDistanceFlew.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./GameController.ts","./GameEnums.ts","./Globals.ts","./LevelEnd.ts","./PlayerCharacter.ts"],(function(t){"use strict";var n,e,a,i,r,o,s,l,c,u,p,f,m,h,v,b,y;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator},function(t){o=t.cclegacy,s=t._decorator,l=t.Label,c=t.Animation,u=t.Component},function(t){p=t.projectEvent},function(t){f=t.GameController},function(t){m=t.GameEvent,h=t.GameState},function(t){v=t.delay},function(t){b=t.LevelEnd},function(t){y=t.PlayerCharacter}],execute:function(){var d,G,_,F,w,S,g;o._RF.push({},"5261cWBHa1A/7ccgJGwY/2s","UIDistanceFlew",void 0);var E=s.ccclass,D=s.property;t("UIDistanceFlew",(d=E("UIDistanceFlew"),G=D({type:l,visible:!0}),_=D({type:c,visible:!0}),d((S=n((w=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n=t.call.apply(t,[this].concat(r))||this,a(n,"_label",S,i(n)),a(n,"_anim",g,i(n)),n}e(n,t);var o=n.prototype;return o.onEnable=function(){p.on(m[m.GE_StartGame],this.onGameStart,this),p.on(m[m.GE_FinalJumpStart],this.onFinalJumpStart,this)},o.onDisable=function(){p.off(m[m.GE_StartGame],this.onGameStart,this),p.off(m[m.GE_FinalJumpStart],this.onFinalJumpStart,this)},o.onGameStart=function(){this._label.string="0",this._anim.node.active=!1},o.onFinalJumpStart=function(){var t=r(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(.2);case 2:this._anim.node.active=!0,null==(n=this._anim)||n.play();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.update=function(t){if(f.instance.state==h.FinalJump){var n=Math.abs(b.instance.node.worldPosition.z),e=Math.abs(y.instance.node.worldPosition.z)-n;this._label.string=e.toFixed()}},n}(u)).prototype,"_label",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=n(w.prototype,"_anim",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=w))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIDistanceReached.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./PlayerEnums.ts"],(function(e){"use strict";var t,n,i,r,a,o,l,c,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Label,c=e.Component},function(e){s=e.projectEvent},function(e){u=e.PlayerEvent}],execute:function(){var d,p,f,y,h,b,v;a._RF.push({},"73751ztvL5O3plk+OTJc7Dx","UIDistanceReached",void 0);var D=o.ccclass,_=o.property;e("UIDistanceReached",(d=D("UIDistanceReached"),p=_({type:l,visible:!0}),f=_({visible:!0}),d((b=t((h=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"_label",b,r(t)),i(t,"_tweenDuration",v,r(t)),t._tween=null,t._targetValue=0,t}n(t,e);var a=t.prototype;return a.onEnable=function(){s.on(u[u.PlayerLandedAtEnd],this.onPlayerLandedAtEnd,this)},a.onDisable=function(){s.off(u[u.PlayerLandedAtEnd],this.onPlayerLandedAtEnd,this)},a.onPlayerLandedAtEnd=function(e){var t=e;this._label.string=t.toFixed()},t}(c)).prototype,"_label",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(h.prototype,"_tweenDuration",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=h))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIEventRaiser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIEvents.ts","./BaseEventRaiser.ts"],(function(e){"use strict";var t,n,i,r,a,s,o,c,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,o=e._decorator,c=e.Enum},function(e){u=e.UIEvents},function(e){l=e.BaseEventRaiser}],execute:function(){var v,p,f,y,h,I,_;s._RF.push({},"51cbayfFYRI0b4PXBU6JCiq","UIEventRaiser",void 0);var b=o.ccclass,d=o.property;e("UIEventRaiser",(v=b("UIEventRaiser"),p=d({visible:!0,type:c(u)}),f=d({visible:!0}),v((I=t((h=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"_eventID",I,r(t)),i(t,"_data",_,r(t)),t}return n(t,e),a(t,[{key:"eventKey",get:function(){return u[this._eventID]}},{key:"data",get:function(){if(this._data.length>0)return this._data;throw"Empty data"}}]),t}(l)).prototype,"_eventID",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.UI_None}}),_=t(h.prototype,"_data",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=h))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIEvents.ts",["cc"],(function(e){"use strict";var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){var t;e("UIEvents",void 0),c._RF.push({},"0ca4at+duJCkoP/GfE97LUV","UIEvents",void 0),function(e){e[e.UI_None=0]="UI_None",e[e.UI_ClickStoreMenu=1]="UI_ClickStoreMenu",e[e.UI_ClickStoreRewards=2]="UI_ClickStoreRewards",e[e.UI_ClickBackMenu=3]="UI_ClickBackMenu",e[e.UI_ClickBackRewards=4]="UI_ClickBackRewards",e[e.UI_ClickPlayMenu=5]="UI_ClickPlayMenu",e[e.UI_ClickPlayRewards=6]="UI_ClickPlayRewards",e[e.UI_ClickGacha=7]="UI_ClickGacha",e[e.UI_ClickMenu=8]="UI_ClickMenu",e[e.UI_ClickStoreTabHelmets=9]="UI_ClickStoreTabHelmets",e[e.UI_ClickStoreTabBodyColors=10]="UI_ClickStoreTabBodyColors",e[e.UI_ClickStoreTabSnowboards=11]="UI_ClickStoreTabSnowboards",e[e.UI_ClickStoreTabStunts=12]="UI_ClickStoreTabStunts",e[e.UI_ClickGachaPull=13]="UI_ClickGachaPull",e[e.UI_ClickGachaPullResultClose=14]="UI_ClickGachaPullResultClose",e[e.UI_ActivateTransition=15]="UI_ActivateTransition",e[e.UI_ActivateStore=16]="UI_ActivateStore",e[e.UI_ActivateRewards=17]="UI_ActivateRewards"}(t||(t=e("UIEvents",{}))),c._RF.pop()}}}));

System.register("chunks:///_virtual/UIEventsListener.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIEvents.ts","./BaseEventListener.ts"],(function(e){"use strict";var t,n,r,i,s,c,o,a,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.createClass},function(e){c=e.cclegacy,o=e._decorator,a=e.Enum},function(e){u=e.UIEvents},function(e){l=e.BaseEventListener}],execute:function(){var v,p,f,I,y;c._RF.push({},"da750P4YkNMQaDYb6vs4+jf","UIEventsListener",void 0);var E=o.ccclass,h=o.property;e("UIEventsListener",(v=E("UIEventsListener"),p=h({visible:!0,type:a(u)}),v((y=t((I=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return t=e.call.apply(e,[this].concat(s))||this,r(t,"_eventID",y,i(t)),t}return n(t,e),s(t,[{key:"eventID",get:function(){return u[this._eventID]}}]),t}(l)).prototype,"_eventID",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.UI_None}}),f=I))||f));c._RF.pop()}}}));

System.register("chunks:///_virtual/UIGachaResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./CustomizationBundleLoader.ts","./CustomizationEnums.ts","./UIStoreButton.ts"],(function(t){"use strict";var e,n,o,i,c,r,s,u,a,l,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){c=t.cclegacy,r=t._decorator,s=t.Node,u=t.Component},function(t){a=t.projectEvent},function(t){l=t.cosmeticDatabase},function(t){p=t.CustomizationEvent},function(t){f=t.UIStoreButton}],execute:function(){var m,h,U,d,v,y,b;c._RF.push({},"43e9aa3cypEYKjeDHkXfP4g","UIGachaResult",void 0);var C=r.ccclass,k=r.property;t("UIGachaResult",(m=C("UIGachaResult"),h=k({type:s,visible:!0}),U=k({type:f,visible:!0}),m((y=e((v=function(t){function e(){for(var e,n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return e=t.call.apply(t,[this].concat(c))||this,o(e,"_contentHolder",y,i(e)),o(e,"_uiUnlockedCosmetic",b,i(e)),e}n(e,t);var c=e.prototype;return c.onEnable=function(){a.on(p[p.CustomizationPreUnlock],this.onUnlockCosmetic,this)},c.onDisable=function(){a.off(p[p.CustomizationPreUnlock],this.onUnlockCosmetic,this)},c.onUnlockCosmetic=function(t,e){var n=l.cosmetics.get(t)[e];this._uiUnlockedCosmetic.setup(n,t,e)},e}(u)).prototype,"_contentHolder",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(v.prototype,"_uiUnlockedCosmetic",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=v))||d));c._RF.pop()}}}));

System.register("chunks:///_virtual/UIGachaRoulette.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./CustomizationEnums.ts","./Globals.ts","./UIStoreButton.ts"],(function(e){"use strict";var t,n,i,r,o,a,u,l,c,s,p,g,f,h,b,d,m,_,k,y,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator},function(e){a=e.cclegacy,u=e._decorator,l=e.Prefab,c=e.Node,s=e.PageView,p=e.Component,g=e.instantiate,f=e.Vec3},function(e){h=e.logger,b=e.LogCategory,d=e.LogType},function(e){m=e.projectEvent},function(e){_=e.CustomizationEvent,k=e.CosmeticCategory},function(e){y=e.delay},function(e){v=e.UIStoreButton}],execute:function(){var P,w,U,z,I,B,C,R,x,S,E,G,L,F,T,V,D,Z,j,A,H;a._RF.push({},"11b26AUiYtLFKzQW0ZHlFhK","UIGachaRoulette",void 0);var K=u.ccclass,N=u.property;e("UIGachaRoulette",(P=K("UIGachaRoulette"),w=N({visible:!0,group:{id:"settings",name:"Settings"}}),U=N({visible:!0,group:{id:"settings",name:"Settings"}}),z=N({visible:!0,group:{id:"settings",name:"Settings"}}),I=N({visible:!0,type:l,group:{id:"settings",name:"Settings"}}),B=N({visible:!0,group:{id:"settings",name:"Settings"}}),C=N({visible:!0,group:{id:"settings",name:"Settings"}}),R=N({visible:!0,type:c,group:{id:"references",name:"References"}}),x=N({visible:!0,type:c,group:{id:"references",name:"References"}}),S=N({type:s,visible:!0,group:{id:"references",name:"References"}}),P((L=t((G=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_loopCount",L,r(t)),i(t,"_delay",F,r(t)),i(t,"_keyTrigger",T,r(t)),i(t,"_prefabParticle",V,r(t)),i(t,"_durationParticle",D,r(t)),i(t,"_particleZ",Z,r(t)),i(t,"_container",j,r(t)),i(t,"_inputBlocker",A,r(t)),i(t,"_pageView",H,r(t)),t._targetPage=-1,t._targetBtn=-1,t._unlocked=null,t}n(t,e);var a=t.prototype;return a.onLoad=function(){this.setInputBlocker(!1)},a.onEnable=function(){m.on(_[_.CustomizationPreUnlock],this.onUnlockCosmetic,this)},a.onDisable=function(){m.off(_[_.CustomizationPreUnlock],this.onUnlockCosmetic,this)},a.onUnlockCosmetic=function(){var e=o(regeneratorRuntime.mark((function e(n,i){var r,o,a,u,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setInputBlocker(!0),this._targetPage=-1,this._targetBtn=-1,e.next=5,y(.16);case 5:r=this._pageView.content.children,o=0;case 7:if(!(o<r.length)){e.next=24;break}a=r[o],u=0;case 10:if(!(u<a.children.length)){e.next=21;break}if(l=a.children[u],null==(c=l.getComponent(v))||c.cosmeticId!=i){e.next=18;break}return this._unlocked=l.getComponent(v),this._targetPage=o,this._targetBtn=u,e.abrupt("break",24);case 18:u++,e.next=10;break;case 21:o++,e.next=7;break;case 24:if(-1!=this._targetBtn&&-1!=this._targetPage&&null!=this._unlocked){e.next=30;break}return h.log(t.name+" Something went wrong, could not find cosmetid in UI",b.UI,d.Error),this.setInputBlocker(!1),e.abrupt("return");case 30:h.log(t.name+" Unlocked "+k[n]+":"+i+" - Found on page "+this._targetPage+" index "+this._targetBtn,b.UI);case 31:return e.next=33,y(.3);case 33:this.roulette();case 34:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),a.setInputBlocker=function(e){null==this._inputBlocker?h.log(t.name+" No input blocker",b.UI,d.Error):this._inputBlocker.active=e},a.roulette=function(){var e=o(regeneratorRuntime.mark((function e(){var n,i,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(n=this._unlocked.animationGachaRouletteResult)||n.play(),null!=this._prefabParticle&&((i=g(this._prefabParticle)).setParent(this._container),r=new f,o=this._unlocked.node.worldPosition,this._container.inverseTransformPoint(r,o),r.z=this._particleZ,i.setPosition(r),this.scheduleOnce((function(){i.destroy()}),this._durationParticle)),h.log(t.name+" Finished roulette",b.UI),m.emit(_[_.CustomizationUnlockedEffectEnded]),e.next=6,y(this._durationParticle);case 6:this.setInputBlocker(!1);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(p)).prototype,"_loopCount",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),F=t(G.prototype,"_delay",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),T=t(G.prototype,"_keyTrigger",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"gacha"}}),V=t(G.prototype,"_prefabParticle",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(G.prototype,"_durationParticle",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),Z=t(G.prototype,"_particleZ",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),j=t(G.prototype,"_container",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(G.prototype,"_inputBlocker",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(G.prototype,"_pageView",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=G))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIGameOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./GameEnums.ts"],(function(e){"use strict";var t,n,r,i,o,a,c,s,u,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.EventHandler,s=e.Component},function(e){u=e.projectEvent},function(e){v=e.GameEvent}],execute:function(){var l,p,m,f,G;o._RF.push({},"b217eKNn0lHt40ES+zIBx3v","UIGameOver",void 0);var h=a.ccclass,O=a.property;e("UIGameOver",(l=h("UIGameOver"),p=O({visible:!0,type:[c]}),l((G=t((f=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"_onGameOver",G,i(t)),t}n(t,e);var o=t.prototype;return o.onEnable=function(){u.on(v[v.GE_GameOver],this.onGameOver,this)},o.onDisable=function(){u.off(v[v.GE_GameOver],this.onGameOver,this)},o.onGameOver=function(){c.emitEvents(this._onGameOver)},t}(s)).prototype,"_onGameOver",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=f))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIGameplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./UIEvents.ts","./GameEnums.ts"],(function(t){"use strict";var n,e,i,o,a,r,s,c,h,u,l,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,c=t.animation,h=t.Component},function(t){u=t.projectEvent},function(t){l=t.UIEvents},function(t){f=t.GameEvent}],execute:function(){var p,v,_,m,d;a._RF.push({},"8d1a5HBFaJAEqYKVdCITCqO","UIGameplay",void 0);var y=r.ccclass,w=r.property;t("UIGameplay",(p=y("UIGameplay"),v=w({type:s,visible:!0}),p((d=n((m=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"_container",d,o(n)),n._shown=!1,n}e(n,t);var a=n.prototype;return a.start=function(){},a.onEnable=function(){u.on(f[f.GE_WaitingToStart],this.show,this),u.on(f[f.GE_StartGame],this.show,this),u.on(l[l.UI_ActivateRewards],this.hide,this)},a.onDisable=function(){u.off(f[f.GE_WaitingToStart],this.show,this),u.off(f[f.GE_StartGame],this.show,this),u.off(l[l.UI_ActivateRewards],this.hide,this)},a.show=function(){if(!this._shown){this._shown=!0;var t=this._container.getComponent(c.AnimationController);t&&t.setValue("intro",!0)}},a.hide=function(){var t=this;this.scheduleOnce((function(){t._container.active=!1}),.16)},n}(h)).prototype,"_container",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=m))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIHideOnPreLoad.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,o,a,c,l,s,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.construct,a=e.createForOfIteratorHelperLoose},function(e){c=e.cclegacy,l=e._decorator,s=e.UIOpacity,p=e.Node,u=e.Component}],execute:function(){var d,h,y,f,_,v,I;c._RF.push({},"ba4bb5BJC1KA6PJOVhqu22q","UIHideOnPreLoad",void 0);var b=l.ccclass,O=l.property;e("UIHideOnPreLoad",(d=b("UIHideOnPreLoad"),h=O({type:s,visible:!0}),y=O({type:[p],visible:!0}),d((v=t((_=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_holderUIOpacity",v,n(t)),i(t,"_panels",I,n(t)),t}r(t,e);var c=t.prototype;return c.resetInEditor=function(){this._holderUIOpacity=this.getComponent(s),this._panels=o(Array,this.node.children)},c.__preload=function(){this._holderUIOpacity&&(this._holderUIOpacity.opacity=0);for(var e,t=a(this._panels);!(e=t()).done;){var r=e.value;r&&(r.active=!1)}},t}(u)).prototype,"_holderUIOpacity",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(_.prototype,"_panels",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=_))||f));c._RF.pop()}}}));

System.register("chunks:///_virtual/UILevelUpReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./LevelingUpEnums.ts","./PlayerLevelController.ts","./PlayerLevelSettings.ts"],(function(e){"use strict";var t,n,i,l,r,o,a,s,u,c,p,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,a=e.Label,s=e.Component},function(e){u=e.projectEvent},function(e){c=e.LevelingUpEvents},function(e){p=e.PlayerLevelController},function(e){v=e.levelingSettings}],execute:function(){var f,U,L,d,g;r._RF.push({},"52789uEkPxEbJshWke2ynKq","UILevelUpReward",void 0);var h=o.ccclass,y=o.property;e("UILevelUpReward",(f=h("UILevelUpReward"),U=y({visible:!0,type:a}),f((g=t((d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"_labelValue",g,l(t)),t}n(t,e);var r=t.prototype;return r.start=function(){this.updateUI()},r.onEnable=function(){u.on(c[c.LevelingUp_UI_LevelUpdate],this.updateUI,this)},r.onDisable=function(){u.off(c[c.LevelingUp_UI_LevelUpdate],this.updateUI,this)},r.updateUI=function(){var e=v.getCoinsForLevel(p.level);this._labelValue.string="+"+e.toFixed()},t}(s)).prototype,"_labelValue",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=d))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/UILoading.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o,r,e;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator,e=t.Component}],execute:function(){var i;o._RF.push({},"75056iCd0FMCoCAuDiRNd98","UILoading",void 0);var c=r.ccclass;r.property,t("UILoading",c("UILoading")(i=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var r=o.prototype;return r.start=function(){},r.update=function(t){},o}(e))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/UIMainMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./GameController.ts","./GameEnums.ts","./Globals.ts"],(function(t){"use strict";var n,e,r,i,o,a,c,u,s,l,p,f,h,m;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.asyncToGenerator},function(t){a=t.cclegacy,c=t._decorator,u=t.Node,s=t.AnimationClip,l=t.Component},function(t){p=t.projectEvent},function(t){f=t.GameController},function(t){h=t.GameEvent},function(t){m=t.delay}],execute:function(){var v,y,_,G,b,d,g;a._RF.push({},"9d9a6wp7o9EhKuBE3Gfx3FR","UIMainMenu",void 0);var E=c.ccclass,I=c.property;t("UIMainMenu",(v=E("UIMainMenu"),y=I({type:u,visible:!0}),_=I({type:s,visible:!0}),v((d=n((b=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,r(n,"_container",d,i(n)),r(n,"_clipIntro",g,i(n)),n}e(n,t);var a=n.prototype;return a.start=function(){this._container.active=!f.restarting},a.onEnable=function(){p.on(h[h.GE_StartGame],this.onGameStart,this)},a.onDisable=function(){p.off(h[h.GE_StartGame],this.onGameStart,this)},a.onGameStart=function(){var t=o(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._clipIntro){t.next=3;break}return t.next=3,m(this._clipIntro.duration);case 3:this._container&&(this._container.active=!1);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n}(l)).prototype,"_container",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=n(b.prototype,"_clipIntro",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=b))||G));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIPageViewHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,r,o,a,u,s,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,u=e.PageView,s=e.Button,p=e.Component}],execute:function(){var g,l,c,h,_,f,b,v,d,w;o._RF.push({},"d8801bg2ndDDJYXAenG0A5o","UIPageViewHelper",void 0);var P=a.ccclass,V=a.property,y=a.requireComponent;e("UIPageViewHelper",(g=P("UIPageViewHelper"),l=y(u),c=V({visible:!0,group:{id:"settings",name:"Settings"}}),h=V({visible:!0,type:s,group:{id:"references",name:"References"}}),_=V({visible:!0,type:s,group:{id:"references",name:"References"}}),g(f=l((v=t((b=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"_pageTurnDuration",v,r(t)),n(t,"_buttonPrevious",d,r(t)),n(t,"_buttonNext",w,r(t)),t._pageView=null,t}i(t,e);var o=t.prototype;return o.onLoad=function(){this._pageView=this.getComponent(u),this.node.on(u.EventType.PAGE_TURNING,this.updateButtonsStates,this)},o.updateButtonsStates=function(){this._pageView||(this._pageView=this.getComponent(u));var e=this._pageView.getCurrentPageIndex(),t=this._pageView.getPages().length;this._buttonPrevious.node.active=0!=e,this._buttonNext.node.active=!(e>=t-1)},o.previousPage=function(){var e=this._pageView.getCurrentPageIndex();this._pageView.scrollToPage(e-1,this._pageTurnDuration)},o.nextPage=function(){var e=this._pageView.getCurrentPageIndex();this._pageView.scrollToPage(e+1,this._pageTurnDuration)},t}(p)).prototype,"_pageTurnDuration",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),d=t(b.prototype,"_buttonPrevious",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(b.prototype,"_buttonNext",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=b))||f)||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIParticleTween.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./PrefabPool.ts","./TweenEnums.ts"],(function(e){"use strict";var i,t,n,r,o,a,s,l,c,u,p,f,g,_,b,h,v,m,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Enum,l=e.Prefab,c=e.Node,u=e.Canvas,p=e.Vec3,f=e.ParticleSystem,g=e.tween,_=e.Component},function(e){b=e.logger,h=e.LogCategory,v=e.LogType},function(e){m=e.PrefabPool},function(e){d=e.TweenEasing}],execute:function(){var y,P,w,T,I,z,U,L,E,C,S,F,q,R,D;o._RF.push({},"00bc9yXtjpGYYZ5tSZCoAnL","UIParticleTween",void 0);var j=a.ccclass,A=a.property;e("UIParticleTween",(y=j("UIParticleTween"),P=A({visible:!0,group:{id:"settings",name:"Settings"}}),w=A({visible:!0,type:s(d),group:{id:"settings",name:"Settings"}}),T=A({visible:!0,min:1,group:{id:"settings",name:"Settings"},tooltip:"This will be set into the particle first burst if received a value above it."}),I=A({visible:!0,type:l,group:{id:"settings",name:"Settings"}}),z=A({visible:!0,type:c,group:{id:"references",name:"References"}}),U=A({visible:!0,type:c,group:{id:"references",name:"References"}}),y((C=i((E=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,n(i,"_duration",C,r(i)),n(i,"_easing",S,r(i)),n(i,"_quantityLimit",F,r(i)),n(i,"_prefabParticle",q,r(i)),n(i,"_pivotTo",R,r(i)),n(i,"_container",D,r(i)),i._canvas=null,i._initialized=!1,i}t(i,e);var o=i.prototype;return o.onLoad=function(){if(null!=this._prefabParticle)if(null!=this._pivotTo)if(null!=this._container){if(null==this._canvas&&(this._canvas=this.node.getComponent(u),null==this._canvas))for(var e=this.node.parent;null!=e&&null==this._canvas;)this._canvas=e.getComponent(u),e=e.parent;null!=this._canvas?(m.instance.initialize(this._prefabParticle),this._initialized=!0):b.log(i.name+" no canvas",h.UI,v.Error)}else b.log(i.name+" no container",h.UI,v.Error);else b.log(i.name+" no pivot",h.UI,v.Error);else b.log(i.name+" no prefab",h.UI,v.Error)},o.playFromWorld=function(e,t,n){if(null!=t){var r=new p;t.convertToUINode(e,this._container,r),this.playFromUI(r,n)}else b.log(i.name+" no camera received",h.UI,v.Error)},o.playFromUI=function(e,t){if(void 0===t&&(t=0),this._initialized){t>this._quantityLimit&&(t=this._quantityLimit);var n=m.instance.get(this._prefabParticle),r=n.getComponent(f);r&&(r.startLifetime.constant=this._duration,r.duration=this._duration,t>0&&r.bursts.length>0&&(r.bursts[0].count.constant=t)),n.setParent(this._container);var o=new p;this._container.inverseTransformPoint(o,e),n.setPosition(o);var a=new p;this._container.inverseTransformPoint(a,this._pivotTo.worldPosition),g(n).to(this._duration,{position:a},{easing:d[this._easing]}).start(),m.instance.schedulePut(this._prefabParticle,n,this._duration)}else b.log(i.name+" not initialized correctly",h.UI,v.Error)},i}(_)).prototype,"_duration",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.4}}),S=i(E.prototype,"_easing",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.cubicIn}}),F=i(E.prototype,"_quantityLimit",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),q=i(E.prototype,"_prefabParticle",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(E.prototype,"_pivotTo",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(E.prototype,"_container",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=E))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIPlayerExperienceVFX.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./LevelingUpEnums.ts"],(function(e){"use strict";var t,r,n,i,l,o,a,c,p,s,u,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.ParticleSystem,c=e.Component},function(e){p=e.logger,s=e.LogCategory,u=e.LogType},function(e){f=e.projectEvent},function(e){y=e.LevelingUpEvents}],execute:function(){var g,v,h,U,P;l._RF.push({},"11edfO9FlROObkSH/93Yc/b","UIPlayerExperienceVFX",void 0);var _=o.ccclass,E=o.property;e("UIPlayerExperienceVFX",(g=_("UIPlayerExperienceVFX"),v=E({visible:!0,type:a,group:{id:"references",name:"References"}}),g((P=t((U=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"_uiParticle",P,i(t)),t}r(t,e);var l=t.prototype;return l.onEnable=function(){f.on(y[y.LevelingUp_UI_XpUpdateStart],this.play,this)},l.onDisable=function(){f.off(y[y.LevelingUp_UI_XpUpdateStart],this.play,this)},l.play=function(){null!=this._uiParticle?this._uiParticle.play():p.log(t.name+" null particle",s.UI,u.Error)},t}(c)).prototype,"_uiParticle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=U))||h));l._RF.pop()}}}));

System.register("chunks:///_virtual/UIPlayerLevelUpCoinRewardFeedback.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./LevelingUpEnums.ts","./LevelThemeController.ts"],(function(e){"use strict";var n,r,i,o,t,l,a,c,s,d,p,u,h,v;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){t=e.cclegacy,l=e._decorator,a=e.UIOpacity,c=e.Component},function(e){s=e.logger,d=e.LogCategory,p=e.LogType},function(e){u=e.projectEvent},function(e){h=e.LevelingUpEvents},function(e){v=e.LevelThemeEvent}],execute:function(){var U,f,L,w,_,g,m;t._RF.push({},"427feWHduZGbph90heWl/hn","UIPlayerLevelUpCoinRewardFeedback",void 0);var y=l.ccclass,R=l.property;e("UIPlayerLevelUpCoinRewardFeedback",(U=y("UIPlayerLevelUpCoinRewardFeedback"),f=R({visible:!0,type:a,group:{id:"references",name:"References"}}),L=R({visible:!0,type:a,group:{id:"references",name:"References"}}),U((g=n((_=function(e){function n(){for(var n,r=arguments.length,t=new Array(r),l=0;l<r;l++)t[l]=arguments[l];return n=e.call.apply(e,[this].concat(t))||this,i(n,"_rewardCoin",g,o(n)),i(n,"_rewardTheme",m,o(n)),n}r(n,e);var t=n.prototype;return t.onLoad=function(){null!=this._rewardCoin?null!=this._rewardTheme?(this._rewardCoin.opacity=0,this._rewardTheme.opacity=0,this._rewardCoin.node.active=!1,this._rewardTheme.node.active=!1):s.log(n.name+" _rewardTheme is null",d.UI,p.Error):s.log(n.name+" _rewardCoin is null",d.UI,p.Error)},t.onEnable=function(){u.on(h[h.LevelingUp_PlayerLevelUpCoinRewards],this.onLevelUpRewardReceived,this),u.on(h[h.LevelingUp_UI_LevelUpdate],this.onLevelUpUIUpdated,this),u.on(v[v.LevelThemeUnlocked],this.onThemeUnlock,this)},t.onDisable=function(){u.off(h[h.LevelingUp_PlayerLevelUpCoinRewards],this.onLevelUpRewardReceived,this),u.off(h[h.LevelingUp_UI_LevelUpdate],this.onLevelUpUIUpdated,this),u.off(v[v.LevelThemeUnlocked],this.onThemeUnlock,this)},t.onLevelUpRewardReceived=function(e){null!=this._rewardCoin&&null!=this._rewardTheme&&(s.log(n.name+" onLevelUpRewardReceived",d.UI),this._rewardCoin.node.active=!0)},t.onThemeUnlock=function(){},t.onLevelUpUIUpdated=function(){},n}(c)).prototype,"_rewardCoin",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(_.prototype,"_rewardTheme",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=_))||w));t._RF.pop()}}}));

System.register("chunks:///_virtual/UIProjectVersion.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectVersion.ts"],(function(e){"use strict";var t,r,i,n,o,l,c,s,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,c=e.Label,s=e.Component},function(e){a=e.projectVersion}],execute:function(){var u,p,b,f,h;o._RF.push({},"2cbcaQ/bS1BCLGSVjgjrv5y","UIProjectVersion",void 0);var y=l.ccclass,_=l.property;e("UIProjectVersion",(u=y("UIProjectVersion"),p=_({type:c,visible:!0}),u((h=t((f=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_label",h,n(t)),t}r(t,e);var o=t.prototype;return o.onLoad=function(){null==this._label&&(this._label=this.getComponent(c))},o.start=function(){this._label?this._label.string=a.getString():this._label.node.active=!1},t}(s)).prototype,"_label",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=f))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/UISmooth.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./Globals.ts","./PlayerEnums.ts"],(function(t){"use strict";var e,n,o,i,r,a,l,s,c,u,h,p,b,f,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator},function(t){a=t.cclegacy,l=t._decorator,s=t.Node,c=t.Label,u=t.assert,h=t.Animation,p=t.Component},function(t){b=t.projectEvent},function(t){f=t.delay},function(t){_=t.PlayerEvent}],execute:function(){var m,y,v,d,S,C,g,w,P;a._RF.push({},"c391aYPfsJM0ohejbpAeNaA","UISmooth",void 0);var z=l.ccclass,E=l.property;t("UISmooth",(m=z("UISmooth"),y=E({type:s,visible:!0}),v=E({type:c,visible:!0}),d=E({type:c,visible:!0}),m((g=e((C=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"_container",g,i(e)),o(e,"_labelCount",w,i(e)),o(e,"_labelCountShadow",P,i(e)),e._anim=null,e}n(e,t);var a=e.prototype;return a.onLoad=function(){u(this._container,e.name+" container is null"),this._anim=this._container.getComponent(h),this._container.active=!1},a.onEnable=function(){b.on(_[_.PlayerSmooth],this.onPlayerSmooth,this)},a.onDisable=function(){b.off(_[_.PlayerSmooth],this.onPlayerSmooth,this)},a.onPlayerSmooth=function(){var t=r(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e>=2?(this._labelCount.node.active=!0,this._labelCountShadow.node.active=!0,this._labelCount.string=e.toFixed(),this._labelCountShadow.string=this._labelCount.string):(this._labelCount.node.active=!1,this._labelCountShadow.node.active=!1),this._container.active=!0,this._anim.play(),t.next=5,f(this._anim.defaultClip.duration);case 5:this._container&&(this._container.active=!1);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e}(p)).prototype,"_container",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(C.prototype,"_labelCount",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(C.prototype,"_labelCountShadow",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=C))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIStore.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./PrefabPool.ts","./ProjectEvent.ts","./CustomizationBundleLoader.ts","./CustomizationController.ts","./CustomizationEnums.ts","./PlayerPurseController.ts","./UIPageViewHelper.ts","./UIStoreButton.ts","./SaveGame.ts","./SaveGameKeys.ts"],(function(e){"use strict";var t,o,i,n,a,r,s,c,u,l,h,p,d,f,g,m,b,P,C,_,y,v,S,w,E,U,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Node,c=e.PageView,u=e.Label,l=e.Prefab,h=e.animation,p=e.Layout,d=e.Component},function(e){f=e.logger,g=e.LogCategory,m=e.LogType},function(e){b=e.PrefabPool},function(e){P=e.projectEvent},function(e){C=e.cosmeticDatabase},function(e){_=e.customizationController},function(e){y=e.CosmeticCategory,v=e.CustomizationEvent},function(e){S=e.PlayerPurseController},function(e){w=e.UIPageViewHelper},function(e){E=e.UIStoreButton},function(e){U=e.saveGame},function(e){z=e.SaveGameKeys}],execute:function(){var B,k,G,I,T,q,V,L,A,H,D,R,O,M,j,x,F,K,N,Q;e("UIStoreEvents",void 0),a._RF.push({},"9df7eULd0xL9YoeTQn6dXdL","UIStore",void 0);var X,Y=r.ccclass,J=r.property;!function(e){e[e.UIStoreShowTab=0]="UIStoreShowTab",e[e.GachaPullBought=1]="GachaPullBought"}(X||(X=e("UIStoreEvents",{})));e("UIStore",(B=Y("UIStore"),k=J({visible:!0}),G=J({type:s,visible:!0}),I=J({type:c,visible:!0}),T=J({type:s,visible:!0}),q=J({type:s,visible:!0}),V=J({type:u,visible:!0}),L=J({type:l,visible:!0}),A=J({type:l,visible:!0}),B(((Q=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"_itensPerPage",R,n(t)),i(t,"_container",O,n(t)),i(t,"_pageView",M,n(t)),i(t,"_buttonGachaPull",j,n(t)),i(t,"_containerPages",x,n(t)),i(t,"_labelGachaPullPrice",F,n(t)),i(t,"_prefabStorePage",K,n(t)),i(t,"_prefabStoreButton",N,n(t)),t._category=y.Helmet,t._currentSelectedCosmetic=0,t}o(t,e);var a=t.prototype;return a.onLoad=function(){t.instance=this},a.start=function(){var e;null==(e=this._containerPages)||e.destroyAllChildren(),null==this._pageView&&null!=this._container&&(this._pageView=this._container.getComponentInChildren(c))},a.onEnable=function(){P.on(v[v.CustomizationPreviewCosmetic],this.onPreviewRequest,this),P.on(v[v.CustomizationPostUnlock],this.onCosmeticPostUnlocked,this),P.on(v[v.CustomizationUnlockedEffectEnded],this.onCustomizationUnlockedEffectEnded,this)},a.onDisable=function(){P.off(v[v.CustomizationPreviewCosmetic],this.onPreviewRequest,this),P.off(v[v.CustomizationPostUnlock],this.onCosmeticPostUnlocked,this),P.off(v[v.CustomizationUnlockedEffectEnded],this.onCustomizationUnlockedEffectEnded,this)},a.onPreviewRequest=function(e,t){this._currentSelectedCosmetic=t,this.updatePurchaseEquipButtonState()},a.onCosmeticPostUnlocked=function(e,t){this.updatePurchaseEquipButtonState()},a.onCustomizationUnlockedEffectEnded=function(){f.log(t.name+" onCustomizationUnlockedEffectEnded",g.UI),this.updateTabState()},a.show=function(){var e=this;this._container.active=!0,this.updatePurchaseEquipButtonState(),P.emit(v[v.CustomizationStart]),this.scheduleOnce((function(){e.showTab(e._category)}),.45)},a.updatePurchaseEquipButtonState=function(){if(this._buttonGachaPull){if(this._buttonGachaPull.active=_.isAnyLocked(),this._buttonGachaPull.active){var e=_.isUnlocked(this._category,this._currentSelectedCosmetic),o=_.isEquipped(this._category,this._currentSelectedCosmetic),i=_.getCosmeticPriceByCategory(this._category),n=S.canAfford(i),a=this._buttonGachaPull.getComponent(h.AnimationController);this.scheduleOnce((function(){null==a||a.setValue("enoughCurrency",n)}),.16),this.scheduleOnce((function(){null==a||a.setValue("equipped",o)}),.16),this.scheduleOnce((function(){null==a||a.setValue("unlocked",e)}),.16),this._labelGachaPullPrice.string=" "+i.toFixed()+" ",f.log(t.name+" updatePurchaseEquipButtonState: isEquipped: "+o+" isUnlocked: "+e+"  enoughMoney: "+n)}}else f.log(t.name+" _buttonGachaPull is null",g.Metagame,m.Error)},a.applyCosmetics=function(){f.log(t.name+" apply cosmetics"),P.emit(v[v.CustomizationPreviewApply])},a.reloadCosmetics=function(){f.log(t.name+" reloadCosmetics"),P.emit(v[v.CustomizationReload])},a.showHelmets=function(){this.showTab(y.Helmet)},a.showBodyColors=function(){this.showTab(y.BodyColor)},a.showSnowboards=function(){this.showTab(y.Snowboard)},a.showStunts=function(){this.showTab(y.Stunt)},a.purchaseOrEquip=function(){if(_.isUnlocked(this._category,this._currentSelectedCosmetic))this.applyCosmetics(),this.updatePurchaseEquipButtonState();else{var e=_.getCosmeticPriceByCategory(this._category);S.removeCoins(e),_.unlock(this._category,this._currentSelectedCosmetic),P.emit(X[X.GachaPullBought],e)}},a.showTab=function(e){this._category=e;var t=U.getData(z[z.Save_EquippedItems]);switch(e){case y.Helmet:this._currentSelectedCosmetic=t.helmet;break;case y.BodyColor:this._currentSelectedCosmetic=t.bodyColor;break;case y.Snowboard:this._currentSelectedCosmetic=t.snowboard;break;case y.Stunt:this._currentSelectedCosmetic=t.stunt}this.populateTab(e),this.updatePurchaseEquipButtonState(),P.emit(X[X.UIStoreShowTab],e)},a.populateTab=function(e){var t=C.cosmetics.get(e),o=0;this._pageView.removeAllPages();var i=1;t.length>this._itensPerPage&&(i=t.length/this._itensPerPage,i=Math.ceil(i));for(var n=t.length,a=0;a<i;a++){var r=b.instance.get(this._prefabStorePage);r.destroyAllChildren();var s=this._itensPerPage;n<this._itensPerPage&&(s=n);for(var c=0;c<s;c++){var u=b.instance.get(this._prefabStoreButton);r.addChild(u);var l=u.getComponent(E),h=t.length-n;this._currentSelectedCosmetic==h&&(o=a);var d=this._currentSelectedCosmetic==h;l.setup(t[h],e,h,d),n--}this._pageView.addPage(r)}var f=this._containerPages.getComponent(p);f&&f.updateLayout();var g=this._pageView.getComponent(w);null==g||g.updateButtonsStates(),this._pageView.scrollToPage(o,.2)},a.updateTabState=function(){for(var e=this._pageView.content.children,t=0;t<e.length;t++)for(var o=e[t],i=0;i<o.children.length;i++){var n=o.children[i].getComponent(E);null==n||n.updateState()}},t}(d)).instance=null,R=t((D=Q).prototype,"_itensPerPage",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),O=t(D.prototype,"_container",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(D.prototype,"_pageView",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(D.prototype,"_buttonGachaPull",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(D.prototype,"_containerPages",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(D.prototype,"_labelGachaPullPrice",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(D.prototype,"_prefabStorePage",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(D.prototype,"_prefabStoreButton",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=D))||H));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIStoreBackButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./UIEvents.ts"],(function(t){"use strict";var e,n,r,o,i,c,a,l,u,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,c=t.animation,a=t._decorator,l=t.Component},function(t){u=t.projectEvent},function(t){s=t.UIEvents}],execute:function(){var p,f,m,k,y;i._RF.push({},"d1211Et/SJNYq2ml8IrDiXQ","UIStoreBackButton",void 0);var v=c.AnimationController,B=a.ccclass,_=a.property;t("UIStoreBackButton",(p=B("UIStoreBackButton"),f=_({visible:!0,type:v}),p((y=e((k=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,r(e,"_animController",y,o(e)),e._keyFromMenu="fromMenu",e}return n(e,t),e.prototype.onClick=function(){this._animController.getValue(this._keyFromMenu)?u.emit(s[s.UI_ClickBackMenu]):u.emit(s[s.UI_ClickBackRewards])},e}(l)).prototype,"_animController",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=k))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIStoreButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./CustomizationController.ts","./CustomizationEnums.ts"],(function(t){"use strict";var e,i,o,n,s,r,a,l,c,u,h,d,m,p,_,y,C,f,v,g,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,c=t.Animation,u=t.animation,h=t.instantiate,d=t.Layers,m=t.MeshRenderer,p=t.UIMeshRenderer,_=t.Component},function(t){y=t.logger,C=t.LogCategory},function(t){f=t.projectEvent},function(t){v=t.customizationController},function(t){g=t.CustomizationEvent,S=t.CosmeticCategory}],execute:function(){var b,I,k,E,w,z,P,R,U,B,L,D,q;r._RF.push({},"89809SEwNdEF7xmaZgSjTo+","UIStoreButton",void 0);var A=a.ccclass,H=a.property;t("UIStoreButton",(b=A("UIStoreButton"),I=H({type:l,visible:!0}),k=H({type:l,visible:!0}),E=H({type:l,visible:!0}),w=H({type:l,visible:!0}),z=H({type:c,visible:!0,group:{id:"gacha",name:"Gacha"}}),b((U=e((R=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"_pivotHelmet",U,n(e)),o(e,"_pivotBodyColor",B,n(e)),o(e,"_pivotSnowboard",L,n(e)),o(e,"_pivotStunt",D,n(e)),o(e,"_animationGachaRouletteResult",q,n(e)),e._animController=null,e._instance=null,e._cosmeticCategory=void 0,e._cosmeticId=0,e._keyEquipped="equipped",e._keyLocked="locked",e._keySelected="selected",e._isSelected=!1,e}i(e,t);var r=e.prototype;return r.onEnable=function(){f.on(g[g.CustomizationPreviewCosmetic],this.onPreviewCosmetic,this),f.on(g[g.CustomizationReload],this.updateState,this),f.on(g[g.CustomizationPostUnlock],this.updateState,this)},r.onDisable=function(){f.off(g[g.CustomizationPreviewCosmetic],this.onPreviewCosmetic,this),f.off(g[g.CustomizationReload],this.updateState,this),f.off(g[g.CustomizationPostUnlock],this.updateState,this)},r.onLoad=function(){this._animController=this.getComponent(u.AnimationController),this.updateState()},r.onPreviewCosmetic=function(t,e){if(this._cosmeticCategory==t){var i=v.isEquipped(this._cosmeticCategory,this._cosmeticId);this._isSelected=e==this._cosmeticId,this._animController.setValue(this._keyEquipped,i),this._animController.setValue(this._keySelected,this._isSelected)}},r.setup=function(t,e,i,o){(this._isSelected=o,this._cosmeticCategory=e,this._cosmeticId=i,this._pivotHelmet.destroyAllChildren(),this._pivotBodyColor.destroyAllChildren(),this._pivotSnowboard.destroyAllChildren(),this._pivotStunt.destroyAllChildren(),this._instance=h(t),e==S.Helmet?this._instance.setParent(this._pivotHelmet):e==S.BodyColor?this._instance.setParent(this._pivotBodyColor):e==S.Snowboard?this._instance.setParent(this._pivotSnowboard):e==S.Stunt&&this._instance.setParent(this._pivotStunt),e==S.Helmet||e==S.Snowboard||e==S.BodyColor)&&(this._instance.layer=d.Enum.UI_3D,this._instance.children.forEach((function(t){t.layer=d.Enum.UI_3D,t.children.forEach((function(t){t.layer=d.Enum.UI_3D}))})),this._instance.getComponentsInChildren(m).forEach((function(t){t.getComponent(p)||t.addComponent(p)})));null!=this._animController&&this.updateState()},r.updateState=function(){var t=!v.isUnlocked(this._cosmeticCategory,this._cosmeticId),i=v.isEquipped(this._cosmeticCategory,this._cosmeticId);this._animController.setValue(this._keyLocked,t),this._animController.setValue(this._keyEquipped,i),this._animController.setValue(this._keySelected,this._isSelected),y.log(e.name+" "+S[this._cosmeticCategory]+" : "+this._cosmeticId+" - locked: "+t+" equipped: "+i,C.UI)},r.onClick=function(){y.log(e.name+" clicked "+S[this._cosmeticCategory]+" : "+this._cosmeticId,C.UI),f.emit(g[g.CustomizationPreviewCosmetic],this._cosmeticCategory,this._cosmeticId)},r.changeLayerDeep=function(t,e){t.layer=e,t.children.forEach((function(t){t.layer=e,t.children.forEach((function(t){t.layer=e}))}))},s(e,[{key:"cosmeticId",get:function(){return this._cosmeticId}},{key:"animationGachaRouletteResult",get:function(){return this._animationGachaRouletteResult}}]),e}(_)).prototype,"_pivotHelmet",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(R.prototype,"_pivotBodyColor",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(R.prototype,"_pivotSnowboard",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(R.prototype,"_pivotStunt",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(R.prototype,"_animationGachaRouletteResult",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=R))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIStoreTabButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./CustomizationEnums.ts","./UIStore.ts"],(function(t){"use strict";var o,n,e,i,r,a,s,u,l,c,p,h,b,f,m;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Enum,u=t.animation,l=t.Component},function(t){c=t.logger,p=t.LogCategory,h=t.LogType},function(t){b=t.projectEvent},function(t){f=t.CosmeticCategory},function(t){m=t.UIStoreEvents}],execute:function(){var y,g,_,S,v,I,T,w,U;r._RF.push({},"c5e67vDKvxD6bIO4FmHkSSl","UIStoreTabButton",void 0);var C=a.ccclass,d=a.property;t("UIStoreTabButton",(y=C("UIStoreTabButton"),g=d({type:s(f),visible:!0}),_=d({type:u.AnimationController,visible:!0}),S=d({visible:!0}),y((T=o((I=function(t){function o(){for(var o,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return o=t.call.apply(t,[this].concat(r))||this,e(o,"_category",T,i(o)),e(o,"_animator",w,i(o)),e(o,"_keyIsOn",U,i(o)),o}n(o,t);var r=o.prototype;return r.onLoad=function(){this._animator=this.getComponent(u.AnimationController),null==this._animator&&c.log(this.node.name+" _animator is null",p.UI,h.Error),b.on(m[m.UIStoreShowTab],this.onShowTab,this)},r.onDestroy=function(){b.off(m[m.UIStoreShowTab],this.onShowTab,this)},r.onShowTab=function(t){this._animator&&this._animator.setValue(this._keyIsOn,t==this._category)},o}(l)).prototype,"_category",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.Helmet}}),w=o(I.prototype,"_animator",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=o(I.prototype,"_keyIsOn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"isOn"}}),v=I))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIUpgradeCoinMultiplier.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./PlayerPurseController.ts","./PlayerPurseEnums.ts","./AdsEvents.ts","./GSNHRewardedAdsController.ts","./CoinMultiplierUpgrades.ts"],(function(e){"use strict";var t,n,i,r,o,a,l,s,u,c,d,h,p,b,g,f,_,v,P,A,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Label,s=e.Node,u=e.Button,c=e.Animation,d=e.Component},function(e){h=e.logger,p=e.LogCategory,b=e.LogType},function(e){g=e.projectEvent},function(e){f=e.PlayerPurseController},function(e){_=e.PlayerPurseEvents},function(e){v=e.AdsEvents},function(e){P=e.AdsNHEvents},function(e){A=e.coinMultiplierUpgrade,y=e.CoinMultiplierUpgradeEvent}],execute:function(){var U,m,C,E,I,x,w,M,N,F,z,L,S,D,T,j,k,R,B,H;o._RF.push({},"44376l1KA1AOp3fDmlMjzI4","UIUpgradeCoinMultiplier",void 0);var K=a.ccclass,O=a.property,G=a.executionOrder;e("UIUpgradeCoinMultiplier",(U=K("UIUpgradeCoinMultiplier"),m=G(20),C=O({type:l,visible:!0}),E=O({type:s,visible:!0,tooltip:"Disabled when reaching max level"}),I=O({type:l,visible:!0}),x=O({type:u,visible:!0}),w=O({type:s,visible:!0}),M=O({type:u,visible:!0}),N=O({type:s,visible:!0}),F=O({type:c,visible:!0}),U(z=m((S=t((L=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_labelCurrent",S,r(t)),i(t,"_containerPrice",D,r(t)),i(t,"_labelPriceNext",T,r(t)),i(t,"_buttonPurchase",j,r(t)),i(t,"_containerMax",k,r(t)),i(t,"_buttonAdPurchase",R,r(t)),i(t,"_containerNotEnoughCoin",B,r(t)),i(t,"_animUpgraded",H,r(t)),t}n(t,e);var o=t.prototype;return o.start=function(){null==this._labelPriceNext&&h.log(this.node.name+" _labelPriceNext is null",p.UI,b.Error),null==this._containerPrice&&h.log(this.node.name+" _containerPrice is null",p.UI,b.Error),null==this._containerMax&&h.log(this.node.name+" _containerMax is null",p.UI,b.Error),null==this._containerNotEnoughCoin&&h.log(this.node.name+" _containerNotEnoughCoin is null",p.UI,b.Error),this._buttonPurchase.node.on(u.EventType.CLICK,this.onPurchaseClick,this),this._buttonAdPurchase.node.active=!1,this._containerNotEnoughCoin.active=!1,this.updateUI(),g.on(_[_.PlayerPurse_CoinsUpdated],this.updateUI,this),g.on(P[P.AdsEnableForCoinUpgrade],this.onAdEnabled,this)},o.onDestroy=function(){g.off(_[_.PlayerPurse_CoinsUpdated],this.updateUI,this),g.off(P[P.AdsEnableForCoinUpgrade],this.onAdEnabled,this),g.off(v[v.AdsEvents_AdShowed],this.onAdSuccess,this),g.off(v[v.AdsEvents_AdFailedToShow],this.onAdFailure,this)},o.updateUI=function(){var e=A.current;if(this._labelCurrent.string=" "+e.PercentageDesign.toFixed()+" ",A.isLast)h.log("Reached end of coin multiplier upgrades",p.Metagame,b.Error),this._buttonPurchase.node.active=!1,this._containerPrice.active=!1,this._containerMax.active=!0;else{this._containerPrice.active=!0,this._containerMax.active=!1;var t=A.next;this._labelPriceNext.string=" "+t.Price.toFixed()+" ";var n=f.canAfford(t.Price);this._containerNotEnoughCoin.active=!n,this._buttonPurchase.interactable=n}},o.onPurchaseClick=function(){h.log("Click purchase");var e,t=A.next;f.canAfford(t.Price)&&(f.removeCoins(t.Price),A.increment(),null==(e=this._animUpgraded)||e.play(),this.updateUI(),g.emit(y[y.CoinMultiplierUpgradeBought],t.Price))},o.onAdEnabled=function(){h.log(t.name+" onAdEnabled",p.UI),this._buttonAdPurchase.node.active=!0,this._containerPrice.active=!1,this._buttonAdPurchase.node.on(u.EventType.CLICK,this.showAd,this)},o.showAd=function(){h.log(t.name+" showAd",p.UI);var e={onAdCompleted:this.onAdSuccess.bind(this),onAdFailed:this.onAdFailure.bind(this)};g.emit(v[v.AdsEvents_ShowAd],e)},o.onAdSuccess=function(){var e;h.log(t.name+" onAdSuccess",p.UI),this._buttonAdPurchase.node.active=!1,A.increment(),null==(e=this._animUpgraded)||e.play(),this.updateUI()},o.onAdFailure=function(e){h.log(t.name+" onAdFailure "+e,p.UI),this._buttonAdPurchase.node.active=!1,this.updateUI()},t}(d)).prototype,"_labelCurrent",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(L.prototype,"_containerPrice",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(L.prototype,"_labelPriceNext",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(L.prototype,"_buttonPurchase",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(L.prototype,"_containerMax",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(L.prototype,"_buttonAdPurchase",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(L.prototype,"_containerNotEnoughCoin",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(L.prototype,"_animUpgraded",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=L))||z)||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIUpgradeSpeed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ProjectEvent.ts","./PlayerPurseController.ts","./PlayerPurseEnums.ts","./AdsEvents.ts","./GSNHRewardedAdsController.ts","./SpeedUpgrades.ts"],(function(e){"use strict";var t,n,i,r,o,a,l,s,u,c,d,h,p,b,g,_,f,P,v,A,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Label,s=e.Node,u=e.Button,c=e.Animation,d=e.Component},function(e){h=e.logger,p=e.LogCategory,b=e.LogType},function(e){g=e.projectEvent},function(e){_=e.PlayerPurseController},function(e){f=e.PlayerPurseEvents},function(e){P=e.AdsEvents},function(e){v=e.AdsNHEvents},function(e){A=e.speedUpgrade,y=e.SpeedUpgradeEvent}],execute:function(){var U,m,E,C,I,S,w,x,F,z,L,M,N,D,T,k,R,j,B,H;o._RF.push({},"9e183Z8FttPLqhupw1qxuAZ","UIUpgradeSpeed",void 0);var q=a.ccclass,K=a.property,Z=a.executionOrder;e("UIUpgradeSpeed",(U=q("UIUpgradeSpeed"),m=Z(20),E=K({type:l,visible:!0}),C=K({type:s,visible:!0,tooltip:"Disabled when reaching max level"}),I=K({type:l,visible:!0}),S=K({type:u,visible:!0}),w=K({type:s,visible:!0}),x=K({type:u,visible:!0}),F=K({type:s,visible:!0}),z=K({type:c,visible:!0}),U(L=m((N=t((M=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_labelCurrentSpeed",N,r(t)),i(t,"_containerPrice",D,r(t)),i(t,"_labelPrice",T,r(t)),i(t,"_buttonPurchase",k,r(t)),i(t,"_containerMax",R,r(t)),i(t,"_buttonAdPurchase",j,r(t)),i(t,"_containerNotEnoughCoin",B,r(t)),i(t,"_animUpgraded",H,r(t)),t}n(t,e);var o=t.prototype;return o.start=function(){null==this._labelPrice&&h.log(this.node.name+" _labelPrice is null",p.UI,b.Error),null==this._containerPrice&&h.log(this.node.name+" _containerPrice is null",p.UI,b.Error),null==this._containerMax&&h.log(this.node.name+" _containerMax is null",p.UI,b.Error),null==this._buttonAdPurchase&&h.log(this.node.name+" _buttonAdPurchase is null",p.UI,b.Error),null==this._containerNotEnoughCoin&&h.log(this.node.name+" _containerNotEnoughCoin is null",p.UI,b.Error),this._buttonPurchase.node.on(u.EventType.CLICK,this.onPurchaseClick,this),this._buttonAdPurchase.node.active=!1,this._containerNotEnoughCoin.active=!1,this.updateUI(),g.on(f[f.PlayerPurse_CoinsUpdated],this.updateUI,this),g.on(v[v.AdsEnableForSpeedUpgrade],this.onAdEnabled,this)},o.onDestroy=function(){g.off(f[f.PlayerPurse_CoinsUpdated],this.updateUI,this),g.off(v[v.AdsEnableForSpeedUpgrade],this.onAdEnabled,this),g.off(P[P.AdsEvents_AdShowed],this.onAdSuccess,this),g.off(P[P.AdsEvents_AdFailedToShow],this.onAdFailure,this)},o.updateUI=function(){var e=A.current;if(this._labelCurrentSpeed.string=" "+e.Max.toFixed()+" ",A.isLast)h.log("Reached end of speed upgrades",p.Metagame,b.Error),this._buttonPurchase.node.active=!1,this._containerPrice.active=!1,this._containerMax.active=!0;else{this._containerPrice.active=!0,this._containerMax.active=!1;var t=A.next;this._labelPrice.string=" "+t.Price.toFixed()+" ";var n=_.canAfford(t.Price);this._containerNotEnoughCoin.active=!n,this._buttonPurchase.interactable=n}},o.onPurchaseClick=function(){h.log("Click purchase",p.UI);var e,t=A.next;_.canAfford(t.Price)&&(_.removeCoins(t.Price),A.increment(),null==(e=this._animUpgraded)||e.play(),this.updateUI(),g.emit(y[y.SpeedUpgradeBought],t.Price))},o.onAdEnabled=function(){h.log(t.name+" onAdEnabled",p.UI),this._buttonAdPurchase.node.active=!0,this._containerPrice.active=!1,this._buttonAdPurchase.node.on(u.EventType.CLICK,this.showAd,this)},o.showAd=function(){h.log(t.name+" showAd",p.UI);var e={onAdCompleted:this.onAdSuccess.bind(this),onAdFailed:this.onAdFailure.bind(this)};g.emit(P[P.AdsEvents_ShowAd],e)},o.onAdSuccess=function(){var e;h.log(t.name+" onAdSuccess",p.UI),this._buttonAdPurchase.node.active=!1,A.increment(),null==(e=this._animUpgraded)||e.play(),this.updateUI()},o.onAdFailure=function(e){h.log(t.name+" onAdFailure "+e,p.UI),this._buttonAdPurchase.node.active=!1,this.updateUI()},t}(d)).prototype,"_labelCurrentSpeed",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(M.prototype,"_containerPrice",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(M.prototype,"_labelPrice",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(M.prototype,"_buttonPurchase",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(M.prototype,"_containerMax",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(M.prototype,"_buttonAdPurchase",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(M.prototype,"_containerNotEnoughCoin",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(M.prototype,"_animUpgraded",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=M))||L)||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIVirtualJoystick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./TweenCollection.ts","./VirutalJoystick%20enums.ts"],(function(t){"use strict";var i,e,n,o,s,r,a,u,c,l,h,p,f,d,_,y,m,g,v,T,b,C,w;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,u=t.Enum,c=t.Camera,l=t.UIOpacity,h=t.Node,p=t.UITransform,f=t.input,d=t.Input,_=t.Vec3,y=t.director,m=t.Vec2,g=t.screen,v=t.Canvas,T=t.Component},function(t){b=t.projectEvent},function(t){C=t.TweenCollection},function(t){w=t.VirtualJoystickEvent}],execute:function(){var P,k,H,E,D,S,O,I,z,R,U,V,A,J,M,L,x,j,N,F,B,G,W;r._RF.push({},"09e1dLFgZhCrL2KX2024O5A","UIVirtualJoystick",void 0);var Z,q=a.ccclass,K=a.property;!function(t){t[t.ResetPosition=0]="ResetPosition",t[t.Hide=1]="Hide"}(Z||(Z={}));t("UIVirtualJoystick",(P=q("UIVirtualJoystick"),k=K({type:u(Z),visible:!0,group:{id:"configuration",name:"Configuration"},formerlySerializedAs:"style"}),H=K({visible:!0,group:{id:"configuration",name:"Configuration"},tooltip:"Leave at 0 if the joystick should not reposition itself when the user hold his finger over it."}),E=K({visible:!0,group:{id:"configuration",name:"Configuration"},tooltip:"Minimum distance in pixels needed to consider the input as a movement"}),D=K({type:c,visible:!0,group:{id:"components",name:"Components"},tooltip:"If left blank will try to find a camera in the parent canvas"}),S=K({type:l,visible:!0,group:{id:"components",name:"Components"},formerlySerializedAs:"contentOpacity"}),O=K({type:h,visible:!0,group:{id:"components",name:"Components"},formerlySerializedAs:"pivot"}),I=K({type:h,visible:!0,group:{id:"components",name:"Components"},formerlySerializedAs:"joystickBG"}),z=K({type:C,visible:!0,group:{id:"fade",name:"Fade Effects"},formerlySerializedAs:"tweenShow"}),R=K({type:C,visible:!0,group:{id:"fade",name:"Fade Effects"},formerlySerializedAs:"tweenHide"}),U=K({visible:!0}),P((J=i((A=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return i=t.call.apply(t,[this].concat(s))||this,n(i,"_style",J,o(i)),n(i,"_timeToReposition",M,o(i)),n(i,"_minMovementScreenHeightRatio",L,o(i)),n(i,"_camera",x,o(i)),n(i,"_contentOpacity",j,o(i)),n(i,"_pivot",N,o(i)),n(i,"_joystickBG",F,o(i)),n(i,"_tweenShow",B,o(i)),n(i,"_tweenHide",G,o(i)),n(i,"_detectClicksOnCanvas",W,o(i)),i._radius=64,i._initialVirtualJoystickPosition=void 0,i._touchData=null,i}e(i,t);var r=i.prototype;return r.onLoad=function(){var t=this.node.getComponent(p);t&&(this._radius=t.contentSize.width/2)},r.start=function(){f.on(d.EventType.TOUCH_START,this.onTouchStart,this),f.on(d.EventType.TOUCH_MOVE,this.onTouchMove,this),f.on(d.EventType.TOUCH_END,this.onTouchEndOrCancel,this),f.on(d.EventType.TOUCH_CANCEL,this.onTouchEndOrCancel,this),this.node.parent&&this.node.setSiblingIndex(this.node.parent.children.length-1),this._style==Z.Hide&&(this._contentOpacity.opacity=0),this._initialVirtualJoystickPosition=new _(this.node.worldPosition)},r.onDestroy=function(){f.off(d.EventType.TOUCH_START,this.onTouchStart,this),f.off(d.EventType.TOUCH_MOVE,this.onTouchMove,this),f.off(d.EventType.TOUCH_END,this.onTouchEndOrCancel,this),f.off(d.EventType.TOUCH_CANCEL,this.onTouchEndOrCancel,this)},r.update=function(t){if(this.hasInput){this.usingReposition&&y.getCurrentTime()-this._touchData.lastTime>=1e3*this._timeToReposition&&this._touchData.updateReferencePosition();var i=this.getNormalizedJoystickPosition();this.updatePivotPosition(i),b.emit(w[w.VistualJoystickPositionUpdated],i)}},r.onTouchStart=function(t){this._touchData||(this._detectClicksOnCanvas||null===t.currentTarget)&&(this._touchData=new X(t.touch.getID(),t.touch.getLocation(),t.touch.lastModified),this.onInputStart())},r.onTouchMove=function(t){this._touchData&&this._touchData.id==t.getID()&&(m.distance(t.touch.getLocation(),this._touchData.referencePosition)>=g.windowSize.height*this._minMovementScreenHeightRatio&&this._touchData.updatePosition(t.touch.getLocation(),t.touch.lastModified))},r.onTouchEndOrCancel=function(t){this._touchData&&this._touchData.id==t.getID()&&(this._touchData=null,this.onInputEnd())},r.onInputStart=function(){var t,i;this._style==Z.Hide&&(null==(t=this._tweenHide)||t.stop(),null==(i=this._tweenShow)||i.play())},r.onInputEnd=function(){var t,i;this._style==Z.Hide?(null==(t=this._tweenShow)||t.stop(),null==(i=this._tweenHide)||i.play()):(this.node.setWorldPosition(this._initialVirtualJoystickPosition),this._pivot.setPosition(0,0,0))},r.updatePivotPosition=function(t){this.node.setWorldPosition(this.screenToCanvas(this._touchData.referencePosition)),this._pivot.setPosition(t.x*this._radius,t.y*this._radius,0)},r.screenToCanvas=function(t){var i=new _(t.x,t.y,0),e=new _;return this.camera.screenToWorld(i,e),e},r.getNormalizedJoystickPosition=function(){if(!this._touchData)return new m(0,0);var t=new m(this._touchData.positionDelta);return t.lengthSqr()<this._radius*this._radius?t.multiplyScalar(1/this._radius):t.normalize(),t},s(i,[{key:"hasInput",get:function(){return null!=this._touchData}},{key:"camera",get:function(){return null==this._camera&&(this._camera=this.node.parent.getComponent(v).cameraComponent),this._camera}},{key:"usingReposition",get:function(){return this._timeToReposition>0}}]),i}(T)).prototype,"_style",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.ResetPosition}}),M=i(A.prototype,"_timeToReposition",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=i(A.prototype,"_minMovementScreenHeightRatio",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.01}}),x=i(A.prototype,"_camera",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(A.prototype,"_contentOpacity",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(A.prototype,"_pivot",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(A.prototype,"_joystickBG",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(A.prototype,"_tweenShow",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(A.prototype,"_tweenHide",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(A.prototype,"_detectClicksOnCanvas",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=A))||V));var X=function(){function t(t,i,e){this._id=void 0,this._positionHistory=[],this._referencePositionIndex=0,this._id=t,this.updatePosition(i,e),this._referencePositionIndex=0}var i=t.prototype;return i.updatePosition=function(t,i){this._positionHistory.push(new Q(t,i))},i.updateReferencePosition=function(){this._referencePositionIndex=this._positionHistory.length-1},s(t,[{key:"id",get:function(){return this._id}},{key:"referencePosition",get:function(){return this._positionHistory[this._referencePositionIndex].position}},{key:"referenceTime",get:function(){return this._positionHistory[this._referencePositionIndex].time}},{key:"lastPosition",get:function(){return this._positionHistory[this._positionHistory.length-1].position}},{key:"lastTime",get:function(){return this._positionHistory[this._positionHistory.length-1].time}},{key:"positionDelta",get:function(){return new m(this.lastPosition).subtract(this.referencePosition)}}]),t}(),Q=function(){function t(t,i){this._position=m.ZERO,this._time=0,this._position=t,this._time=i}return s(t,[{key:"position",get:function(){return this._position}},{key:"time",get:function(){return this._time}}]),t}();r._RF.pop()}}}));

System.register("chunks:///_virtual/utils.ts",["cc","./mesh-utility.ts","./index.ts","./npm.ts"],(function(e){"use strict";var t,n,o,r,i,s,a,u,c,d;return{setters:[function(e){t=e.cclegacy,n=e.Mat4,o=e.Vec3,r=e.Color,i=e.gfx,s=e.ModelComponent,a=e.Node,u=e.Layers},function(e){c=e.default},null,function(e){d=e.cce}],execute:function(){e({callGizmoFunction:function(e){return},create3DNode:m,createLineShape:function(e,t){var n=d.gizmos.EngineUtils,a=(n.createMesh,n.addMeshToNode),u=n.setMeshColor;n.AttributeName,n.updateVBAttr,n.updateIBAttr;e=e||"Line",t=t||r.WHITE;var l=c.createMesh({positions:[new o(0,0,0),new o(0,1,0),new o(1,0,0),new o(1,1,0)],indices:[0,1,1,2,2,3],primitiveType:i.PrimitiveMode.LINE_LIST}),f=m(e);a(f,l),u(f,t);var p=f.getComponent(s),v=[];return f.updatePoints=function(e){v.length=0;for(var t=1;t<e.length;t++)v.push(t-1,t);c.updateOrCreateModelMesh(p,{positions:e,indices:v,primitiveType:i.PrimitiveMode.LINE_LIST})},f},getNodeLocalPostion:p,getNodeWorldPostion:v,node2nodeLength:function(e,t,n){return f.set(n,0,0),M(e,t,f,f,!0),f.length()},node2nodePos:M}),t._RF.push({},"976acvUf6FG467gA3kK0MNs","utils",void 0);var l=new n,f=new o;function m(e){var t=new a(e);return t.layer=u.Enum.GIZMOS,t.modelColor=new r,t}function p(e,t,r,i){return void 0===i&&(i=!1),e.getWorldMatrix(l),n.invert(l,l),i?o.transformMat4Normal(r||new o,t,l):o.transformMat4(r||new o,t,l)}function v(e,t,n,r){return void 0===r&&(r=!1),e.getWorldMatrix(l),r?o.transformMat4Normal(n||new o,t,l):o.transformMat4(n||new o,t,l)}function M(e,t,n,o,r){return void 0===r&&(r=!1),v(e,n,o,r),p(t,o,o,r),o}t._RF.pop()}}}));

System.register("chunks:///_virtual/VirtualJoystick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEvent.ts","./AxisInput.ts","./VirutalJoystick%20enums.ts"],(function(t){"use strict";var i,o,s,n,c,e;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,s=t._decorator},function(t){n=t.projectEvent},function(t){c=t.AxisInput},function(t){e=t.VirtualJoystickEvent}],execute:function(){var r;o._RF.push({},"53d6ak+3nROapxBv5lms9wF","VirtualJoystick",void 0);var u=s.ccclass;t("VirtualJoystick",u("VirtualJoystick")(r=function(t){function o(){return t.apply(this,arguments)||this}i(o,t);var s=o.prototype;return s.start=function(){n.on(e[e.VistualJoystickPositionUpdated],this.onJoystickUpdate,this)},s.onDestroy=function(){n.off(e[e.VistualJoystickPositionUpdated],this.onJoystickUpdate,this)},s.onJoystickUpdate=function(t){this._horizontal=t.x,this._vertical=t.y},o}(c))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/VirutalJoystick%20enums.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var s;t("VirtualJoystickEvent",void 0),i._RF.push({},"cea81xfwhNP8KT0y4dCiHFO","VirutalJoystick%20enums",void 0),function(t){t[t.VistualJoystickPositionUpdated=0]="VistualJoystickPositionUpdated"}(s||(s=t("VirtualJoystickEvent",{}))),i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});